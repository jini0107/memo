(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bd={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Qw(){if(jv)return Zo;jv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Zo.Fragment=e,Zo.jsx=n,Zo.jsxs=n,Zo}var Qv;function Zw(){return Qv||(Qv=1,bd.exports=Qw()),bd.exports}var D=Zw(),Nd={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function eA(){if(Zv)return Je;Zv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function I(V,N,q){this.props=V,this.context=N,this.refs=A,this.updater=q||S}I.prototype.isReactComponent={},I.prototype.setState=function(V,N){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,N,"setState")},I.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function k(){}k.prototype=I.prototype;function b(V,N,q){this.props=V,this.context=N,this.refs=A,this.updater=q||S}var B=b.prototype=new k;B.constructor=b,E(B,I.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function W(){}var P={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function K(V,N,q){var G=q.ref;return{$$typeof:t,type:V,key:N,ref:G!==void 0?G:null,props:q}}function ae(V,N){return K(V.type,N,V.props)}function ce(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function me(V){var N={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(q){return N[q]})}var xe=/\/+/g;function Be(V,N){return typeof V=="object"&&V!==null&&V.key!=null?me(""+V.key):N.toString(36)}function he(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(W,W):(V.status="pending",V.then(function(N){V.status==="pending"&&(V.status="fulfilled",V.value=N)},function(N){V.status==="pending"&&(V.status="rejected",V.reason=N)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,N,q,G,z){var oe=typeof V;(oe==="undefined"||oe==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case t:case e:Ee=!0;break;case m:return Ee=V._init,Y(Ee(V._payload),N,q,G,z)}}if(Ee)return z=z(V),Ee=G===""?"."+Be(V,0):G,J(z)?(q="",Ee!=null&&(q=Ee.replace(xe,"$&/")+"/"),Y(z,N,q,"",function(Ne){return Ne})):z!=null&&(ce(z)&&(z=ae(z,q+(z.key==null||V&&V.key===z.key?"":(""+z.key).replace(xe,"$&/")+"/")+Ee)),N.push(z)),1;Ee=0;var Oe=G===""?".":G+":";if(J(V))for(var Re=0;Re<V.length;Re++)G=V[Re],oe=Oe+Be(G,Re),Ee+=Y(G,N,q,oe,z);else if(Re=T(V),typeof Re=="function")for(V=Re.call(V),Re=0;!(G=V.next()).done;)G=G.value,oe=Oe+Be(G,Re++),Ee+=Y(G,N,q,oe,z);else if(oe==="object"){if(typeof V.then=="function")return Y(he(V),N,q,G,z);throw N=String(V),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ue(V,N,q){if(V==null)return V;var G=[],z=0;return Y(V,G,"","",function(oe){return N.call(q,oe,z++)}),G}function Se(V){if(V._status===-1){var N=V._result;N=N(),N.then(function(q){(V._status===0||V._status===-1)&&(V._status=1,V._result=q)},function(q){(V._status===0||V._status===-1)&&(V._status=2,V._result=q)}),V._status===-1&&(V._status=0,V._result=N)}if(V._status===1)return V._result.default;throw V._result}var be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},He={map:ue,forEach:function(V,N,q){ue(V,function(){N.apply(this,arguments)},q)},count:function(V){var N=0;return ue(V,function(){N++}),N},toArray:function(V){return ue(V,function(N){return N})||[]},only:function(V){if(!ce(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Je.Activity=_,Je.Children=He,Je.Component=I,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=b,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return P.H.useMemoCache(V)}},Je.cache=function(V){return function(){return V.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(V,N,q){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var G=E({},V.props),z=V.key;if(N!=null)for(oe in N.key!==void 0&&(z=""+N.key),N)!Q.call(N,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&N.ref===void 0||(G[oe]=N[oe]);var oe=arguments.length-2;if(oe===1)G.children=q;else if(1<oe){for(var Ee=Array(oe),Oe=0;Oe<oe;Oe++)Ee[Oe]=arguments[Oe+2];G.children=Ee}return K(V.type,z,G)},Je.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Je.createElement=function(V,N,q){var G,z={},oe=null;if(N!=null)for(G in N.key!==void 0&&(oe=""+N.key),N)Q.call(N,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(z[G]=N[G]);var Ee=arguments.length-2;if(Ee===1)z.children=q;else if(1<Ee){for(var Oe=Array(Ee),Re=0;Re<Ee;Re++)Oe[Re]=arguments[Re+2];z.children=Oe}if(V&&V.defaultProps)for(G in Ee=V.defaultProps,Ee)z[G]===void 0&&(z[G]=Ee[G]);return K(V,oe,z)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(V){return{$$typeof:c,render:V}},Je.isValidElement=ce,Je.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:Se}},Je.memo=function(V,N){return{$$typeof:f,type:V,compare:N===void 0?null:N}},Je.startTransition=function(V){var N=P.T,q={};P.T=q;try{var G=V(),z=P.S;z!==null&&z(q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(W,be)}catch(oe){be(oe)}finally{N!==null&&q.types!==null&&(N.types=q.types),P.T=N}},Je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Je.use=function(V){return P.H.use(V)},Je.useActionState=function(V,N,q){return P.H.useActionState(V,N,q)},Je.useCallback=function(V,N){return P.H.useCallback(V,N)},Je.useContext=function(V){return P.H.useContext(V)},Je.useDebugValue=function(){},Je.useDeferredValue=function(V,N){return P.H.useDeferredValue(V,N)},Je.useEffect=function(V,N){return P.H.useEffect(V,N)},Je.useEffectEvent=function(V){return P.H.useEffectEvent(V)},Je.useId=function(){return P.H.useId()},Je.useImperativeHandle=function(V,N,q){return P.H.useImperativeHandle(V,N,q)},Je.useInsertionEffect=function(V,N){return P.H.useInsertionEffect(V,N)},Je.useLayoutEffect=function(V,N){return P.H.useLayoutEffect(V,N)},Je.useMemo=function(V,N){return P.H.useMemo(V,N)},Je.useOptimistic=function(V,N){return P.H.useOptimistic(V,N)},Je.useReducer=function(V,N,q){return P.H.useReducer(V,N,q)},Je.useRef=function(V){return P.H.useRef(V)},Je.useState=function(V){return P.H.useState(V)},Je.useSyncExternalStore=function(V,N,q){return P.H.useSyncExternalStore(V,N,q)},Je.useTransition=function(){return P.H.useTransition()},Je.version="19.2.4",Je}var ey;function N0(){return ey||(ey=1,Nd.exports=eA()),Nd.exports}var Lt=N0();const tx=ex(Lt);var Id={exports:{}},el={},Dd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function tA(){return ty||(ty=1,(function(t){function e(Y,ue){var Se=Y.length;Y.push(ue);e:for(;0<Se;){var be=Se-1>>>1,He=Y[be];if(0<s(He,ue))Y[be]=ue,Y[Se]=He,Se=be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ue=Y[0],Se=Y.pop();if(Se!==ue){Y[0]=Se;e:for(var be=0,He=Y.length,V=He>>>1;be<V;){var N=2*(be+1)-1,q=Y[N],G=N+1,z=Y[G];if(0>s(q,Se))G<He&&0>s(z,q)?(Y[be]=z,Y[G]=Se,be=G):(Y[be]=q,Y[N]=Se,be=N);else if(G<He&&0>s(z,Se))Y[be]=z,Y[G]=Se,be=G;else break e}}return ue}function s(Y,ue){var Se=Y.sortIndex-ue.sortIndex;return Se!==0?Se:Y.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,_=null,y=3,T=!1,S=!1,E=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=Y)r(f),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(f)}}function J(Y){if(E=!1,B(Y),!S)if(n(d)!==null)S=!0,W||(W=!0,me());else{var ue=n(f);ue!==null&&he(J,ue.startTime-Y)}}var W=!1,P=-1,Q=5,K=-1;function ae(){return A?!0:!(t.unstable_now()-K<Q)}function ce(){if(A=!1,W){var Y=t.unstable_now();K=Y;var ue=!0;try{e:{S=!1,E&&(E=!1,k(P),P=-1),T=!0;var Se=y;try{t:{for(B(Y),_=n(d);_!==null&&!(_.expirationTime>Y&&ae());){var be=_.callback;if(typeof be=="function"){_.callback=null,y=_.priorityLevel;var He=be(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof He=="function"){_.callback=He,B(Y),ue=!0;break t}_===n(d)&&r(d),B(Y)}else r(d);_=n(d)}if(_!==null)ue=!0;else{var V=n(f);V!==null&&he(J,V.startTime-Y),ue=!1}}break e}finally{_=null,y=Se,T=!1}ue=void 0}}finally{ue?me():W=!1}}}var me;if(typeof b=="function")me=function(){b(ce)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Be=xe.port2;xe.port1.onmessage=ce,me=function(){Be.postMessage(null)}}else me=function(){I(ce,0)};function he(Y,ue){P=I(function(){Y(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var Se=y;y=ue;try{return Y()}finally{y=Se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Se=y;y=Y;try{return ue()}finally{y=Se}},t.unstable_scheduleCallback=function(Y,ue,Se){var be=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?be+Se:be):Se=be,Y){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=Se+He,Y={id:m++,callback:ue,priorityLevel:Y,startTime:Se,expirationTime:He,sortIndex:-1},Se>be?(Y.sortIndex=Se,e(f,Y),n(d)===null&&Y===n(f)&&(E?(k(P),P=-1):E=!0,he(J,Se-be))):(Y.sortIndex=He,e(d,Y),S||T||(S=!0,W||(W=!0,me()))),Y},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(Y){var ue=y;return function(){var Se=y;y=ue;try{return Y.apply(this,arguments)}finally{y=Se}}}})(Md)),Md}var ny;function nA(){return ny||(ny=1,Dd.exports=tA()),Dd.exports}var Od={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function rA(){if(ry)return gn;ry=1;var t=N0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,m)},gn.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},gn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},gn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},gn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,_=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:T}):m==="script"&&r.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},gn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},gn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,_=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},gn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},gn.requestFormReset=function(d){r.d.r(d)},gn.unstable_batchedUpdates=function(d,f){return d(f)},gn.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var iy;function iA(){if(iy)return Od.exports;iy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Od.exports=rA(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function sA(){if(sy)return el;sy=1;var t=nA(),e=N0(),n=iA();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,h=a;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),i;if(x===h)return d(v),a;x=x.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=x;else{for(var w=!1,R=v.child;R;){if(R===u){w=!0,u=v,h=x;break}if(R===h){w=!0,h=v,u=x;break}R=R.sibling}if(!w){for(R=x.child;R;){if(R===u){w=!0,u=x,h=v;break}if(R===h){w=!0,h=x,u=v;break}R=R.sibling}if(!w)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),b=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Symbol.for("react.client.reference");function Be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===xe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case J:return"Suspense";case W:return"SuspenseList";case K:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case b:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:Be(i.type)||"Memo";case Q:a=i._payload,i=i._init;try{return Be(i(a))}catch{}}return null}var he=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},be=[],He=-1;function V(i){return{current:i}}function N(i){0>He||(i.current=be[He],be[He]=null,He--)}function q(i,a){He++,be[He]=i.current,i.current=a}var G=V(null),z=V(null),oe=V(null),Ee=V(null);function Oe(i,a){switch(q(oe,a),q(z,i),q(G,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?xv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=xv(a),i=Tv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}N(G),q(G,i)}function Re(){N(G),N(z),N(oe)}function Ne(i){i.memoizedState!==null&&q(Ee,i);var a=G.current,u=Tv(a,i.type);a!==u&&(q(z,i),q(G,u))}function rt(i){z.current===i&&(N(G),N(z)),Ee.current===i&&(N(Ee),Wo._currentValue=Se)}var je,Xt;function Xe(i){if(je===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);je=a&&a[1]||"",Xt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+i+Xt}var Fn=!1;function Tt(i,a){if(!i||Fn)return"";Fn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var ie=le}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(le){ie=le}i.call(ve.prototype)}}else{try{throw Error()}catch(le){ie=le}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),w=x[0],R=x[1];if(w&&R){var H=w.split(`
`),ee=R.split(`
`);for(v=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(h===H.length||v===ee.length)for(h=H.length-1,v=ee.length-1;1<=h&&0<=v&&H[h]!==ee[v];)v--;for(;1<=h&&0<=v;h--,v--)if(H[h]!==ee[v]){if(h!==1||v!==1)do if(h--,v--,0>v||H[h]!==ee[v]){var de=`
`+H[h].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=h&&0<=v);break}}}finally{Fn=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Xe(u):""}function ke(i,a){switch(i.tag){case 26:case 27:case 5:return Xe(i.type);case 16:return Xe("Lazy");case 13:return i.child!==a&&a!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Tt(i.type,!1);case 11:return Tt(i.type.render,!1);case 1:return Tt(i.type,!0);case 31:return Xe("Activity");default:return""}}function xn(i){try{var a="",u=null;do a+=ke(i,u),u=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Bn=Object.prototype.hasOwnProperty,yr=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,Fl=t.unstable_shouldYield,so=t.unstable_requestPaint,bt=t.unstable_now,Bs=t.unstable_getCurrentPriorityLevel,Gs=t.unstable_ImmediatePriority,Hs=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,vf=t.unstable_LowPriority,ao=t.unstable_IdlePriority,Bl=t.log,Gl=t.unstable_setDisableYieldValue,yi=null,mn=null;function _r(i){if(typeof Bl=="function"&&Gl(i),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(yi,i)}catch{}}var Tn=Math.clz32?Math.clz32:Vl,yf=Math.log,Hl=Math.LN2;function Vl(i){return i>>>=0,i===0?32:31-(yf(i)/Hl|0)|0}var es=256,Vs=262144,qs=4194304;function tr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zs(i,a,u){var h=i.pendingLanes;if(h===0)return 0;var v=0,x=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=h&134217727;return R!==0?(h=R&~x,h!==0?v=tr(h):(w&=R,w!==0?v=tr(w):u||(u=R&~i,u!==0&&(v=tr(u))))):(R=h&~x,R!==0?v=tr(R):w!==0?v=tr(w):u||(u=h&~i,u!==0&&(v=tr(u)))),v===0?0:a!==0&&a!==v&&(a&x)===0&&(x=v&-v,u=a&-a,x>=u||x===32&&(u&4194048)!==0)?a:v}function ts(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function _f(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(){var i=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),i}function oo(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function ns(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xf(i,a,u,h,v,x){var w=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var R=i.entanglements,H=i.expirationTimes,ee=i.hiddenUpdates;for(u=w&~u;0<u;){var de=31-Tn(u),ve=1<<de;R[de]=0,H[de]=-1;var ie=ee[de];if(ie!==null)for(ee[de]=null,de=0;de<ie.length;de++){var le=ie[de];le!==null&&(le.lane&=-536870913)}u&=~ve}h!==0&&zl(i,h,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(w&~a))}function zl(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Tn(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function $s(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var h=31-Tn(u),v=1<<h;v&a|i[h]&a&&(i[h]|=a),u&=~v}}function $l(i,a){var u=a&-a;return u=(u&42)!==0?1:lo(u),(u&(i.suspendedLanes|a))!==0?0:u}function lo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function C(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:zv(i.type))}function U(i,a){var u=ue.p;try{return ue.p=i,a()}finally{ue.p=u}}var M=Math.random().toString(36).slice(2),O="__reactFiber$"+M,L="__reactProps$"+M,F="__reactContainer$"+M,te="__reactEvents$"+M,pe="__reactListeners$"+M,ne="__reactHandles$"+M,re="__reactResources$"+M,se="__reactMarker$"+M;function _e(i){delete i[O],delete i[L],delete i[te],delete i[pe],delete i[ne]}function we(i){var a=i[O];if(a)return a;for(var u=i.parentNode;u;){if(a=u[F]||u[O]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=bv(i);i!==null;){if(u=i[O])return u;i=bv(i)}return a}i=u,u=i.parentNode}return null}function De(i){if(i=i[O]||i[F]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Te(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ie(i){var a=i[re];return a||(a=i[re]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pe(i){i[se]=!0}var Et=new Set,St={};function Nt(i,a){nr(i,a),nr(i+"Capture",a)}function nr(i,a){for(St[i]=a,i=0;i<a.length;i++)Et.add(a[i])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_i={},Lr={};function co(i){return Bn.call(Lr,i)?!0:Bn.call(_i,i)?!1:rs.test(i)?Lr[i]=!0:(_i[i]=!0,!1)}function bn(i,a,u){if(co(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function Jl(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function qr(i,a,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+h)}}function rr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hp(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $E(i,a,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(w){u=""+w,x.call(this,w)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Tf(i){if(!i._valueTracker){var a=hp(i)?"checked":"value";i._valueTracker=$E(i,a,""+i[a])}}function dp(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return i&&(h=hp(i)?i.checked?"true":"false":i.value),i=h,i!==u?(a.setValue(i),!0):!1}function Kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var JE=/[\n"\\]/g;function ir(i){return i.replace(JE,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ef(i,a,u,h,v,x,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+rr(a)):i.value!==""+rr(a)&&(i.value=""+rr(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Sf(i,w,rr(a)):u!=null?Sf(i,w,rr(u)):h!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+rr(R):i.removeAttribute("name")}function pp(i,a,u,h,v,x,w,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){Tf(i);return}u=u!=null?""+rr(u):"",a=a!=null?""+rr(a):u,R||a===i.value||(i.value=a),i.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=R?i.checked:!!h,i.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Tf(i)}function Sf(i,a,u){a==="number"&&Kl(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Js(i,a,u,h){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&h&&(i[u].defaultSelected=!0)}else{for(u=""+rr(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function mp(i,a,u){if(a!=null&&(a=""+rr(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+rr(u):""}function gp(i,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(he(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=rr(a),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),Tf(i)}function Ks(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var KE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vp(i,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,u):typeof u!="number"||u===0||KE.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function yp(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&u[v]!==h&&vp(i,v,h)}else for(var x in a)a.hasOwnProperty(x)&&vp(i,x,a[x])}function wf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(i){return WE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zr(){}var Af=null;function Cf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Ws=null;function _p(i){var a=De(i);if(a&&(i=a.stateNode)){var u=i[L]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ef(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ir(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==i&&h.form===i.form){var v=h[L]||null;if(!v)throw Error(r(90));Ef(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===i.form&&dp(h)}break e;case"textarea":mp(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Js(i,!!u.multiple,a,!1)}}}var Rf=!1;function xp(i,a,u){if(Rf)return i(a,u);Rf=!0;try{var h=i(a);return h}finally{if(Rf=!1,(Ys!==null||Ws!==null)&&(Lu(),Ys&&(a=Ys,i=Ws,Ws=Ys=null,_p(a),i)))for(a=0;a<i.length;a++)_p(i[a])}}function fo(i,a){var u=i.stateNode;if(u===null)return null;var h=u[L]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if($r)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){bf=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{bf=!1}var xi=null,Nf=null,Wl=null;function Tp(){if(Wl)return Wl;var i,a=Nf,u=a.length,h,v="value"in xi?xi.value:xi.textContent,x=v.length;for(i=0;i<u&&a[i]===v[i];i++);var w=u-i;for(h=1;h<=w&&a[u-h]===v[x-h];h++);return Wl=v.slice(i,1<h?1-h:void 0)}function Xl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function jl(){return!0}function Ep(){return!1}function Nn(i){function a(u,h,v,x,w){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?jl:Ep,this.isPropagationStopped=Ep,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Nn(is),po=_({},is,{view:0,detail:0}),XE=Nn(po),If,Df,mo,Zl=_({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mo&&(mo&&i.type==="mousemove"?(If=i.screenX-mo.screenX,Df=i.screenY-mo.screenY):Df=If=0,mo=i),If)},movementY:function(i){return"movementY"in i?i.movementY:Df}}),Sp=Nn(Zl),jE=_({},Zl,{dataTransfer:0}),QE=Nn(jE),ZE=_({},po,{relatedTarget:0}),Mf=Nn(ZE),eS=_({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=Nn(eS),nS=_({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rS=Nn(nS),iS=_({},is,{data:0}),wp=Nn(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lS(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=oS[i])?!!a[i]:!1}function Of(){return lS}var uS=_({},po,{key:function(i){if(i.key){var a=sS[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?aS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(i){return i.type==="keypress"?Xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cS=Nn(uS),fS=_({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=Nn(fS),hS=_({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),dS=Nn(hS),pS=_({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Nn(pS),gS=_({},Zl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=Nn(gS),yS=_({},is,{newState:0,oldState:0}),_S=Nn(yS),xS=[9,13,27,32],kf=$r&&"CompositionEvent"in window,go=null;$r&&"documentMode"in document&&(go=document.documentMode);var TS=$r&&"TextEvent"in window&&!go,Cp=$r&&(!kf||go&&8<go&&11>=go),Rp=" ",bp=!1;function Np(i,a){switch(i){case"keyup":return xS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xs=!1;function ES(i,a){switch(i){case"compositionend":return Ip(a);case"keypress":return a.which!==32?null:(bp=!0,Rp);case"textInput":return i=a.data,i===Rp&&bp?null:i;default:return null}}function SS(i,a){if(Xs)return i==="compositionend"||!kf&&Np(i,a)?(i=Tp(),Wl=Nf=xi=null,Xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cp&&a.locale!=="ko"?null:a.data;default:return null}}var wS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!wS[i.type]:a==="textarea"}function Mp(i,a,u,h){Ys?Ws?Ws.push(h):Ws=[h]:Ys=h,a=Vu(a,"onChange"),0<a.length&&(u=new Ql("onChange","change",null,u,h),i.push({event:u,listeners:a}))}var vo=null,yo=null;function AS(i){pv(i,0)}function eu(i){var a=Te(i);if(dp(a))return i}function Op(i,a){if(i==="change")return a}var kp=!1;if($r){var Lf;if($r){var Pf="oninput"in document;if(!Pf){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Pf=typeof Lp.oninput=="function"}Lf=Pf}else Lf=!1;kp=Lf&&(!document.documentMode||9<document.documentMode)}function Pp(){vo&&(vo.detachEvent("onpropertychange",Up),yo=vo=null)}function Up(i){if(i.propertyName==="value"&&eu(yo)){var a=[];Mp(a,yo,i,Cf(i)),xp(AS,a)}}function CS(i,a,u){i==="focusin"?(Pp(),vo=a,yo=u,vo.attachEvent("onpropertychange",Up)):i==="focusout"&&Pp()}function RS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eu(yo)}function bS(i,a){if(i==="click")return eu(a)}function NS(i,a){if(i==="input"||i==="change")return eu(a)}function IS(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Gn=typeof Object.is=="function"?Object.is:IS;function _o(i,a){if(Gn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Bn.call(a,v)||!Gn(i[v],a[v]))return!1}return!0}function Fp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bp(i,a){var u=Fp(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=a&&h>=a)return{node:u,offset:a-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fp(u)}}function Gp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Gp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Hp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Kl(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Kl(i.document)}return a}function Uf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var DS=$r&&"documentMode"in document&&11>=document.documentMode,js=null,Ff=null,xo=null,Bf=!1;function Vp(i,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bf||js==null||js!==Kl(h)||(h=js,"selectionStart"in h&&Uf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xo&&_o(xo,h)||(xo=h,h=Vu(Ff,"onSelect"),0<h.length&&(a=new Ql("onSelect","select",null,a,u),i.push({event:a,listeners:h}),a.target=js)))}function ss(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Qs={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Gf={},qp={};$r&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function as(i){if(Gf[i])return Gf[i];if(!Qs[i])return i;var a=Qs[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in qp)return Gf[i]=a[u];return i}var zp=as("animationend"),$p=as("animationiteration"),Jp=as("animationstart"),MS=as("transitionrun"),OS=as("transitionstart"),kS=as("transitioncancel"),Kp=as("transitionend"),Yp=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function xr(i,a){Yp.set(i,a),Nt(a,[i])}var tu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},sr=[],Zs=0,Vf=0;function nu(){for(var i=Zs,a=Vf=Zs=0;a<i;){var u=sr[a];sr[a++]=null;var h=sr[a];sr[a++]=null;var v=sr[a];sr[a++]=null;var x=sr[a];if(sr[a++]=null,h!==null&&v!==null){var w=h.pending;w===null?v.next=v:(v.next=w.next,w.next=v),h.pending=v}x!==0&&Wp(u,v,x)}}function ru(i,a,u,h){sr[Zs++]=i,sr[Zs++]=a,sr[Zs++]=u,sr[Zs++]=h,Vf|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function qf(i,a,u,h){return ru(i,a,u,h),iu(i)}function os(i,a){return ru(i,null,null,a),iu(i)}function Wp(i,a,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=i.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&a!==null&&(v=31-Tn(u),i=x.hiddenUpdates,h=i[v],h===null?i[v]=[a]:h.push(a),a.lane=u|536870912),x):null}function iu(i){if(50<Vo)throw Vo=0,Qh=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ea={};function LS(i,a,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,a,u,h){return new LS(i,a,u,h)}function zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jr(i,a){var u=i.alternate;return u===null?(u=Hn(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Xp(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function su(i,a,u,h,v,x){var w=0;if(h=i,typeof i=="function")zf(i)&&(w=1);else if(typeof i=="string")w=Gw(i,u,G.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case K:return i=Hn(31,u,a,v),i.elementType=K,i.lanes=x,i;case E:return ls(u.children,v,x,a);case A:w=8,v|=24;break;case I:return i=Hn(12,u,a,v|2),i.elementType=I,i.lanes=x,i;case J:return i=Hn(13,u,a,v),i.elementType=J,i.lanes=x,i;case W:return i=Hn(19,u,a,v),i.elementType=W,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:w=10;break e;case k:w=9;break e;case B:w=11;break e;case P:w=14;break e;case Q:w=16,h=null;break e}w=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Hn(w,u,a,v),a.elementType=i,a.type=h,a.lanes=x,a}function ls(i,a,u,h){return i=Hn(7,i,h,a),i.lanes=u,i}function $f(i,a,u){return i=Hn(6,i,null,a),i.lanes=u,i}function jp(i){var a=Hn(18,null,null,0);return a.stateNode=i,a}function Jf(i,a,u){return a=Hn(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Qp=new WeakMap;function ar(i,a){if(typeof i=="object"&&i!==null){var u=Qp.get(i);return u!==void 0?u:(a={value:i,source:a,stack:xn(a)},Qp.set(i,a),a)}return{value:i,source:a,stack:xn(a)}}var ta=[],na=0,au=null,To=0,or=[],lr=0,Ti=null,Pr=1,Ur="";function Kr(i,a){ta[na++]=To,ta[na++]=au,au=i,To=a}function Zp(i,a,u){or[lr++]=Pr,or[lr++]=Ur,or[lr++]=Ti,Ti=i;var h=Pr;i=Ur;var v=32-Tn(h)-1;h&=~(1<<v),u+=1;var x=32-Tn(a)+v;if(30<x){var w=v-v%5;x=(h&(1<<w)-1).toString(32),h>>=w,v-=w,Pr=1<<32-Tn(a)+v|u<<v|h,Ur=x+i}else Pr=1<<x|u<<v|h,Ur=i}function Kf(i){i.return!==null&&(Kr(i,1),Zp(i,1,0))}function Yf(i){for(;i===au;)au=ta[--na],ta[na]=null,To=ta[--na],ta[na]=null;for(;i===Ti;)Ti=or[--lr],or[lr]=null,Ur=or[--lr],or[lr]=null,Pr=or[--lr],or[lr]=null}function em(i,a){or[lr++]=Pr,or[lr++]=Ur,or[lr++]=Ti,Pr=a.id,Ur=a.overflow,Ti=i}var nn=null,At=null,nt=!1,Ei=null,ur=!1,Wf=Error(r(519));function Si(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(ar(a,i)),Wf}function tm(i){var a=i.stateNode,u=i.type,h=i.memoizedProps;switch(a[O]=i,a[L]=h,u){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<zo.length;u++)Ze(zo[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),pp(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),gp(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||yv(a.textContent,u)?(h.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),h.onScroll!=null&&Ze("scroll",a),h.onScrollEnd!=null&&Ze("scrollend",a),h.onClick!=null&&(a.onclick=zr),a=!0):a=!1,a||Si(i,!0)}function nm(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:nn=nn.return}}function ra(i){if(i!==nn)return!1;if(!nt)return nm(i),nt=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||dd(i.type,i.memoizedProps)),u=!u),u&&At&&Si(i),nm(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=Rv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=Rv(i)}else a===27?(a=At,Ui(i.type)?(i=yd,yd=null,At=i):At=a):At=nn?fr(i.stateNode.nextSibling):null;return!0}function us(){At=nn=null,nt=!1}function Xf(){var i=Ei;return i!==null&&(On===null?On=i:On.push.apply(On,i),Ei=null),i}function Eo(i){Ei===null?Ei=[i]:Ei.push(i)}var jf=V(null),cs=null,Yr=null;function wi(i,a,u){q(jf,a._currentValue),a._currentValue=u}function Wr(i){i._currentValue=jf.current,N(jf)}function Qf(i,a,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===u)break;i=i.return}}function Zf(i,a,u,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var w=v.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=v;for(var H=0;H<a.length;H++)if(R.context===a[H]){x.lanes|=u,R=x.alternate,R!==null&&(R.lanes|=u),Qf(x.return,u,i),h||(w=null);break e}x=R.next}}else if(v.tag===18){if(w=v.return,w===null)throw Error(r(341));w.lanes|=u,x=w.alternate,x!==null&&(x.lanes|=u),Qf(w,u,i),w=null}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===i){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}}function ia(i,a,u,h){i=null;for(var v=a,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var w=v.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=v.type;Gn(v.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(v===Ee.current){if(w=v.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Wo):i=[Wo])}v=v.return}i!==null&&Zf(a,i,u,h),a.flags|=262144}function ou(i){for(i=i.firstContext;i!==null;){if(!Gn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fs(i){cs=i,Yr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return rm(cs,i)}function lu(i,a){return cs===null&&fs(i),rm(i,a)}function rm(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Yr===null){if(i===null)throw Error(r(308));Yr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Yr=Yr.next=a;return u}var PS=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},US=t.unstable_scheduleCallback,FS=t.unstable_NormalPriority,Bt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new PS,data:new Map,refCount:0}}function So(i){i.refCount--,i.refCount===0&&US(FS,function(){i.controller.abort()})}var wo=null,th=0,sa=0,aa=null;function BS(i,a){if(wo===null){var u=wo=[];th=0,sa=id(),aa={status:"pending",value:void 0,then:function(h){u.push(h)}}}return th++,a.then(im,im),a}function im(){if(--th===0&&wo!==null){aa!==null&&(aa.status="fulfilled");var i=wo;wo=null,sa=0,aa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function GS(i,a){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var sm=Y.S;Y.S=function(i,a){Vg=bt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&BS(i,a),sm!==null&&sm(i,a)};var hs=V(null);function nh(){var i=hs.current;return i!==null?i:xt.pooledCache}function uu(i,a){a===null?q(hs,hs.current):q(hs,a.pool)}function am(){var i=nh();return i===null?null:{parent:Bt._currentValue,pool:i}}var oa=Error(r(460)),rh=Error(r(474)),cu=Error(r(542)),fu={then:function(){}};function om(i){return i=i.status,i==="fulfilled"||i==="rejected"}function lm(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(zr,zr),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,cm(i),i;default:if(typeof a.status=="string")a.then(zr,zr);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,cm(i),i}throw ps=a,oa}}function ds(i){try{var a=i._init;return a(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ps=u,oa):u}}var ps=null;function um(){if(ps===null)throw Error(r(459));var i=ps;return ps=null,i}function cm(i){if(i===oa||i===cu)throw Error(r(483))}var la=null,Ao=0;function hu(i){var a=Ao;return Ao+=1,la===null&&(la=[]),lm(la,i,a)}function Co(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function du(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function fm(i){function a(j,X){if(i){var Z=j.deletions;Z===null?(j.deletions=[X],j.flags|=16):Z.push(X)}}function u(j,X){if(!i)return null;for(;X!==null;)a(j,X),X=X.sibling;return null}function h(j){for(var X=new Map;j!==null;)j.key!==null?X.set(j.key,j):X.set(j.index,j),j=j.sibling;return X}function v(j,X){return j=Jr(j,X),j.index=0,j.sibling=null,j}function x(j,X,Z){return j.index=Z,i?(Z=j.alternate,Z!==null?(Z=Z.index,Z<X?(j.flags|=67108866,X):Z):(j.flags|=67108866,X)):(j.flags|=1048576,X)}function w(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function R(j,X,Z,ge){return X===null||X.tag!==6?(X=$f(Z,j.mode,ge),X.return=j,X):(X=v(X,Z),X.return=j,X)}function H(j,X,Z,ge){var Ge=Z.type;return Ge===E?de(j,X,Z.props.children,ge,Z.key):X!==null&&(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&ds(Ge)===X.type)?(X=v(X,Z.props),Co(X,Z),X.return=j,X):(X=su(Z.type,Z.key,Z.props,null,j.mode,ge),Co(X,Z),X.return=j,X)}function ee(j,X,Z,ge){return X===null||X.tag!==4||X.stateNode.containerInfo!==Z.containerInfo||X.stateNode.implementation!==Z.implementation?(X=Jf(Z,j.mode,ge),X.return=j,X):(X=v(X,Z.children||[]),X.return=j,X)}function de(j,X,Z,ge,Ge){return X===null||X.tag!==7?(X=ls(Z,j.mode,ge,Ge),X.return=j,X):(X=v(X,Z),X.return=j,X)}function ve(j,X,Z){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=$f(""+X,j.mode,Z),X.return=j,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return Z=su(X.type,X.key,X.props,null,j.mode,Z),Co(Z,X),Z.return=j,Z;case S:return X=Jf(X,j.mode,Z),X.return=j,X;case Q:return X=ds(X),ve(j,X,Z)}if(he(X)||me(X))return X=ls(X,j.mode,Z,null),X.return=j,X;if(typeof X.then=="function")return ve(j,hu(X),Z);if(X.$$typeof===b)return ve(j,lu(j,X),Z);du(j,X)}return null}function ie(j,X,Z,ge){var Ge=X!==null?X.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ge!==null?null:R(j,X,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===Ge?H(j,X,Z,ge):null;case S:return Z.key===Ge?ee(j,X,Z,ge):null;case Q:return Z=ds(Z),ie(j,X,Z,ge)}if(he(Z)||me(Z))return Ge!==null?null:de(j,X,Z,ge,null);if(typeof Z.then=="function")return ie(j,X,hu(Z),ge);if(Z.$$typeof===b)return ie(j,X,lu(j,Z),ge);du(j,Z)}return null}function le(j,X,Z,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return j=j.get(Z)||null,R(X,j,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case T:return j=j.get(ge.key===null?Z:ge.key)||null,H(X,j,ge,Ge);case S:return j=j.get(ge.key===null?Z:ge.key)||null,ee(X,j,ge,Ge);case Q:return ge=ds(ge),le(j,X,Z,ge,Ge)}if(he(ge)||me(ge))return j=j.get(Z)||null,de(X,j,ge,Ge,null);if(typeof ge.then=="function")return le(j,X,Z,hu(ge),Ge);if(ge.$$typeof===b)return le(j,X,Z,lu(X,ge),Ge);du(X,ge)}return null}function Le(j,X,Z,ge){for(var Ge=null,it=null,Ue=X,Ye=X=0,tt=null;Ue!==null&&Ye<Z.length;Ye++){Ue.index>Ye?(tt=Ue,Ue=null):tt=Ue.sibling;var st=ie(j,Ue,Z[Ye],ge);if(st===null){Ue===null&&(Ue=tt);break}i&&Ue&&st.alternate===null&&a(j,Ue),X=x(st,X,Ye),it===null?Ge=st:it.sibling=st,it=st,Ue=tt}if(Ye===Z.length)return u(j,Ue),nt&&Kr(j,Ye),Ge;if(Ue===null){for(;Ye<Z.length;Ye++)Ue=ve(j,Z[Ye],ge),Ue!==null&&(X=x(Ue,X,Ye),it===null?Ge=Ue:it.sibling=Ue,it=Ue);return nt&&Kr(j,Ye),Ge}for(Ue=h(Ue);Ye<Z.length;Ye++)tt=le(Ue,j,Ye,Z[Ye],ge),tt!==null&&(i&&tt.alternate!==null&&Ue.delete(tt.key===null?Ye:tt.key),X=x(tt,X,Ye),it===null?Ge=tt:it.sibling=tt,it=tt);return i&&Ue.forEach(function(Vi){return a(j,Vi)}),nt&&Kr(j,Ye),Ge}function Ve(j,X,Z,ge){if(Z==null)throw Error(r(151));for(var Ge=null,it=null,Ue=X,Ye=X=0,tt=null,st=Z.next();Ue!==null&&!st.done;Ye++,st=Z.next()){Ue.index>Ye?(tt=Ue,Ue=null):tt=Ue.sibling;var Vi=ie(j,Ue,st.value,ge);if(Vi===null){Ue===null&&(Ue=tt);break}i&&Ue&&Vi.alternate===null&&a(j,Ue),X=x(Vi,X,Ye),it===null?Ge=Vi:it.sibling=Vi,it=Vi,Ue=tt}if(st.done)return u(j,Ue),nt&&Kr(j,Ye),Ge;if(Ue===null){for(;!st.done;Ye++,st=Z.next())st=ve(j,st.value,ge),st!==null&&(X=x(st,X,Ye),it===null?Ge=st:it.sibling=st,it=st);return nt&&Kr(j,Ye),Ge}for(Ue=h(Ue);!st.done;Ye++,st=Z.next())st=le(Ue,j,Ye,st.value,ge),st!==null&&(i&&st.alternate!==null&&Ue.delete(st.key===null?Ye:st.key),X=x(st,X,Ye),it===null?Ge=st:it.sibling=st,it=st);return i&&Ue.forEach(function(jw){return a(j,jw)}),nt&&Kr(j,Ye),Ge}function yt(j,X,Z,ge){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var Ge=Z.key;X!==null;){if(X.key===Ge){if(Ge=Z.type,Ge===E){if(X.tag===7){u(j,X.sibling),ge=v(X,Z.props.children),ge.return=j,j=ge;break e}}else if(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Q&&ds(Ge)===X.type){u(j,X.sibling),ge=v(X,Z.props),Co(ge,Z),ge.return=j,j=ge;break e}u(j,X);break}else a(j,X);X=X.sibling}Z.type===E?(ge=ls(Z.props.children,j.mode,ge,Z.key),ge.return=j,j=ge):(ge=su(Z.type,Z.key,Z.props,null,j.mode,ge),Co(ge,Z),ge.return=j,j=ge)}return w(j);case S:e:{for(Ge=Z.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===Z.containerInfo&&X.stateNode.implementation===Z.implementation){u(j,X.sibling),ge=v(X,Z.children||[]),ge.return=j,j=ge;break e}else{u(j,X);break}else a(j,X);X=X.sibling}ge=Jf(Z,j.mode,ge),ge.return=j,j=ge}return w(j);case Q:return Z=ds(Z),yt(j,X,Z,ge)}if(he(Z))return Le(j,X,Z,ge);if(me(Z)){if(Ge=me(Z),typeof Ge!="function")throw Error(r(150));return Z=Ge.call(Z),Ve(j,X,Z,ge)}if(typeof Z.then=="function")return yt(j,X,hu(Z),ge);if(Z.$$typeof===b)return yt(j,X,lu(j,Z),ge);du(j,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,X!==null&&X.tag===6?(u(j,X.sibling),ge=v(X,Z),ge.return=j,j=ge):(u(j,X),ge=$f(Z,j.mode,ge),ge.return=j,j=ge),w(j)):u(j,X)}return function(j,X,Z,ge){try{Ao=0;var Ge=yt(j,X,Z,ge);return la=null,Ge}catch(Ue){if(Ue===oa||Ue===cu)throw Ue;var it=Hn(29,Ue,null,j.mode);return it.lanes=ge,it.return=j,it}finally{}}}var ms=fm(!0),hm=fm(!1),Ai=!1;function ih(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ri(i,a,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=iu(i),Wp(i,null,u),a}return ru(i,h,a,u),iu(i)}function Ro(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,$s(i,u)}}function ah(i,a){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=w:x=x.next=w,u=u.next}while(u!==null);x===null?v=x=a:x=x.next=a}else v=x=a;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var oh=!1;function bo(){if(oh){var i=aa;if(i!==null)throw i}}function No(i,a,u,h){oh=!1;var v=i.updateQueue;Ai=!1;var x=v.firstBaseUpdate,w=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var H=R,ee=H.next;H.next=null,w===null?x=ee:w.next=ee,w=H;var de=i.alternate;de!==null&&(de=de.updateQueue,R=de.lastBaseUpdate,R!==w&&(R===null?de.firstBaseUpdate=ee:R.next=ee,de.lastBaseUpdate=H))}if(x!==null){var ve=v.baseState;w=0,de=ee=H=null,R=x;do{var ie=R.lane&-536870913,le=ie!==R.lane;if(le?(et&ie)===ie:(h&ie)===ie){ie!==0&&ie===sa&&(oh=!0),de!==null&&(de=de.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Le=i,Ve=R;ie=a;var yt=u;switch(Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){ve=Le.call(yt,ve,ie);break e}ve=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,ie=typeof Le=="function"?Le.call(yt,ve,ie):Le,ie==null)break e;ve=_({},ve,ie);break e;case 2:Ai=!0}}ie=R.callback,ie!==null&&(i.flags|=64,le&&(i.flags|=8192),le=v.callbacks,le===null?v.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},de===null?(ee=de=le,H=ve):de=de.next=le,w|=ie;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;le=R,R=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);de===null&&(H=ve),v.baseState=H,v.firstBaseUpdate=ee,v.lastBaseUpdate=de,x===null&&(v.shared.lanes=0),Mi|=w,i.lanes=w,i.memoizedState=ve}}function dm(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function pm(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)dm(u[i],a)}var ua=V(null),pu=V(0);function mm(i,a){i=ii,q(pu,i),q(ua,a),ii=i|a.baseLanes}function lh(){q(pu,ii),q(ua,ua.current)}function uh(){ii=pu.current,N(ua),N(pu)}var Vn=V(null),cr=null;function bi(i){var a=i.alternate;q(Ut,Ut.current&1),q(Vn,i),cr===null&&(a===null||ua.current!==null||a.memoizedState!==null)&&(cr=i)}function ch(i){q(Ut,Ut.current),q(Vn,i),cr===null&&(cr=i)}function gm(i){i.tag===22?(q(Ut,Ut.current),q(Vn,i),cr===null&&(cr=i)):Ni()}function Ni(){q(Ut,Ut.current),q(Vn,Vn.current)}function qn(i){N(Vn),cr===i&&(cr=null),N(Ut)}var Ut=V(0);function mu(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||gd(u)||vd(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xr=0,Ke=null,gt=null,Gt=null,gu=!1,ca=!1,gs=!1,vu=0,Io=0,fa=null,HS=0;function Dt(){throw Error(r(321))}function fh(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Gn(i[u],a[u]))return!1;return!0}function hh(i,a,u,h,v,x){return Xr=x,Ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=i===null||i.memoizedState===null?Zm:Rh,gs=!1,x=u(h,v),gs=!1,ca&&(x=ym(a,u,h,v)),vm(i),x}function vm(i){Y.H=Oo;var a=gt!==null&&gt.next!==null;if(Xr=0,Gt=gt=Ke=null,gu=!1,Io=0,fa=null,a)throw Error(r(300));i===null||Ht||(i=i.dependencies,i!==null&&ou(i)&&(Ht=!0))}function ym(i,a,u,h){Ke=i;var v=0;do{if(ca&&(fa=null),Io=0,ca=!1,25<=v)throw Error(r(301));if(v+=1,Gt=gt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=eg,x=a(u,h)}while(ca);return x}function VS(){var i=Y.H,a=i.useState()[0];return a=typeof a.then=="function"?Do(a):a,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ke.flags|=1024),a}function dh(){var i=vu!==0;return vu=0,i}function ph(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function mh(i){if(gu){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}gu=!1}Xr=0,Gt=gt=Ke=null,ca=!1,Io=vu=0,fa=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ke.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Ft(){if(gt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var a=Gt===null?Ke.memoizedState:Gt.next;if(a!==null)Gt=a,gt=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Gt===null?Ke.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(i){var a=Io;return Io+=1,fa===null&&(fa=[]),i=lm(fa,i,a),a=Ke,(Gt===null?a.memoizedState:Gt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?Zm:Rh),i}function _u(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Do(i);if(i.$$typeof===b)return rn(i)}throw Error(r(438,String(i)))}function gh(i){var a=null,u=Ke.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Ke.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=yu(),Ke.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),h=0;h<i;h++)u[h]=ae;return a.index++,u}function jr(i,a){return typeof a=="function"?a(i):a}function xu(i){var a=Ft();return vh(a,gt,i)}function vh(i,a,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=i.baseQueue,x=h.pending;if(x!==null){if(v!==null){var w=v.next;v.next=x.next,x.next=w}a.baseQueue=v=x,h.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{a=v.next;var R=w=null,H=null,ee=a,de=!1;do{var ve=ee.lane&-536870913;if(ve!==ee.lane?(et&ve)===ve:(Xr&ve)===ve){var ie=ee.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ve===sa&&(de=!0);else if((Xr&ie)===ie){ee=ee.next,ie===sa&&(de=!0);continue}else ve={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(R=H=ve,w=x):H=H.next=ve,Ke.lanes|=ie,Mi|=ie;ve=ee.action,gs&&u(x,ve),x=ee.hasEagerState?ee.eagerState:u(x,ve)}else ie={lane:ve,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(R=H=ie,w=x):H=H.next=ie,Ke.lanes|=ve,Mi|=ve;ee=ee.next}while(ee!==null&&ee!==a);if(H===null?w=x:H.next=R,!Gn(x,i.memoizedState)&&(Ht=!0,de&&(u=aa,u!==null)))throw u;i.memoizedState=x,i.baseState=w,i.baseQueue=H,h.lastRenderedState=x}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function yh(i){var a=Ft(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,v=u.pending,x=a.memoizedState;if(v!==null){u.pending=null;var w=v=v.next;do x=i(x,w.action),w=w.next;while(w!==v);Gn(x,a.memoizedState)||(Ht=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,h]}function _m(i,a,u){var h=Ke,v=Ft(),x=nt;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=a();var w=!Gn((gt||v).memoizedState,u);if(w&&(v.memoizedState=u,Ht=!0),v=v.queue,Th(Em.bind(null,h,v,i),[i]),v.getSnapshot!==a||w||Gt!==null&&Gt.memoizedState.tag&1){if(h.flags|=2048,ha(9,{destroy:void 0},Tm.bind(null,h,v,u,a),null),xt===null)throw Error(r(349));x||(Xr&127)!==0||xm(h,a,u)}return u}function xm(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ke.updateQueue,a===null?(a=yu(),Ke.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Tm(i,a,u,h){a.value=u,a.getSnapshot=h,Sm(a)&&wm(i)}function Em(i,a,u){return u(function(){Sm(a)&&wm(i)})}function Sm(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Gn(i,u)}catch{return!0}}function wm(i){var a=os(i,2);a!==null&&kn(a,i,2)}function _h(i){var a=En();if(typeof i=="function"){var u=i;if(i=u(),gs){_r(!0);try{u()}finally{_r(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:i},a}function Am(i,a,u,h){return i.baseState=u,vh(i,gt,typeof h=="function"?h:jr)}function qS(i,a,u,h,v){if(Su(i))throw Error(r(485));if(i=a.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};Y.T!==null?u(!0):x.isTransition=!1,h(x),u=a.pending,u===null?(x.next=a.pending=x,Cm(a,x)):(x.next=u.next,a.pending=u.next=x)}}function Cm(i,a){var u=a.action,h=a.payload,v=i.state;if(a.isTransition){var x=Y.T,w={};Y.T=w;try{var R=u(v,h),H=Y.S;H!==null&&H(w,R),Rm(i,a,R)}catch(ee){xh(i,a,ee)}finally{x!==null&&w.types!==null&&(x.types=w.types),Y.T=x}}else try{x=u(v,h),Rm(i,a,x)}catch(ee){xh(i,a,ee)}}function Rm(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){bm(i,a,h)},function(h){return xh(i,a,h)}):bm(i,a,u)}function bm(i,a,u){a.status="fulfilled",a.value=u,Nm(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,Cm(i,u)))}function xh(i,a,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,Nm(a),a=a.next;while(a!==h)}i.action=null}function Nm(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Im(i,a){return a}function Dm(i,a){if(nt){var u=xt.formState;if(u!==null){e:{var h=Ke;if(nt){if(At){t:{for(var v=At,x=ur;v.nodeType!==8;){if(!x){v=null;break t}if(v=fr(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){At=fr(v.nextSibling),h=v.data==="F!";break e}}Si(h)}h=!1}h&&(a=u[0])}}return u=En(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:a},u.queue=h,u=Xm.bind(null,Ke,h),h.dispatch=u,h=_h(!1),x=Ch.bind(null,Ke,!1,h.queue),h=En(),v={state:a,dispatch:null,action:i,pending:null},h.queue=v,u=qS.bind(null,Ke,v,x,u),v.dispatch=u,h.memoizedState=i,[a,u,!1]}function Mm(i){var a=Ft();return Om(a,gt,i)}function Om(i,a,u){if(a=vh(i,a,Im)[0],i=xu(jr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Do(a)}catch(w){throw w===oa?cu:w}else h=a;a=Ft();var v=a.queue,x=v.dispatch;return u!==a.memoizedState&&(Ke.flags|=2048,ha(9,{destroy:void 0},zS.bind(null,v,u),null)),[h,x,i]}function zS(i,a){i.action=a}function km(i){var a=Ft(),u=gt;if(u!==null)return Om(a,u,i);Ft(),a=a.memoizedState,u=Ft();var h=u.queue.dispatch;return u.memoizedState=i,[a,h,!1]}function ha(i,a,u,h){return i={tag:i,create:u,deps:h,inst:a,next:null},a=Ke.updateQueue,a===null&&(a=yu(),Ke.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,a.lastEffect=i),i}function Lm(){return Ft().memoizedState}function Tu(i,a,u,h){var v=En();Ke.flags|=i,v.memoizedState=ha(1|a,{destroy:void 0},u,h===void 0?null:h)}function Eu(i,a,u,h){var v=Ft();h=h===void 0?null:h;var x=v.memoizedState.inst;gt!==null&&h!==null&&fh(h,gt.memoizedState.deps)?v.memoizedState=ha(a,x,u,h):(Ke.flags|=i,v.memoizedState=ha(1|a,x,u,h))}function Pm(i,a){Tu(8390656,8,i,a)}function Th(i,a){Eu(2048,8,i,a)}function $S(i){Ke.flags|=4;var a=Ke.updateQueue;if(a===null)a=yu(),Ke.updateQueue=a,a.events=[i];else{var u=a.events;u===null?a.events=[i]:u.push(i)}}function Um(i){var a=Ft().memoizedState;return $S({ref:a,nextImpl:i}),function(){if((lt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Fm(i,a){return Eu(4,2,i,a)}function Bm(i,a){return Eu(4,4,i,a)}function Gm(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Hm(i,a,u){u=u!=null?u.concat([i]):null,Eu(4,4,Gm.bind(null,a,i),u)}function Eh(){}function Vm(i,a){var u=Ft();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&fh(a,h[1])?h[0]:(u.memoizedState=[i,a],i)}function qm(i,a){var u=Ft();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&fh(a,h[1]))return h[0];if(h=i(),gs){_r(!0);try{i()}finally{_r(!1)}}return u.memoizedState=[h,a],h}function Sh(i,a,u){return u===void 0||(Xr&1073741824)!==0&&(et&261930)===0?i.memoizedState=a:(i.memoizedState=u,i=zg(),Ke.lanes|=i,Mi|=i,u)}function zm(i,a,u,h){return Gn(u,a)?u:ua.current!==null?(i=Sh(i,u,h),Gn(i,a)||(Ht=!0),i):(Xr&42)===0||(Xr&1073741824)!==0&&(et&261930)===0?(Ht=!0,i.memoizedState=u):(i=zg(),Ke.lanes|=i,Mi|=i,a)}function $m(i,a,u,h,v){var x=ue.p;ue.p=x!==0&&8>x?x:8;var w=Y.T,R={};Y.T=R,Ch(i,!1,a,u);try{var H=v(),ee=Y.S;if(ee!==null&&ee(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=GS(H,h);Mo(i,a,de,Jn(i))}else Mo(i,a,h,Jn(i))}catch(ve){Mo(i,a,{then:function(){},status:"rejected",reason:ve},Jn())}finally{ue.p=x,w!==null&&R.types!==null&&(w.types=R.types),Y.T=w}}function JS(){}function wh(i,a,u,h){if(i.tag!==5)throw Error(r(476));var v=Jm(i).queue;$m(i,v,a,Se,u===null?JS:function(){return Km(i),u(h)})}function Jm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:Se},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Km(i){var a=Jm(i);a.next===null&&(a=i.alternate.memoizedState),Mo(i,a.next.queue,{},Jn())}function Ah(){return rn(Wo)}function Ym(){return Ft().memoizedState}function Wm(){return Ft().memoizedState}function KS(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Jn();i=Ci(u);var h=Ri(a,i,u);h!==null&&(kn(h,a,u),Ro(h,a,u)),a={cache:eh()},i.payload=a;return}a=a.return}}function YS(i,a,u){var h=Jn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Su(i)?jm(a,u):(u=qf(i,a,u,h),u!==null&&(kn(u,i,h),Qm(u,a,h)))}function Xm(i,a,u){var h=Jn();Mo(i,a,u,h)}function Mo(i,a,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Su(i))jm(a,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var w=a.lastRenderedState,R=x(w,u);if(v.hasEagerState=!0,v.eagerState=R,Gn(R,w))return ru(i,a,v,0),xt===null&&nu(),!1}catch{}finally{}if(u=qf(i,a,v,h),u!==null)return kn(u,i,h),Qm(u,a,h),!0}return!1}function Ch(i,a,u,h){if(h={lane:2,revertLane:id(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Su(i)){if(a)throw Error(r(479))}else a=qf(i,u,h,2),a!==null&&kn(a,i,2)}function Su(i){var a=i.alternate;return i===Ke||a!==null&&a===Ke}function jm(i,a){ca=gu=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Qm(i,a,u){if((u&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,$s(i,u)}}var Oo={readContext:rn,use:_u,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Oo.useEffectEvent=Dt;var Zm={readContext:rn,use:_u,useCallback:function(i,a){return En().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:Pm,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,Tu(4194308,4,Gm.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Tu(4194308,4,i,a)},useInsertionEffect:function(i,a){Tu(4,2,i,a)},useMemo:function(i,a){var u=En();a=a===void 0?null:a;var h=i();if(gs){_r(!0);try{i()}finally{_r(!1)}}return u.memoizedState=[h,a],h},useReducer:function(i,a,u){var h=En();if(u!==void 0){var v=u(a);if(gs){_r(!0);try{u(a)}finally{_r(!1)}}}else v=a;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=YS.bind(null,Ke,i),[h.memoizedState,i]},useRef:function(i){var a=En();return i={current:i},a.memoizedState=i},useState:function(i){i=_h(i);var a=i.queue,u=Xm.bind(null,Ke,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:Eh,useDeferredValue:function(i,a){var u=En();return Sh(u,i,a)},useTransition:function(){var i=_h(!1);return i=$m.bind(null,Ke,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var h=Ke,v=En();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),xt===null)throw Error(r(349));(et&127)!==0||xm(h,a,u)}v.memoizedState=u;var x={value:u,getSnapshot:a};return v.queue=x,Pm(Em.bind(null,h,x,i),[i]),h.flags|=2048,ha(9,{destroy:void 0},Tm.bind(null,h,x,u,a),null),u},useId:function(){var i=En(),a=xt.identifierPrefix;if(nt){var u=Ur,h=Pr;u=(h&~(1<<32-Tn(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=vu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=HS++,a="_"+a+"r_"+u.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Ah,useFormState:Dm,useActionState:Dm,useOptimistic:function(i){var a=En();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Ch.bind(null,Ke,!0,u),u.dispatch=a,[i,a]},useMemoCache:gh,useCacheRefresh:function(){return En().memoizedState=KS.bind(null,Ke)},useEffectEvent:function(i){var a=En(),u={impl:i};return a.memoizedState=u,function(){if((lt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Rh={readContext:rn,use:_u,useCallback:Vm,useContext:rn,useEffect:Th,useImperativeHandle:Hm,useInsertionEffect:Fm,useLayoutEffect:Bm,useMemo:qm,useReducer:xu,useRef:Lm,useState:function(){return xu(jr)},useDebugValue:Eh,useDeferredValue:function(i,a){var u=Ft();return zm(u,gt.memoizedState,i,a)},useTransition:function(){var i=xu(jr)[0],a=Ft().memoizedState;return[typeof i=="boolean"?i:Do(i),a]},useSyncExternalStore:_m,useId:Ym,useHostTransitionStatus:Ah,useFormState:Mm,useActionState:Mm,useOptimistic:function(i,a){var u=Ft();return Am(u,gt,i,a)},useMemoCache:gh,useCacheRefresh:Wm};Rh.useEffectEvent=Um;var eg={readContext:rn,use:_u,useCallback:Vm,useContext:rn,useEffect:Th,useImperativeHandle:Hm,useInsertionEffect:Fm,useLayoutEffect:Bm,useMemo:qm,useReducer:yh,useRef:Lm,useState:function(){return yh(jr)},useDebugValue:Eh,useDeferredValue:function(i,a){var u=Ft();return gt===null?Sh(u,i,a):zm(u,gt.memoizedState,i,a)},useTransition:function(){var i=yh(jr)[0],a=Ft().memoizedState;return[typeof i=="boolean"?i:Do(i),a]},useSyncExternalStore:_m,useId:Ym,useHostTransitionStatus:Ah,useFormState:km,useActionState:km,useOptimistic:function(i,a){var u=Ft();return gt!==null?Am(u,gt,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:gh,useCacheRefresh:Wm};eg.useEffectEvent=Um;function bh(i,a,u,h){a=i.memoizedState,u=u(h,a),u=u==null?a:_({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Nh={enqueueSetState:function(i,a,u){i=i._reactInternals;var h=Jn(),v=Ci(h);v.payload=a,u!=null&&(v.callback=u),a=Ri(i,v,h),a!==null&&(kn(a,i,h),Ro(a,i,h))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var h=Jn(),v=Ci(h);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Ri(i,v,h),a!==null&&(kn(a,i,h),Ro(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Jn(),h=Ci(u);h.tag=2,a!=null&&(h.callback=a),a=Ri(i,h,u),a!==null&&(kn(a,i,u),Ro(a,i,u))}};function tg(i,a,u,h,v,x,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,x,w):a.prototype&&a.prototype.isPureReactComponent?!_o(u,h)||!_o(v,x):!0}function ng(i,a,u,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==i&&Nh.enqueueReplaceState(a,a.state,null)}function vs(i,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(i=i.defaultProps){u===a&&(u=_({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function rg(i){tu(i)}function ig(i){console.error(i)}function sg(i){tu(i)}function wu(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function ag(i,a,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ih(i,a,u){return u=Ci(u),u.tag=3,u.payload={element:null},u.callback=function(){wu(i,a)},u}function og(i){return i=Ci(i),i.tag=3,i}function lg(i,a,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;i.payload=function(){return v(x)},i.callback=function(){ag(a,u,h)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){ag(a,u,h),typeof v!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function WS(i,a,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&ia(a,u,v,!0),u=Vn.current,u!==null){switch(u.tag){case 31:case 13:return cr===null?Pu():u.alternate===null&&Mt===0&&(Mt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===fu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),td(i,h,v)),!1;case 22:return u.flags|=65536,h===fu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),td(i,h,v)),!1}throw Error(r(435,u.tag))}return td(i,h,v),Pu(),!1}if(nt)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==Wf&&(i=Error(r(422),{cause:h}),Eo(ar(i,u)))):(h!==Wf&&(a=Error(r(423),{cause:h}),Eo(ar(a,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=ar(h,u),v=Ih(i.stateNode,h,v),ah(i,v),Mt!==4&&(Mt=2)),!1;var x=Error(r(520),{cause:h});if(x=ar(x,u),Ho===null?Ho=[x]:Ho.push(x),Mt!==4&&(Mt=2),a===null)return!0;h=ar(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Ih(u.stateNode,h,i),ah(u,i),!1;case 1:if(a=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Oi===null||!Oi.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=og(v),lg(v,i,u,h),ah(u,v),!1}u=u.return}while(u!==null);return!1}var Dh=Error(r(461)),Ht=!1;function sn(i,a,u,h){a.child=i===null?hm(a,null,u,h):ms(a,i.child,u,h)}function ug(i,a,u,h,v){u=u.render;var x=a.ref;if("ref"in h){var w={};for(var R in h)R!=="ref"&&(w[R]=h[R])}else w=h;return fs(a),h=hh(i,a,u,w,x,v),R=dh(),i!==null&&!Ht?(ph(i,a,v),Qr(i,a,v)):(nt&&R&&Kf(a),a.flags|=1,sn(i,a,h,v),a.child)}function cg(i,a,u,h,v){if(i===null){var x=u.type;return typeof x=="function"&&!zf(x)&&x.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=x,fg(i,a,x,h,v)):(i=su(u.type,null,h,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!Bh(i,v)){var w=x.memoizedProps;if(u=u.compare,u=u!==null?u:_o,u(w,h)&&i.ref===a.ref)return Qr(i,a,v)}return a.flags|=1,i=Jr(x,h),i.ref=a.ref,i.return=a,a.child=i}function fg(i,a,u,h,v){if(i!==null){var x=i.memoizedProps;if(_o(x,h)&&i.ref===a.ref)if(Ht=!1,a.pendingProps=h=x,Bh(i,v))(i.flags&131072)!==0&&(Ht=!0);else return a.lanes=i.lanes,Qr(i,a,v)}return Mh(i,a,u,h,v)}function hg(i,a,u,h){var v=h.children,x=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,i!==null){for(h=a.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,a.child=null;return dg(i,a,x,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&uu(a,x!==null?x.cachePool:null),x!==null?mm(a,x):lh(),gm(a);else return h=a.lanes=536870912,dg(i,a,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(uu(a,x.cachePool),mm(a,x),Ni(),a.memoizedState=null):(i!==null&&uu(a,null),lh(),Ni());return sn(i,a,v,u),a.child}function ko(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function dg(i,a,u,h,v){var x=nh();return x=x===null?null:{parent:Bt._currentValue,pool:x},a.memoizedState={baseLanes:u,cachePool:x},i!==null&&uu(a,null),lh(),gm(a),i!==null&&ia(i,a,h,!0),a.childLanes=v,null}function Au(i,a){return a=Ru({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function pg(i,a,u){return ms(a,i.child,null,u),i=Au(a,a.pendingProps),i.flags|=2,qn(a),a.memoizedState=null,i}function XS(i,a,u){var h=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(nt){if(h.mode==="hidden")return i=Au(a,h),a.lanes=536870912,ko(null,i);if(ch(a),(i=At)?(i=Cv(i,ur),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ti!==null?{id:Pr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=jp(i),u.return=a,a.child=u,nn=a,At=null)):i=null,i===null)throw Si(a);return a.lanes=536870912,null}return Au(a,h)}var x=i.memoizedState;if(x!==null){var w=x.dehydrated;if(ch(a),v)if(a.flags&256)a.flags&=-257,a=pg(i,a,u);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ht||ia(i,a,u,!1),v=(u&i.childLanes)!==0,Ht||v){if(h=xt,h!==null&&(w=$l(h,u),w!==0&&w!==x.retryLane))throw x.retryLane=w,os(i,w),kn(h,i,w),Dh;Pu(),a=pg(i,a,u)}else i=x.treeContext,At=fr(w.nextSibling),nn=a,nt=!0,Ei=null,ur=!1,i!==null&&em(a,i),a=Au(a,h),a.flags|=4096;return a}return i=Jr(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Cu(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function Mh(i,a,u,h,v){return fs(a),u=hh(i,a,u,h,void 0,v),h=dh(),i!==null&&!Ht?(ph(i,a,v),Qr(i,a,v)):(nt&&h&&Kf(a),a.flags|=1,sn(i,a,u,v),a.child)}function mg(i,a,u,h,v,x){return fs(a),a.updateQueue=null,u=ym(a,h,u,v),vm(i),h=dh(),i!==null&&!Ht?(ph(i,a,x),Qr(i,a,x)):(nt&&h&&Kf(a),a.flags|=1,sn(i,a,u,x),a.child)}function gg(i,a,u,h,v){if(fs(a),a.stateNode===null){var x=ea,w=u.contextType;typeof w=="object"&&w!==null&&(x=rn(w)),x=new u(h,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Nh,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=h,x.state=a.memoizedState,x.refs={},ih(a),w=u.contextType,x.context=typeof w=="object"&&w!==null?rn(w):ea,x.state=a.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(bh(a,u,w,h),x.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&Nh.enqueueReplaceState(x,x.state,null),No(a,h,x,v),bo(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){x=a.stateNode;var R=a.memoizedProps,H=vs(u,R);x.props=H;var ee=x.context,de=u.contextType;w=ea,typeof de=="object"&&de!==null&&(w=rn(de));var ve=u.getDerivedStateFromProps;de=typeof ve=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||ee!==w)&&ng(a,x,h,w),Ai=!1;var ie=a.memoizedState;x.state=ie,No(a,h,x,v),bo(),ee=a.memoizedState,R||ie!==ee||Ai?(typeof ve=="function"&&(bh(a,u,ve,h),ee=a.memoizedState),(H=Ai||tg(a,u,H,h,ie,ee,w))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=ee),x.props=h,x.state=ee,x.context=w,h=H):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,sh(i,a),w=a.memoizedProps,de=vs(u,w),x.props=de,ve=a.pendingProps,ie=x.context,ee=u.contextType,H=ea,typeof ee=="object"&&ee!==null&&(H=rn(ee)),R=u.getDerivedStateFromProps,(ee=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==ve||ie!==H)&&ng(a,x,h,H),Ai=!1,ie=a.memoizedState,x.state=ie,No(a,h,x,v),bo();var le=a.memoizedState;w!==ve||ie!==le||Ai||i!==null&&i.dependencies!==null&&ou(i.dependencies)?(typeof R=="function"&&(bh(a,u,R,h),le=a.memoizedState),(de=Ai||tg(a,u,de,h,ie,le,H)||i!==null&&i.dependencies!==null&&ou(i.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,le,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,le,H)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=le),x.props=h,x.state=le,x.context=H,h=de):(typeof x.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),h=!1)}return x=h,Cu(i,a),h=(a.flags&128)!==0,x||h?(x=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&h?(a.child=ms(a,i.child,null,v),a.child=ms(a,null,u,v)):sn(i,a,u,v),a.memoizedState=x.state,i=a.child):i=Qr(i,a,v),i}function vg(i,a,u,h){return us(),a.flags|=256,sn(i,a,u,h),a.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(i){return{baseLanes:i,cachePool:am()}}function Lh(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=$n),i}function yg(i,a,u){var h=a.pendingProps,v=!1,x=(a.flags&128)!==0,w;if((w=x)||(w=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),w&&(v=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(nt){if(v?bi(a):Ni(),(i=At)?(i=Cv(i,ur),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ti!==null?{id:Pr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=jp(i),u.return=a,a.child=u,nn=a,At=null)):i=null,i===null)throw Si(a);return vd(i)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,v?(Ni(),v=a.mode,R=Ru({mode:"hidden",children:R},v),h=ls(h,v,u,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=kh(u),h.childLanes=Lh(i,w,u),a.memoizedState=Oh,ko(null,h)):(bi(a),Ph(a,R))}var H=i.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(x)a.flags&256?(bi(a),a.flags&=-257,a=Uh(i,a,u)):a.memoizedState!==null?(Ni(),a.child=i.child,a.flags|=128,a=null):(Ni(),R=h.fallback,v=a.mode,h=Ru({mode:"visible",children:h.children},v),R=ls(R,v,u,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,ms(a,i.child,null,u),h=a.child,h.memoizedState=kh(u),h.childLanes=Lh(i,w,u),a.memoizedState=Oh,a=ko(null,h));else if(bi(a),vd(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var ee=w.dgst;w=ee,h=Error(r(419)),h.stack="",h.digest=w,Eo({value:h,source:null,stack:null}),a=Uh(i,a,u)}else if(Ht||ia(i,a,u,!1),w=(u&i.childLanes)!==0,Ht||w){if(w=xt,w!==null&&(h=$l(w,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,os(i,h),kn(w,i,h),Dh;gd(R)||Pu(),a=Uh(i,a,u)}else gd(R)?(a.flags|=192,a.child=i.child,a=null):(i=H.treeContext,At=fr(R.nextSibling),nn=a,nt=!0,Ei=null,ur=!1,i!==null&&em(a,i),a=Ph(a,h.children),a.flags|=4096);return a}return v?(Ni(),R=h.fallback,v=a.mode,H=i.child,ee=H.sibling,h=Jr(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?R=Jr(ee,R):(R=ls(R,v,u,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,ko(null,h),h=a.child,R=i.child.memoizedState,R===null?R=kh(u):(v=R.cachePool,v!==null?(H=Bt._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=am(),R={baseLanes:R.baseLanes|u,cachePool:v}),h.memoizedState=R,h.childLanes=Lh(i,w,u),a.memoizedState=Oh,ko(i.child,h)):(bi(a),u=i.child,i=u.sibling,u=Jr(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=u,a.memoizedState=null,u)}function Ph(i,a){return a=Ru({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ru(i,a){return i=Hn(22,i,null,a),i.lanes=0,i}function Uh(i,a,u){return ms(a,i.child,null,u),i=Ph(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function _g(i,a,u){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Qf(i.return,a,u)}function Fh(i,a,u,h,v,x){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=v,w.treeForkCount=x)}function xg(i,a,u){var h=a.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var w=Ut.current,R=(w&2)!==0;if(R?(w=w&1|2,a.flags|=128):w&=1,q(Ut,w),sn(i,a,h,u),h=nt?To:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_g(i,u,a);else if(i.tag===19)_g(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&mu(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Fh(a,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&mu(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Fh(a,!0,u,null,x,h);break;case"together":Fh(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Qr(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Mi|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(ia(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=Jr(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Jr(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function Bh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&ou(i)))}function jS(i,a,u){switch(a.tag){case 3:Oe(a,a.stateNode.containerInfo),wi(a,Bt,i.memoizedState.cache),us();break;case 27:case 5:Ne(a);break;case 4:Oe(a,a.stateNode.containerInfo);break;case 10:wi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ch(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(bi(a),a.flags|=128,null):(u&a.child.childLanes)!==0?yg(i,a,u):(bi(a),i=Qr(i,a,u),i!==null?i.sibling:null);bi(a);break;case 19:var v=(i.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(ia(i,a,u,!1),h=(u&a.childLanes)!==0),v){if(h)return xg(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(Ut,Ut.current),h)break;return null;case 22:return a.lanes=0,hg(i,a,u,a.pendingProps);case 24:wi(a,Bt,i.memoizedState.cache)}return Qr(i,a,u)}function Tg(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ht=!0;else{if(!Bh(i,u)&&(a.flags&128)===0)return Ht=!1,jS(i,a,u);Ht=(i.flags&131072)!==0}else Ht=!1,nt&&(a.flags&1048576)!==0&&Zp(a,To,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=ds(a.elementType),a.type=i,typeof i=="function")zf(i)?(h=vs(i,h),a.tag=1,a=gg(null,a,i,h,u)):(a.tag=0,a=Mh(null,a,i,h,u));else{if(i!=null){var v=i.$$typeof;if(v===B){a.tag=11,a=ug(null,a,i,h,u);break e}else if(v===P){a.tag=14,a=cg(null,a,i,h,u);break e}}throw a=Be(i)||i,Error(r(306,a,""))}}return a;case 0:return Mh(i,a,a.type,a.pendingProps,u);case 1:return h=a.type,v=vs(h,a.pendingProps),gg(i,a,h,v,u);case 3:e:{if(Oe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var x=a.memoizedState;v=x.element,sh(i,a),No(a,h,null,u);var w=a.memoizedState;if(h=w.cache,wi(a,Bt,h),h!==x.cache&&Zf(a,[Bt],u,!0),bo(),h=w.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=vg(i,a,h,u);break e}else if(h!==v){v=ar(Error(r(424)),a),Eo(v),a=vg(i,a,h,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(At=fr(i.firstChild),nn=a,nt=!0,Ei=null,ur=!0,u=hm(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(us(),h===v){a=Qr(i,a,u);break e}sn(i,a,h,u)}a=a.child}return a;case 26:return Cu(i,a),i===null?(u=Mv(a.type,null,a.pendingProps,null))?a.memoizedState=u:nt||(u=a.type,i=a.pendingProps,h=qu(oe.current).createElement(u),h[O]=a,h[L]=i,an(h,u,i),Pe(h),a.stateNode=h):a.memoizedState=Mv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ne(a),i===null&&nt&&(h=a.stateNode=Nv(a.type,a.pendingProps,oe.current),nn=a,ur=!0,v=At,Ui(a.type)?(yd=v,At=fr(h.firstChild)):At=v),sn(i,a,a.pendingProps.children,u),Cu(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&nt&&((v=h=At)&&(h=Rw(h,a.type,a.pendingProps,ur),h!==null?(a.stateNode=h,nn=a,At=fr(h.firstChild),ur=!1,v=!0):v=!1),v||Si(a)),Ne(a),v=a.type,x=a.pendingProps,w=i!==null?i.memoizedProps:null,h=x.children,dd(v,x)?h=null:w!==null&&dd(v,w)&&(a.flags|=32),a.memoizedState!==null&&(v=hh(i,a,VS,null,null,u),Wo._currentValue=v),Cu(i,a),sn(i,a,h,u),a.child;case 6:return i===null&&nt&&((i=u=At)&&(u=bw(u,a.pendingProps,ur),u!==null?(a.stateNode=u,nn=a,At=null,i=!0):i=!1),i||Si(a)),null;case 13:return yg(i,a,u);case 4:return Oe(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=ms(a,null,h,u):sn(i,a,h,u),a.child;case 11:return ug(i,a,a.type,a.pendingProps,u);case 7:return sn(i,a,a.pendingProps,u),a.child;case 8:return sn(i,a,a.pendingProps.children,u),a.child;case 12:return sn(i,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,wi(a,a.type,h.value),sn(i,a,h.children,u),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,fs(a),v=rn(v),h=h(v),a.flags|=1,sn(i,a,h,u),a.child;case 14:return cg(i,a,a.type,a.pendingProps,u);case 15:return fg(i,a,a.type,a.pendingProps,u);case 19:return xg(i,a,u);case 31:return XS(i,a,u);case 22:return hg(i,a,u,a.pendingProps);case 24:return fs(a),h=rn(Bt),i===null?(v=nh(),v===null&&(v=xt,x=eh(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),a.memoizedState={parent:h,cache:v},ih(a),wi(a,Bt,v)):((i.lanes&u)!==0&&(sh(i,a),No(a,null,null,u),bo()),v=i.memoizedState,x=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),wi(a,Bt,h)):(h=x.cache,wi(a,Bt,h),h!==v.cache&&Zf(a,[Bt],u,!0))),sn(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Zr(i){i.flags|=4}function Gh(i,a,u,h,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(Yg())i.flags|=8192;else throw ps=fu,rh}else i.flags&=-16777217}function Eg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Uv(a))if(Yg())i.flags|=8192;else throw ps=fu,rh}function bu(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ql():536870912,i.lanes|=a,ga|=a)}function Lo(i,a){if(!nt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ct(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=u,a}function QS(i,a,u){var h=a.pendingProps;switch(Yf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ct(a),null;case 3:return u=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Wr(Bt),Re(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ra(a)?Zr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xf())),Ct(a),null;case 26:var v=a.type,x=a.memoizedState;return i===null?(Zr(a),x!==null?(Ct(a),Eg(a,x)):(Ct(a),Gh(a,v,null,h,u))):x?x!==i.memoizedState?(Zr(a),Ct(a),Eg(a,x)):(Ct(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Zr(a),Ct(a),Gh(a,v,i,h,u)),null;case 27:if(rt(a),u=oe.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Zr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}i=G.current,ra(a)?tm(a):(i=Nv(v,h,u),a.stateNode=i,Zr(a))}return Ct(a),null;case 5:if(rt(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Zr(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}if(x=G.current,ra(a))tm(a);else{var w=qu(oe.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?w.createElement("select",{is:h.is}):w.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?w.createElement(v,{is:h.is}):w.createElement(v)}}x[O]=a,x[L]=h;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=x;e:switch(an(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Zr(a)}}return Ct(a),Gh(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,u),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Zr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=oe.current,ra(a)){if(i=a.stateNode,u=a.memoizedProps,h=null,v=nn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[O]=a,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||yv(i.nodeValue,u)),i||Si(a,!0)}else i=qu(i).createTextNode(h),i[O]=a,a.stateNode=i}return Ct(a),null;case 31:if(u=a.memoizedState,i===null||i.memoizedState!==null){if(h=ra(a),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[O]=a}else us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),i=!1}else u=Xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return a.flags&256?(qn(a),a):(qn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ct(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ra(a),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[O]=a}else us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),v=!1}else v=Xf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(qn(a),a):(qn(a),null)}return qn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),bu(a,a.updateQueue),Ct(a),null);case 4:return Re(),i===null&&ld(a.stateNode.containerInfo),Ct(a),null;case 10:return Wr(a.type),Ct(a),null;case 19:if(N(Ut),h=a.memoizedState,h===null)return Ct(a),null;if(v=(a.flags&128)!==0,x=h.rendering,x===null)if(v)Lo(h,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=mu(i),x!==null){for(a.flags|=128,Lo(h,!1),i=x.updateQueue,a.updateQueue=i,bu(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)Xp(u,i),u=u.sibling;return q(Ut,Ut.current&1|2),nt&&Kr(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&bt()>Ou&&(a.flags|=128,v=!0,Lo(h,!1),a.lanes=4194304)}else{if(!v)if(i=mu(x),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,bu(a,i),Lo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!nt)return Ct(a),null}else 2*bt()-h.renderingStartTime>Ou&&u!==536870912&&(a.flags|=128,v=!0,Lo(h,!1),a.lanes=4194304);h.isBackwards?(x.sibling=a.child,a.child=x):(i=h.last,i!==null?i.sibling=x:a.child=x,h.last=x)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bt(),i.sibling=null,u=Ut.current,q(Ut,v?u&1|2:u&1),nt&&Kr(a,h.treeForkCount),i):(Ct(a),null);case 22:case 23:return qn(a),uh(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),u=a.updateQueue,u!==null&&bu(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),i!==null&&N(hs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Wr(Bt),Ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ZS(i,a){switch(Yf(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wr(Bt),Re(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return rt(a),null;case 31:if(a.memoizedState!==null){if(qn(a),a.alternate===null)throw Error(r(340));us()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(qn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));us()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return N(Ut),null;case 4:return Re(),null;case 10:return Wr(a.type),null;case 22:case 23:return qn(a),uh(),i!==null&&N(hs),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wr(Bt),null;case 25:return null;default:return null}}function Sg(i,a){switch(Yf(a),a.tag){case 3:Wr(Bt),Re();break;case 26:case 27:case 5:rt(a);break;case 4:Re();break;case 31:a.memoizedState!==null&&qn(a);break;case 13:qn(a);break;case 19:N(Ut);break;case 10:Wr(a.type);break;case 22:case 23:qn(a),uh(),i!==null&&N(hs);break;case 24:Wr(Bt)}}function Po(i,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&i)===i){h=void 0;var x=u.create,w=u.inst;h=x(),w.destroy=h}u=u.next}while(u!==v)}}catch(R){ft(a,a.return,R)}}function Ii(i,a,u){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&i)===i){var w=h.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,v=a;var H=u,ee=R;try{ee()}catch(de){ft(v,H,de)}}}h=h.next}while(h!==x)}}catch(de){ft(a,a.return,de)}}function wg(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{pm(a,u)}catch(h){ft(i,i.return,h)}}}function Ag(i,a,u){u.props=vs(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){ft(i,a,h)}}function Uo(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(v){ft(i,a,v)}}function Fr(i,a){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){ft(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ft(i,a,v)}else u.current=null}function Cg(i){var a=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){ft(i,i.return,v)}}function Hh(i,a,u){try{var h=i.stateNode;Tw(h,i.type,u,a),h[L]=a}catch(v){ft(i,i.return,v)}}function Rg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ui(i.type)||i.tag===4}function Vh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ui(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qh(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=zr));else if(h!==4&&(h===27&&Ui(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(qh(i,a,u),i=i.sibling;i!==null;)qh(i,a,u),i=i.sibling}function Nu(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(h!==4&&(h===27&&Ui(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Nu(i,a,u),i=i.sibling;i!==null;)Nu(i,a,u),i=i.sibling}function bg(i){var a=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);an(a,h,u),a[O]=i,a[L]=u}catch(x){ft(i,i.return,x)}}var ei=!1,Vt=!1,zh=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,jt=null;function ew(i,a){if(i=i.containerInfo,fd=Xu,i=Hp(i),Uf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var w=0,R=-1,H=-1,ee=0,de=0,ve=i,ie=null;t:for(;;){for(var le;ve!==u||v!==0&&ve.nodeType!==3||(R=w+v),ve!==x||h!==0&&ve.nodeType!==3||(H=w+h),ve.nodeType===3&&(w+=ve.nodeValue.length),(le=ve.firstChild)!==null;)ie=ve,ve=le;for(;;){if(ve===i)break t;if(ie===u&&++ee===v&&(R=w),ie===x&&++de===h&&(H=w),(le=ve.nextSibling)!==null)break;ve=ie,ie=ve.parentNode}ve=le}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(hd={focusedElem:i,selectionRange:u},Xu=!1,jt=a;jt!==null;)if(a=jt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,jt=i;else for(;jt!==null;){switch(a=jt,x=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,u=a,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var Le=vs(u.type,v);i=h.getSnapshotBeforeUpdate(Le,x),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){ft(u,u.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)md(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":md(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,jt=i;break}jt=a.return}}function Ig(i,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ni(i,u),h&4&&Po(5,u);break;case 1:if(ni(i,u),h&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(w){ft(u,u.return,w)}else{var v=vs(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(u,u.return,w)}}h&64&&wg(u),h&512&&Uo(u,u.return);break;case 3:if(ni(i,u),h&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{pm(i,a)}catch(w){ft(u,u.return,w)}}break;case 27:a===null&&h&4&&bg(u);case 26:case 5:ni(i,u),a===null&&h&4&&Cg(u),h&512&&Uo(u,u.return);break;case 12:ni(i,u);break;case 31:ni(i,u),h&4&&Og(i,u);break;case 13:ni(i,u),h&4&&kg(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=uw.bind(null,u),Nw(i,u))));break;case 22:if(h=u.memoizedState!==null||ei,!h){a=a!==null&&a.memoizedState!==null||Vt,v=ei;var x=Vt;ei=h,(Vt=a)&&!x?ri(i,u,(u.subtreeFlags&8772)!==0):ni(i,u),ei=v,Vt=x}break;case 30:break;default:ni(i,u)}}function Dg(i){var a=i.alternate;a!==null&&(i.alternate=null,Dg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&_e(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,In=!1;function ti(i,a,u){for(u=u.child;u!==null;)Mg(i,a,u),u=u.sibling}function Mg(i,a,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(yi,u)}catch{}switch(u.tag){case 26:Vt||Fr(u,a),ti(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Vt||Fr(u,a);var h=It,v=In;Ui(u.type)&&(It=u.stateNode,In=!1),ti(i,a,u),Jo(u.stateNode),It=h,In=v;break;case 5:Vt||Fr(u,a);case 6:if(h=It,v=In,It=null,ti(i,a,u),It=h,In=v,It!==null)if(In)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(u.stateNode)}catch(x){ft(u,a,x)}else try{It.removeChild(u.stateNode)}catch(x){ft(u,a,x)}break;case 18:It!==null&&(In?(i=It,wv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),wa(i)):wv(It,u.stateNode));break;case 4:h=It,v=In,It=u.stateNode.containerInfo,In=!0,ti(i,a,u),It=h,In=v;break;case 0:case 11:case 14:case 15:Ii(2,u,a),Vt||Ii(4,u,a),ti(i,a,u);break;case 1:Vt||(Fr(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Ag(u,a,h)),ti(i,a,u);break;case 21:ti(i,a,u);break;case 22:Vt=(h=Vt)||u.memoizedState!==null,ti(i,a,u),Vt=h;break;default:ti(i,a,u)}}function Og(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wa(i)}catch(u){ft(a,a.return,u)}}}function kg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wa(i)}catch(u){ft(a,a.return,u)}}function tw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Ng),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Ng),a;default:throw Error(r(435,i.tag))}}function Iu(i,a){var u=tw(i);a.forEach(function(h){if(!u.has(h)){u.add(h);var v=cw.bind(null,i,h);h.then(v,v)}})}function Dn(i,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=i,w=a,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Ui(R.type)){It=R.stateNode,In=!1;break e}break;case 5:It=R.stateNode,In=!1;break e;case 3:case 4:It=R.stateNode.containerInfo,In=!0;break e}R=R.return}if(It===null)throw Error(r(160));Mg(x,w,v),It=null,In=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Lg(a,i),a=a.sibling}var Tr=null;function Lg(i,a){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(a,i),Mn(i),h&4&&(Ii(3,i,i.return),Po(3,i),Ii(5,i,i.return));break;case 1:Dn(a,i),Mn(i),h&512&&(Vt||u===null||Fr(u,u.return)),h&64&&ei&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Tr;if(Dn(a,i),Mn(i),h&512&&(Vt||u===null||Fr(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[se]||x[O]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),an(x,h,u),x[O]=i,Pe(x),h=x;break e;case"link":var w=Lv("link","href",v).get(h+(u.href||""));if(w){for(var R=0;R<w.length;R++)if(x=w[R],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(R,1);break t}}x=v.createElement(h),an(x,h,u),v.head.appendChild(x);break;case"meta":if(w=Lv("meta","content",v).get(h+(u.content||""))){for(R=0;R<w.length;R++)if(x=w[R],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(R,1);break t}}x=v.createElement(h),an(x,h,u),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[O]=i,Pe(x),h=x}i.stateNode=h}else Pv(v,i.type,i.stateNode);else i.stateNode=kv(v,h,i.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?Pv(v,i.type,i.stateNode):kv(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Hh(i,i.memoizedProps,u.memoizedProps)}break;case 27:Dn(a,i),Mn(i),h&512&&(Vt||u===null||Fr(u,u.return)),u!==null&&h&4&&Hh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Dn(a,i),Mn(i),h&512&&(Vt||u===null||Fr(u,u.return)),i.flags&32){v=i.stateNode;try{Ks(v,"")}catch(Le){ft(i,i.return,Le)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,Hh(i,v,u!==null?u.memoizedProps:v)),h&1024&&(zh=!0);break;case 6:if(Dn(a,i),Mn(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Le){ft(i,i.return,Le)}}break;case 3:if(Ju=null,v=Tr,Tr=zu(a.containerInfo),Dn(a,i),Tr=v,Mn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{wa(a.containerInfo)}catch(Le){ft(i,i.return,Le)}zh&&(zh=!1,Pg(i));break;case 4:h=Tr,Tr=zu(i.stateNode.containerInfo),Dn(a,i),Mn(i),Tr=h;break;case 12:Dn(a,i),Mn(i);break;case 31:Dn(a,i),Mn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Iu(i,h)));break;case 13:Dn(a,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mu=bt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Iu(i,h)));break;case 22:v=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=ei,de=Vt;if(ei=ee||v,Vt=de||H,Dn(a,i),Vt=de,ei=ee,Mn(i),h&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||H||ei||Vt||ys(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){H=u=a;try{if(x=H.stateNode,v)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=H.stateNode;var ve=H.memoizedProps.style,ie=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Le){ft(H,H.return,Le)}}}else if(a.tag===6){if(u===null){H=a;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Le){ft(H,H.return,Le)}}}else if(a.tag===18){if(u===null){H=a;try{var le=H.stateNode;v?Av(le,!0):Av(H.stateNode,!1)}catch(Le){ft(H,H.return,Le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Iu(i,u))));break;case 19:Dn(a,i),Mn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Iu(i,h)));break;case 30:break;case 21:break;default:Dn(a,i),Mn(i)}}function Mn(i){var a=i.flags;if(a&2){try{for(var u,h=i.return;h!==null;){if(Rg(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=Vh(i);Nu(i,x,v);break;case 5:var w=u.stateNode;u.flags&32&&(Ks(w,""),u.flags&=-33);var R=Vh(i);Nu(i,R,w);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=Vh(i);qh(i,ee,H);break;default:throw Error(r(161))}}catch(de){ft(i,i.return,de)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Pg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Pg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ni(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ig(i,a.alternate,a),a=a.sibling}function ys(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ii(4,a,a.return),ys(a);break;case 1:Fr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Ag(a,a.return,u),ys(a);break;case 27:Jo(a.stateNode);case 26:case 5:Fr(a,a.return),ys(a);break;case 22:a.memoizedState===null&&ys(a);break;case 30:ys(a);break;default:ys(a)}i=i.sibling}}function ri(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=i,x=a,w=x.flags;switch(x.tag){case 0:case 11:case 15:ri(v,x,u),Po(4,x);break;case 1:if(ri(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){ft(h,h.return,ee)}if(h=x,v=h.updateQueue,v!==null){var R=h.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)dm(H[v],R)}catch(ee){ft(h,h.return,ee)}}u&&w&64&&wg(x),Uo(x,x.return);break;case 27:bg(x);case 26:case 5:ri(v,x,u),u&&h===null&&w&4&&Cg(x),Uo(x,x.return);break;case 12:ri(v,x,u);break;case 31:ri(v,x,u),u&&w&4&&Og(v,x);break;case 13:ri(v,x,u),u&&w&4&&kg(v,x);break;case 22:x.memoizedState===null&&ri(v,x,u),Uo(x,x.return);break;case 30:break;default:ri(v,x,u)}a=a.sibling}}function $h(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&So(u))}function Jh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&So(i))}function Er(i,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ug(i,a,u,h),a=a.sibling}function Ug(i,a,u,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Er(i,a,u,h),v&2048&&Po(9,a);break;case 1:Er(i,a,u,h);break;case 3:Er(i,a,u,h),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&So(i)));break;case 12:if(v&2048){Er(i,a,u,h),i=a.stateNode;try{var x=a.memoizedProps,w=x.id,R=x.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){ft(a,a.return,H)}}else Er(i,a,u,h);break;case 31:Er(i,a,u,h);break;case 13:Er(i,a,u,h);break;case 23:break;case 22:x=a.stateNode,w=a.alternate,a.memoizedState!==null?x._visibility&2?Er(i,a,u,h):Fo(i,a):x._visibility&2?Er(i,a,u,h):(x._visibility|=2,da(i,a,u,h,(a.subtreeFlags&10256)!==0||!1)),v&2048&&$h(w,a);break;case 24:Er(i,a,u,h),v&2048&&Jh(a.alternate,a);break;default:Er(i,a,u,h)}}function da(i,a,u,h,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=i,w=a,R=u,H=h,ee=w.flags;switch(w.tag){case 0:case 11:case 15:da(x,w,R,H,v),Po(8,w);break;case 23:break;case 22:var de=w.stateNode;w.memoizedState!==null?de._visibility&2?da(x,w,R,H,v):Fo(x,w):(de._visibility|=2,da(x,w,R,H,v)),v&&ee&2048&&$h(w.alternate,w);break;case 24:da(x,w,R,H,v),v&&ee&2048&&Jh(w.alternate,w);break;default:da(x,w,R,H,v)}a=a.sibling}}function Fo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,h=a,v=h.flags;switch(h.tag){case 22:Fo(u,h),v&2048&&$h(h.alternate,h);break;case 24:Fo(u,h),v&2048&&Jh(h.alternate,h);break;default:Fo(u,h)}a=a.sibling}}var Bo=8192;function pa(i,a,u){if(i.subtreeFlags&Bo)for(i=i.child;i!==null;)Fg(i,a,u),i=i.sibling}function Fg(i,a,u){switch(i.tag){case 26:pa(i,a,u),i.flags&Bo&&i.memoizedState!==null&&Hw(u,Tr,i.memoizedState,i.memoizedProps);break;case 5:pa(i,a,u);break;case 3:case 4:var h=Tr;Tr=zu(i.stateNode.containerInfo),pa(i,a,u),Tr=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Bo,Bo=16777216,pa(i,a,u),Bo=h):pa(i,a,u));break;default:pa(i,a,u)}}function Bg(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Go(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];jt=h,Hg(h,i)}Bg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gg(i),i=i.sibling}function Gg(i){switch(i.tag){case 0:case 11:case 15:Go(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:Go(i);break;case 12:Go(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Du(i)):Go(i);break;default:Go(i)}}function Du(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];jt=h,Hg(h,i)}Bg(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ii(8,a,a.return),Du(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Du(a));break;default:Du(a)}i=i.sibling}}function Hg(i,a){for(;jt!==null;){var u=jt;switch(u.tag){case 0:case 11:case 15:Ii(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:So(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,jt=h;else e:for(u=i;jt!==null;){h=jt;var v=h.sibling,x=h.return;if(Dg(h),h===u){jt=null;break e}if(v!==null){v.return=x,jt=v;break e}jt=x}}}var nw={getCacheForType:function(i){var a=rn(Bt),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},cacheSignal:function(){return rn(Bt).controller.signal}},rw=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,Qe=null,et=0,ct=0,zn=null,Di=!1,ma=!1,Kh=!1,ii=0,Mt=0,Mi=0,_s=0,Yh=0,$n=0,ga=0,Ho=null,On=null,Wh=!1,Mu=0,Vg=0,Ou=1/0,ku=null,Oi=null,Kt=0,ki=null,va=null,si=0,Xh=0,jh=null,qg=null,Vo=0,Qh=null;function Jn(){return(lt&2)!==0&&et!==0?et&-et:Y.T!==null?id():C()}function zg(){if($n===0)if((et&536870912)===0||nt){var i=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),$n=i}else $n=536870912;return i=Vn.current,i!==null&&(i.flags|=32),$n}function kn(i,a,u){(i===xt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(ya(i,0),Li(i,et,$n,!1)),ns(i,u),((lt&2)===0||i!==xt)&&(i===xt&&((lt&2)===0&&(_s|=u),Mt===4&&Li(i,et,$n,!1)),Br(i))}function $g(i,a,u){if((lt&6)!==0)throw Error(r(327));var h=!u&&(a&127)===0&&(a&i.expiredLanes)===0||ts(i,a),v=h?aw(i,a):ed(i,a,!0),x=h;do{if(v===0){ma&&!h&&Li(i,a,0,!1);break}else{if(u=i.current.alternate,x&&!iw(u)){v=ed(i,a,!1),x=!1;continue}if(v===2){if(x=a,i.errorRecoveryDisabledLanes&x)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var R=i;v=Ho;var H=R.current.memoizedState.isDehydrated;if(H&&(ya(R,w).flags|=256),w=ed(R,w,!1),w!==2){if(Kh&&!H){R.errorRecoveryDisabledLanes|=x,_s|=x,v=4;break e}x=On,On=v,x!==null&&(On===null?On=x:On.push.apply(On,x))}v=w}if(x=!1,v!==2)continue}}if(v===1){ya(i,0),Li(i,a,0,!0);break}e:{switch(h=i,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Li(h,a,$n,!Di);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Mu+300-bt(),10<v)){if(Li(h,a,$n,!Di),zs(h,0,!0)!==0)break e;si=a,h.timeoutHandle=Ev(Jg.bind(null,h,u,On,ku,Wh,a,$n,_s,ga,Di,x,"Throttled",-0,0),v);break e}Jg(h,u,On,ku,Wh,a,$n,_s,ga,Di,x,null,-0,0)}}break}while(!0);Br(i)}function Jg(i,a,u,h,v,x,w,R,H,ee,de,ve,ie,le){if(i.timeoutHandle=-1,ve=a.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},Fg(a,x,ve);var Le=(x&62914560)===x?Mu-bt():(x&4194048)===x?Vg-bt():0;if(Le=Vw(ve,Le),Le!==null){si=x,i.cancelPendingCommit=Le(ev.bind(null,i,a,x,u,h,v,w,R,H,de,ve,null,ie,le)),Li(i,x,w,!ee);return}}ev(i,a,x,u,h,v,w,R,H)}function iw(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!Gn(x(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Li(i,a,u,h){a&=~Yh,a&=~_s,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var v=a;0<v;){var x=31-Tn(v),w=1<<x;h[x]=-1,v&=~w}u!==0&&zl(i,u,a)}function Lu(){return(lt&6)===0?(qo(0),!1):!0}function Zh(){if(Qe!==null){if(ct===0)var i=Qe.return;else i=Qe,Yr=cs=null,mh(i),la=null,Ao=0,i=Qe;for(;i!==null;)Sg(i.alternate,i),i=i.return;Qe=null}}function ya(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,ww(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),si=0,Zh(),xt=i,Qe=u=Jr(i.current,null),et=a,ct=0,zn=null,Di=!1,ma=ts(i,a),Kh=!1,ga=$n=Yh=_s=Mi=Mt=0,On=Ho=null,Wh=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var v=31-Tn(h),x=1<<v;a|=i[v],h&=~x}return ii=a,nu(),u}function Kg(i,a){Ke=null,Y.H=Oo,a===oa||a===cu?(a=um(),ct=3):a===rh?(a=um(),ct=4):ct=a===Dh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zn=a,Qe===null&&(Mt=1,wu(i,ar(a,i.current)))}function Yg(){var i=Vn.current;return i===null?!0:(et&4194048)===et?cr===null:(et&62914560)===et||(et&536870912)!==0?i===cr:!1}function Wg(){var i=Y.H;return Y.H=Oo,i===null?Oo:i}function Xg(){var i=Y.A;return Y.A=nw,i}function Pu(){Mt=4,Di||(et&4194048)!==et&&Vn.current!==null||(ma=!0),(Mi&134217727)===0&&(_s&134217727)===0||xt===null||Li(xt,et,$n,!1)}function ed(i,a,u){var h=lt;lt|=2;var v=Wg(),x=Xg();(xt!==i||et!==a)&&(ku=null,ya(i,a)),a=!1;var w=Mt;e:do try{if(ct!==0&&Qe!==null){var R=Qe,H=zn;switch(ct){case 8:Zh(),w=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(a=!0);var ee=ct;if(ct=0,zn=null,_a(i,R,H,ee),u&&ma){w=0;break e}break;default:ee=ct,ct=0,zn=null,_a(i,R,H,ee)}}sw(),w=Mt;break}catch(de){Kg(i,de)}while(!0);return a&&i.shellSuspendCounter++,Yr=cs=null,lt=h,Y.H=v,Y.A=x,Qe===null&&(xt=null,et=0,nu()),w}function sw(){for(;Qe!==null;)jg(Qe)}function aw(i,a){var u=lt;lt|=2;var h=Wg(),v=Xg();xt!==i||et!==a?(ku=null,Ou=bt()+500,ya(i,a)):ma=ts(i,a);e:do try{if(ct!==0&&Qe!==null){a=Qe;var x=zn;t:switch(ct){case 1:ct=0,zn=null,_a(i,a,x,1);break;case 2:case 9:if(om(x)){ct=0,zn=null,Qg(a);break}a=function(){ct!==2&&ct!==9||xt!==i||(ct=7),Br(i)},x.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:om(x)?(ct=0,zn=null,Qg(a)):(ct=0,zn=null,_a(i,a,x,7));break;case 5:var w=null;switch(Qe.tag){case 26:w=Qe.memoizedState;case 5:case 27:var R=Qe;if(w?Uv(w):R.stateNode.complete){ct=0,zn=null;var H=R.sibling;if(H!==null)Qe=H;else{var ee=R.return;ee!==null?(Qe=ee,Uu(ee)):Qe=null}break t}}ct=0,zn=null,_a(i,a,x,5);break;case 6:ct=0,zn=null,_a(i,a,x,6);break;case 8:Zh(),Mt=6;break e;default:throw Error(r(462))}}ow();break}catch(de){Kg(i,de)}while(!0);return Yr=cs=null,Y.H=h,Y.A=v,lt=u,Qe!==null?0:(xt=null,et=0,nu(),Mt)}function ow(){for(;Qe!==null&&!Fl();)jg(Qe)}function jg(i){var a=Tg(i.alternate,i,ii);i.memoizedProps=i.pendingProps,a===null?Uu(i):Qe=a}function Qg(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=mg(u,a,a.pendingProps,a.type,void 0,et);break;case 11:a=mg(u,a,a.pendingProps,a.type.render,a.ref,et);break;case 5:mh(a);default:Sg(u,a),a=Qe=Xp(a,ii),a=Tg(u,a,ii)}i.memoizedProps=i.pendingProps,a===null?Uu(i):Qe=a}function _a(i,a,u,h){Yr=cs=null,mh(a),la=null,Ao=0;var v=a.return;try{if(WS(i,v,a,u,et)){Mt=1,wu(i,ar(u,i.current)),Qe=null;return}}catch(x){if(v!==null)throw Qe=v,x;Mt=1,wu(i,ar(u,i.current)),Qe=null;return}a.flags&32768?(nt||h===1?i=!0:ma||(et&536870912)!==0?i=!1:(Di=i=!0,(h===2||h===9||h===3||h===6)&&(h=Vn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Zg(a,i)):Uu(a)}function Uu(i){var a=i;do{if((a.flags&32768)!==0){Zg(a,Di);return}i=a.return;var u=QS(a.alternate,a,ii);if(u!==null){Qe=u;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=i}while(a!==null);Mt===0&&(Mt=5)}function Zg(i,a){do{var u=ZS(i.alternate,i);if(u!==null){u.flags&=32767,Qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){Qe=i;return}Qe=i=u}while(i!==null);Mt=6,Qe=null}function ev(i,a,u,h,v,x,w,R,H){i.cancelPendingCommit=null;do Fu();while(Kt!==0);if((lt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=Vf,xf(i,u,x,w,R,H),i===xt&&(Qe=xt=null,et=0),va=a,ki=i,si=u,Xh=x,jh=v,qg=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fw(er,function(){return sv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=ue.p,ue.p=2,w=lt,lt|=4;try{ew(i,a,u)}finally{lt=w,ue.p=v,Y.T=h}}Kt=1,tv(),nv(),rv()}}function tv(){if(Kt===1){Kt=0;var i=ki,a=va,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=ue.p;ue.p=2;var v=lt;lt|=4;try{Lg(a,i);var x=hd,w=Hp(i.containerInfo),R=x.focusedElem,H=x.selectionRange;if(w!==R&&R&&R.ownerDocument&&Gp(R.ownerDocument.documentElement,R)){if(H!==null&&Uf(R)){var ee=H.start,de=H.end;if(de===void 0&&(de=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(de,R.value.length);else{var ve=R.ownerDocument||document,ie=ve&&ve.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Le=R.textContent.length,Ve=Math.min(H.start,Le),yt=H.end===void 0?Ve:Math.min(H.end,Le);!le.extend&&Ve>yt&&(w=yt,yt=Ve,Ve=w);var j=Bp(R,Ve),X=Bp(R,yt);if(j&&X&&(le.rangeCount!==1||le.anchorNode!==j.node||le.anchorOffset!==j.offset||le.focusNode!==X.node||le.focusOffset!==X.offset)){var Z=ve.createRange();Z.setStart(j.node,j.offset),le.removeAllRanges(),Ve>yt?(le.addRange(Z),le.extend(X.node,X.offset)):(Z.setEnd(X.node,X.offset),le.addRange(Z))}}}}for(ve=[],le=R;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ve.length;R++){var ge=ve[R];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Xu=!!fd,hd=fd=null}finally{lt=v,ue.p=h,Y.T=u}}i.current=a,Kt=2}}function nv(){if(Kt===2){Kt=0;var i=ki,a=va,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=ue.p;ue.p=2;var v=lt;lt|=4;try{Ig(i,a.alternate,a)}finally{lt=v,ue.p=h,Y.T=u}}Kt=3}}function rv(){if(Kt===4||Kt===3){Kt=0,so();var i=ki,a=va,u=si,h=qg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Kt=5:(Kt=0,va=ki=null,iv(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Oi=null),uo(u),a=a.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(yi,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Y.T,v=ue.p,ue.p=2,Y.T=null;try{for(var x=i.onRecoverableError,w=0;w<h.length;w++){var R=h[w];x(R.value,{componentStack:R.stack})}}finally{Y.T=a,ue.p=v}}(si&3)!==0&&Fu(),Br(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===Qh?Vo++:(Vo=0,Qh=i):Vo=0,qo(0)}}function iv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,So(a)))}function Fu(){return tv(),nv(),rv(),sv()}function sv(){if(Kt!==5)return!1;var i=ki,a=Xh;Xh=0;var u=uo(si),h=Y.T,v=ue.p;try{ue.p=32>u?32:u,Y.T=null,u=jh,jh=null;var x=ki,w=si;if(Kt=0,va=ki=null,si=0,(lt&6)!==0)throw Error(r(331));var R=lt;if(lt|=4,Gg(x.current),Ug(x,x.current,w,u),lt=R,qo(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(yi,x)}catch{}return!0}finally{ue.p=v,Y.T=h,iv(i,a)}}function av(i,a,u){a=ar(u,a),a=Ih(i.stateNode,a,2),i=Ri(i,a,2),i!==null&&(ns(i,2),Br(i))}function ft(i,a,u){if(i.tag===3)av(i,i,u);else for(;a!==null;){if(a.tag===3){av(a,i,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oi===null||!Oi.has(h))){i=ar(u,i),u=og(2),h=Ri(a,u,2),h!==null&&(lg(u,h,a,i),ns(h,2),Br(h));break}}a=a.return}}function td(i,a,u){var h=i.pingCache;if(h===null){h=i.pingCache=new rw;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(u)||(Kh=!0,v.add(u),i=lw.bind(null,i,a,u),a.then(i,i))}function lw(i,a,u){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,xt===i&&(et&u)===u&&(Mt===4||Mt===3&&(et&62914560)===et&&300>bt()-Mu?(lt&2)===0&&ya(i,0):Yh|=u,ga===et&&(ga=0)),Br(i)}function ov(i,a){a===0&&(a=ql()),i=os(i,a),i!==null&&(ns(i,a),Br(i))}function uw(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),ov(i,u)}function cw(i,a){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),ov(i,u)}function fw(i,a){return yr(i,a)}var Bu=null,xa=null,nd=!1,Gu=!1,rd=!1,Pi=0;function Br(i){i!==xa&&i.next===null&&(xa===null?Bu=xa=i:xa=xa.next=i),Gu=!0,nd||(nd=!0,dw())}function qo(i,a){if(!rd&&Gu){rd=!0;do for(var u=!1,h=Bu;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var w=h.suspendedLanes,R=h.pingedLanes;x=(1<<31-Tn(42|i)+1)-1,x&=v&~(w&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,fv(h,x))}else x=et,x=zs(h,h===xt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||ts(h,x)||(u=!0,fv(h,x));h=h.next}while(u);rd=!1}}function hw(){lv()}function lv(){Gu=nd=!1;var i=0;Pi!==0&&Sw()&&(i=Pi);for(var a=bt(),u=null,h=Bu;h!==null;){var v=h.next,x=uv(h,a);x===0?(h.next=null,u===null?Bu=v:u.next=v,v===null&&(xa=u)):(u=h,(i!==0||(x&3)!==0)&&(Gu=!0)),h=v}Kt!==0&&Kt!==5||qo(i),Pi!==0&&(Pi=0)}function uv(i,a){for(var u=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var w=31-Tn(x),R=1<<w,H=v[w];H===-1?((R&u)===0||(R&h)!==0)&&(v[w]=_f(R,a)):H<=a&&(i.expiredLanes|=R),x&=~R}if(a=xt,u=et,u=zs(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===a&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&kr(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ts(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(h!==null&&kr(h),uo(u)){case 2:case 8:u=Hs;break;case 32:u=er;break;case 268435456:u=ao;break;default:u=er}return h=cv.bind(null,i),u=yr(u,h),i.callbackPriority=a,i.callbackNode=u,a}return h!==null&&h!==null&&kr(h),i.callbackPriority=2,i.callbackNode=null,2}function cv(i,a){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Fu()&&i.callbackNode!==u)return null;var h=et;return h=zs(i,i===xt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:($g(i,h,a),uv(i,bt()),i.callbackNode!=null&&i.callbackNode===u?cv.bind(null,i):null)}function fv(i,a){if(Fu())return null;$g(i,a,!0)}function dw(){Aw(function(){(lt&6)!==0?yr(Gs,hw):lv()})}function id(){if(Pi===0){var i=sa;i===0&&(i=es,es<<=1,(es&261888)===0&&(es=256)),Pi=i}return Pi}function hv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yl(""+i)}function dv(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function pw(i,a,u,h,v){if(a==="submit"&&u&&u.stateNode===v){var x=hv((v[L]||null).action),w=h.submitter;w&&(a=(a=w[L]||null)?hv(a.formAction):w.getAttribute("formAction"),a!==null&&(x=a,w=null));var R=new Ql("action","action",null,h,v);i.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Pi!==0){var H=w?dv(v,w):new FormData(v);wh(u,{pending:!0,data:H,method:v.method,action:x},null,H)}}else typeof x=="function"&&(R.preventDefault(),H=w?dv(v,w):new FormData(v),wh(u,{pending:!0,data:H,method:v.method,action:x},x,H))},currentTarget:v}]})}}for(var sd=0;sd<Hf.length;sd++){var ad=Hf[sd],mw=ad.toLowerCase(),gw=ad[0].toUpperCase()+ad.slice(1);xr(mw,"on"+gw)}xr(zp,"onAnimationEnd"),xr($p,"onAnimationIteration"),xr(Jp,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(MS,"onTransitionRun"),xr(OS,"onTransitionStart"),xr(kS,"onTransitionCancel"),xr(Kp,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),Nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function pv(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],v=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var w=h.length-1;0<=w;w--){var R=h[w],H=R.instance,ee=R.currentTarget;if(R=R.listener,H!==x&&v.isPropagationStopped())break e;x=R,v.currentTarget=ee;try{x(v)}catch(de){tu(de)}v.currentTarget=null,x=H}else for(w=0;w<h.length;w++){if(R=h[w],H=R.instance,ee=R.currentTarget,R=R.listener,H!==x&&v.isPropagationStopped())break e;x=R,v.currentTarget=ee;try{x(v)}catch(de){tu(de)}v.currentTarget=null,x=H}}}}function Ze(i,a){var u=a[te];u===void 0&&(u=a[te]=new Set);var h=i+"__bubble";u.has(h)||(mv(a,i,2,!1),u.add(h))}function od(i,a,u){var h=0;a&&(h|=4),mv(u,i,h,a)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function ld(i){if(!i[Hu]){i[Hu]=!0,Et.forEach(function(u){u!=="selectionchange"&&(vw.has(u)||od(u,!1,i),od(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Hu]||(a[Hu]=!0,od("selectionchange",!1,a))}}function mv(i,a,u,h){switch(zv(a)){case 2:var v=$w;break;case 8:v=Jw;break;default:v=Sd}u=v.bind(null,a,u,i),v=void 0,!bf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function ud(i,a,u,h,v){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===v)break;if(w===4)for(w=h.return;w!==null;){var H=w.tag;if((H===3||H===4)&&w.stateNode.containerInfo===v)return;w=w.return}for(;R!==null;){if(w=we(R),w===null)return;if(H=w.tag,H===5||H===6||H===26||H===27){h=x=w;continue e}R=R.parentNode}}h=h.return}xp(function(){var ee=x,de=Cf(u),ve=[];e:{var ie=Yp.get(i);if(ie!==void 0){var le=Ql,Le=i;switch(i){case"keypress":if(Xl(u)===0)break e;case"keydown":case"keyup":le=cS;break;case"focusin":Le="focus",le=Mf;break;case"focusout":Le="blur",le=Mf;break;case"beforeblur":case"afterblur":le=Mf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=QE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=dS;break;case zp:case $p:case Jp:le=tS;break;case Kp:le=mS;break;case"scroll":case"scrollend":le=XE;break;case"wheel":le=vS;break;case"copy":case"cut":case"paste":le=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ap;break;case"toggle":case"beforetoggle":le=_S}var Ve=(a&4)!==0,yt=!Ve&&(i==="scroll"||i==="scrollend"),j=Ve?ie!==null?ie+"Capture":null:ie;Ve=[];for(var X=ee,Z;X!==null;){var ge=X;if(Z=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||Z===null||j===null||(ge=fo(X,j),ge!=null&&Ve.push($o(X,ge,Z))),yt)break;X=X.return}0<Ve.length&&(ie=new le(ie,Le,null,u,de),ve.push({event:ie,listeners:Ve}))}}if((a&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ie&&u!==Af&&(Le=u.relatedTarget||u.fromElement)&&(we(Le)||Le[F]))break e;if((le||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Le=u.relatedTarget||u.toElement,le=ee,Le=Le?we(Le):null,Le!==null&&(yt=o(Le),Ve=Le.tag,Le!==yt||Ve!==5&&Ve!==27&&Ve!==6)&&(Le=null)):(le=null,Le=ee),le!==Le)){if(Ve=Sp,ge="onMouseLeave",j="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Ap,ge="onPointerLeave",j="onPointerEnter",X="pointer"),yt=le==null?ie:Te(le),Z=Le==null?ie:Te(Le),ie=new Ve(ge,X+"leave",le,u,de),ie.target=yt,ie.relatedTarget=Z,ge=null,we(de)===ee&&(Ve=new Ve(j,X+"enter",Le,u,de),Ve.target=Z,Ve.relatedTarget=yt,ge=Ve),yt=ge,le&&Le)t:{for(Ve=yw,j=le,X=Le,Z=0,ge=j;ge;ge=Ve(ge))Z++;ge=0;for(var Ge=X;Ge;Ge=Ve(Ge))ge++;for(;0<Z-ge;)j=Ve(j),Z--;for(;0<ge-Z;)X=Ve(X),ge--;for(;Z--;){if(j===X||X!==null&&j===X.alternate){Ve=j;break t}j=Ve(j),X=Ve(X)}Ve=null}else Ve=null;le!==null&&gv(ve,ie,le,Ve,!1),Le!==null&&yt!==null&&gv(ve,yt,Le,Ve,!0)}}e:{if(ie=ee?Te(ee):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var it=Op;else if(Dp(ie))if(kp)it=NS;else{it=RS;var Ue=CS}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&wf(ee.elementType)&&(it=Op):it=bS;if(it&&(it=it(i,ee))){Mp(ve,it,u,de);break e}Ue&&Ue(i,ie,ee),i==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&Sf(ie,"number",ie.value)}switch(Ue=ee?Te(ee):window,i){case"focusin":(Dp(Ue)||Ue.contentEditable==="true")&&(js=Ue,Ff=ee,xo=null);break;case"focusout":xo=Ff=js=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Vp(ve,u,de);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Vp(ve,u,de)}var Ye;if(kf)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Xs?Np(i,u)&&(tt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(Cp&&u.locale!=="ko"&&(Xs||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Xs&&(Ye=Tp()):(xi=de,Nf="value"in xi?xi.value:xi.textContent,Xs=!0)),Ue=Vu(ee,tt),0<Ue.length&&(tt=new wp(tt,i,null,u,de),ve.push({event:tt,listeners:Ue}),Ye?tt.data=Ye:(Ye=Ip(u),Ye!==null&&(tt.data=Ye)))),(Ye=TS?ES(i,u):SS(i,u))&&(tt=Vu(ee,"onBeforeInput"),0<tt.length&&(Ue=new wp("onBeforeInput","beforeinput",null,u,de),ve.push({event:Ue,listeners:tt}),Ue.data=Ye)),pw(ve,i,ee,u,de)}pv(ve,a)})}function $o(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Vu(i,a){for(var u=a+"Capture",h=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=fo(i,u),v!=null&&h.unshift($o(i,v,x)),v=fo(i,a),v!=null&&h.push($o(i,v,x))),i.tag===3)return h;i=i.return}return[]}function yw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function gv(i,a,u,h,v){for(var x=a._reactName,w=[];u!==null&&u!==h;){var R=u,H=R.alternate,ee=R.stateNode;if(R=R.tag,H!==null&&H===h)break;R!==5&&R!==26&&R!==27||ee===null||(H=ee,v?(ee=fo(u,x),ee!=null&&w.unshift($o(u,ee,H))):v||(ee=fo(u,x),ee!=null&&w.push($o(u,ee,H)))),u=u.return}w.length!==0&&i.push({event:a,listeners:w})}var _w=/\r\n?/g,xw=/\u0000|\uFFFD/g;function vv(i){return(typeof i=="string"?i:""+i).replace(_w,`
`).replace(xw,"")}function yv(i,a){return a=vv(a),vv(i)===a}function vt(i,a,u,h,v,x){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ks(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ks(i,""+h);break;case"className":Jl(i,"class",h);break;case"tabIndex":Jl(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(i,u,h);break;case"style":yp(i,h,x);break;case"data":if(a!=="object"){Jl(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Yl(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(a!=="input"&&vt(i,a,"name",v.name,v,null),vt(i,a,"formEncType",v.formEncType,v,null),vt(i,a,"formMethod",v.formMethod,v,null),vt(i,a,"formTarget",v.formTarget,v,null)):(vt(i,a,"encType",v.encType,v,null),vt(i,a,"method",v.method,v,null),vt(i,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Yl(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=zr);break;case"onScroll":h!=null&&Ze("scroll",i);break;case"onScrollEnd":h!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Yl(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),bn(i,"popover",h);break;case"xlinkActuate":qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":qr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":qr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":qr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":qr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":bn(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=YE.get(u)||u,bn(i,u,h))}}function cd(i,a,u,h,v,x){switch(u){case"style":yp(i,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Ks(i,h):(typeof h=="number"||typeof h=="bigint")&&Ks(i,""+h);break;case"onScroll":h!=null&&Ze("scroll",i);break;case"onScrollEnd":h!=null&&Ze("scrollend",i);break;case"onClick":h!=null&&(i.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!St.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),x=i[L]||null,x=x!=null?x[u]:null,typeof x=="function"&&i.removeEventListener(a,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,h,v);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):bn(i,u,h)}}}function an(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var w=u[x];if(w!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,x,w,u,null)}}v&&vt(i,a,"srcSet",u.srcSet,u,null),h&&vt(i,a,"src",u.src,u,null);return;case"input":Ze("invalid",i);var R=x=w=v=null,H=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var de=u[h];if(de!=null)switch(h){case"name":v=de;break;case"type":w=de;break;case"checked":H=de;break;case"defaultChecked":ee=de;break;case"value":x=de;break;case"defaultValue":R=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:vt(i,a,h,de,u,null)}}pp(i,x,R,H,ee,w,v,!1);return;case"select":Ze("invalid",i),h=w=x=null;for(v in u)if(u.hasOwnProperty(v)&&(R=u[v],R!=null))switch(v){case"value":x=R;break;case"defaultValue":w=R;break;case"multiple":h=R;default:vt(i,a,v,R,u,null)}a=x,u=w,i.multiple=!!h,a!=null?Js(i,!!h,a,!1):u!=null&&Js(i,!!h,u,!0);return;case"textarea":Ze("invalid",i),x=v=h=null;for(w in u)if(u.hasOwnProperty(w)&&(R=u[w],R!=null))switch(w){case"value":h=R;break;case"defaultValue":v=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:vt(i,a,w,R,u,null)}gp(i,h,v,x);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:vt(i,a,H,h,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(h=0;h<zo.length;h++)Ze(zo[h],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,ee,h,u,null)}return;default:if(wf(a)){for(de in u)u.hasOwnProperty(de)&&(h=u[de],h!==void 0&&cd(i,a,de,h,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(h=u[R],h!=null&&vt(i,a,R,h,u,null))}function Tw(i,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,w=null,R=null,H=null,ee=null,de=null;for(le in u){var ve=u[le];if(u.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=ve;default:h.hasOwnProperty(le)||vt(i,a,le,null,h,ve)}}for(var ie in h){var le=h[ie];if(ve=u[ie],h.hasOwnProperty(ie)&&(le!=null||ve!=null))switch(ie){case"type":x=le;break;case"name":v=le;break;case"checked":ee=le;break;case"defaultChecked":de=le;break;case"value":w=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==ve&&vt(i,a,ie,le,h,ve)}}Ef(i,w,R,H,ee,de,x,v);return;case"select":le=w=R=ie=null;for(x in u)if(H=u[x],u.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":le=H;default:h.hasOwnProperty(x)||vt(i,a,x,null,h,H)}for(v in h)if(x=h[v],H=u[v],h.hasOwnProperty(v)&&(x!=null||H!=null))switch(v){case"value":ie=x;break;case"defaultValue":R=x;break;case"multiple":w=x;default:x!==H&&vt(i,a,v,x,h,H)}a=R,u=w,h=le,ie!=null?Js(i,!!u,ie,!1):!!h!=!!u&&(a!=null?Js(i,!!u,a,!0):Js(i,!!u,u?[]:"",!1));return;case"textarea":le=ie=null;for(R in u)if(v=u[R],u.hasOwnProperty(R)&&v!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:vt(i,a,R,null,h,v)}for(w in h)if(v=h[w],x=u[w],h.hasOwnProperty(w)&&(v!=null||x!=null))switch(w){case"value":ie=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&vt(i,a,w,v,h,x)}mp(i,ie,le);return;case"option":for(var Le in u)if(ie=u[Le],u.hasOwnProperty(Le)&&ie!=null&&!h.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:vt(i,a,Le,null,h,ie)}for(H in h)if(ie=h[H],le=u[H],h.hasOwnProperty(H)&&ie!==le&&(ie!=null||le!=null))switch(H){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:vt(i,a,H,ie,h,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in u)ie=u[Ve],u.hasOwnProperty(Ve)&&ie!=null&&!h.hasOwnProperty(Ve)&&vt(i,a,Ve,null,h,ie);for(ee in h)if(ie=h[ee],le=u[ee],h.hasOwnProperty(ee)&&ie!==le&&(ie!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:vt(i,a,ee,ie,h,le)}return;default:if(wf(a)){for(var yt in u)ie=u[yt],u.hasOwnProperty(yt)&&ie!==void 0&&!h.hasOwnProperty(yt)&&cd(i,a,yt,void 0,h,ie);for(de in h)ie=h[de],le=u[de],!h.hasOwnProperty(de)||ie===le||ie===void 0&&le===void 0||cd(i,a,de,ie,h,le);return}}for(var j in u)ie=u[j],u.hasOwnProperty(j)&&ie!=null&&!h.hasOwnProperty(j)&&vt(i,a,j,null,h,ie);for(ve in h)ie=h[ve],le=u[ve],!h.hasOwnProperty(ve)||ie===le||ie==null&&le==null||vt(i,a,ve,ie,h,le)}function _v(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ew(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,w=v.initiatorType,R=v.duration;if(x&&R&&_v(w)){for(w=0,R=v.responseEnd,h+=1;h<u.length;h++){var H=u[h],ee=H.startTime;if(ee>R)break;var de=H.transferSize,ve=H.initiatorType;de&&_v(ve)&&(H=H.responseEnd,w+=de*(H<R?1:(R-ee)/(H-ee)))}if(--h,a+=8*(x+w)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var fd=null,hd=null;function qu(i){return i.nodeType===9?i:i.ownerDocument}function xv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function dd(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pd=null;function Sw(){var i=window.event;return i&&i.type==="popstate"?i===pd?!1:(pd=i,!0):(pd=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(i){return Sv.resolve(null).then(i).catch(Cw)}:Ev;function Cw(i){setTimeout(function(){throw i})}function Ui(i){return i==="head"}function wv(i,a){var u=a,h=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(v),wa(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Jo(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Jo(u);for(var x=u.firstChild;x;){var w=x.nextSibling,R=x.nodeName;x[se]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=w}}else u==="body"&&Jo(i.ownerDocument.body);u=v}while(u);wa(a)}function Av(i,a){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function md(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":md(u),_e(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Rw(i,a,u,h){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[se])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=fr(i.nextSibling),i===null)break}return null}function bw(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=fr(i.nextSibling),i===null))return null;return i}function Cv(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=fr(i.nextSibling),i===null))return null;return i}function gd(i){return i.data==="$?"||i.data==="$~"}function vd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Nw(i,a){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function fr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var yd=null;function Rv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(a===0)return fr(i.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}i=i.nextSibling}return null}function bv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return i;a--}else u!=="/$"&&u!=="/&"||a++}i=i.previousSibling}return null}function Nv(i,a,u){switch(a=qu(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Jo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);_e(i)}var hr=new Map,Iv=new Set;function zu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ai=ue.d;ue.d={f:Iw,r:Dw,D:Mw,C:Ow,L:kw,m:Lw,X:Uw,S:Pw,M:Fw};function Iw(){var i=ai.f(),a=Lu();return i||a}function Dw(i){var a=De(i);a!==null&&a.tag===5&&a.type==="form"?Km(a):ai.r(i)}var Ta=typeof document>"u"?null:document;function Dv(i,a,u){var h=Ta;if(h&&typeof a=="string"&&a){var v=ir(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Iv.has(v)||(Iv.add(v),i={rel:i,crossOrigin:u,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),an(a,"link",i),Pe(a),h.head.appendChild(a)))}}function Mw(i){ai.D(i),Dv("dns-prefetch",i,null)}function Ow(i,a){ai.C(i,a),Dv("preconnect",i,a)}function kw(i,a,u){ai.L(i,a,u);var h=Ta;if(h&&i&&a){var v='link[rel="preload"][as="'+ir(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+ir(u.imageSizes)+'"]')):v+='[href="'+ir(i)+'"]';var x=v;switch(a){case"style":x=Ea(i);break;case"script":x=Sa(i)}hr.has(x)||(i=_({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),hr.set(x,i),h.querySelector(v)!==null||a==="style"&&h.querySelector(Ko(x))||a==="script"&&h.querySelector(Yo(x))||(a=h.createElement("link"),an(a,"link",i),Pe(a),h.head.appendChild(a)))}}function Lw(i,a){ai.m(i,a);var u=Ta;if(u&&i){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+ir(h)+'"][href="'+ir(i)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Sa(i)}if(!hr.has(x)&&(i=_({rel:"modulepreload",href:i},a),hr.set(x,i),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yo(x)))return}h=u.createElement("link"),an(h,"link",i),Pe(h),u.head.appendChild(h)}}}function Pw(i,a,u){ai.S(i,a,u);var h=Ta;if(h&&i){var v=Ie(h).hoistableStyles,x=Ea(i);a=a||"default";var w=v.get(x);if(!w){var R={loading:0,preload:null};if(w=h.querySelector(Ko(x)))R.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},u),(u=hr.get(x))&&_d(i,u);var H=w=h.createElement("link");Pe(H),an(H,"link",i),H._p=new Promise(function(ee,de){H.onload=ee,H.onerror=de}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,$u(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:R},v.set(x,w)}}}function Uw(i,a){ai.X(i,a);var u=Ta;if(u&&i){var h=Ie(u).hoistableScripts,v=Sa(i),x=h.get(v);x||(x=u.querySelector(Yo(v)),x||(i=_({src:i,async:!0},a),(a=hr.get(v))&&xd(i,a),x=u.createElement("script"),Pe(x),an(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function Fw(i,a){ai.M(i,a);var u=Ta;if(u&&i){var h=Ie(u).hoistableScripts,v=Sa(i),x=h.get(v);x||(x=u.querySelector(Yo(v)),x||(i=_({src:i,async:!0,type:"module"},a),(a=hr.get(v))&&xd(i,a),x=u.createElement("script"),Pe(x),an(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function Mv(i,a,u,h){var v=(v=oe.current)?zu(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ea(u.href),u=Ie(v).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ea(u.href);var x=Ie(v).hoistableStyles,w=x.get(i);if(w||(v=v.ownerDocument||v,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,w),(x=v.querySelector(Ko(i)))&&!x._p&&(w.instance=x,w.state.loading=5),hr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},hr.set(i,u),x||Bw(v,i,u,w.state))),a&&h===null)throw Error(r(528,""));return w}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Sa(u),u=Ie(v).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ea(i){return'href="'+ir(i)+'"'}function Ko(i){return'link[rel="stylesheet"]['+i+"]"}function Ov(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function Bw(i,a,u,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),an(a,"link",u),Pe(a),i.head.appendChild(a))}function Sa(i){return'[src="'+ir(i)+'"]'}function Yo(i){return"script[async]"+i}function kv(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+ir(u.href)+'"]');if(h)return a.instance=h,Pe(h),h;var v=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Pe(h),an(h,"style",v),$u(h,u.precedence,i),a.instance=h;case"stylesheet":v=Ea(u.href);var x=i.querySelector(Ko(v));if(x)return a.state.loading|=4,a.instance=x,Pe(x),x;h=Ov(u),(v=hr.get(v))&&_d(h,v),x=(i.ownerDocument||i).createElement("link"),Pe(x);var w=x;return w._p=new Promise(function(R,H){w.onload=R,w.onerror=H}),an(x,"link",h),a.state.loading|=4,$u(x,u.precedence,i),a.instance=x;case"script":return x=Sa(u.src),(v=i.querySelector(Yo(x)))?(a.instance=v,Pe(v),v):(h=u,(v=hr.get(x))&&(h=_({},u),xd(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),Pe(v),an(v,"link",h),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,$u(h,u.precedence,i));return a.instance}function $u(i,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,w=0;w<h.length;w++){var R=h[w];if(R.dataset.precedence===a)x=R;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function _d(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function xd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ju=null;function Lv(i,a,u){if(Ju===null){var h=new Map,v=Ju=new Map;v.set(u,h)}else v=Ju,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var x=u[v];if(!(x[se]||x[O]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(a)||"";w=i+w;var R=h.get(w);R?R.push(x):h.set(w,[x])}}return h}function Pv(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function Gw(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Uv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Hw(i,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ea(h.href),x=a.querySelector(Ko(v));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Ku.bind(i),a.then(i,i)),u.state.loading|=4,u.instance=x,Pe(x);return}x=a.ownerDocument||a,h=Ov(h),(v=hr.get(v))&&_d(h,v),x=x.createElement("link"),Pe(x);var w=x;w._p=new Promise(function(R,H){w.onload=R,w.onerror=H}),an(x,"link",h),u.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Ku.bind(i),a.addEventListener("load",u),a.addEventListener("error",u))}}var Td=0;function Vw(i,a){return i.stylesheets&&i.count===0&&Wu(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Wu(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+a);0<i.imgBytes&&Td===0&&(Td=62500*Ew());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wu(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>Td?50:800)+a);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yu=null;function Wu(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yu=new Map,a.forEach(qw,i),Yu=null,Ku.call(i))}function qw(i,a){if(!(a.state.loading&4)){var u=Yu.get(i);if(u)var h=u.get(null);else{u=new Map,Yu.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var w=v[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),h=w)}h&&u.set(null,h)}v=a.instance,w=v.getAttribute("data-precedence"),x=u.get(w)||h,x===h&&u.set(null,v),u.set(w,v),this.count++,h=Ku.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var Wo={$$typeof:b,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function zw(i,a,u,h,v,x,w,R,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Fv(i,a,u,h,v,x,w,R,H,ee,de,ve){return i=new zw(i,a,u,w,H,ee,de,ve,R),a=1,x===!0&&(a|=24),x=Hn(3,null,null,a),i.current=x,x.stateNode=i,a=eh(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:a},ih(x),i}function Bv(i){return i?(i=ea,i):ea}function Gv(i,a,u,h,v,x){v=Bv(v),h.context===null?h.context=v:h.pendingContext=v,h=Ci(a),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=Ri(i,h,a),u!==null&&(kn(u,i,a),Ro(u,i,a))}function Hv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Ed(i,a){Hv(i,a),(i=i.alternate)&&Hv(i,a)}function Vv(i){if(i.tag===13||i.tag===31){var a=os(i,67108864);a!==null&&kn(a,i,67108864),Ed(i,67108864)}}function qv(i){if(i.tag===13||i.tag===31){var a=Jn();a=lo(a);var u=os(i,a);u!==null&&kn(u,i,a),Ed(i,a)}}var Xu=!0;function $w(i,a,u,h){var v=Y.T;Y.T=null;var x=ue.p;try{ue.p=2,Sd(i,a,u,h)}finally{ue.p=x,Y.T=v}}function Jw(i,a,u,h){var v=Y.T;Y.T=null;var x=ue.p;try{ue.p=8,Sd(i,a,u,h)}finally{ue.p=x,Y.T=v}}function Sd(i,a,u,h){if(Xu){var v=wd(h);if(v===null)ud(i,a,h,ju,u),$v(i,h);else if(Yw(v,i,a,u,h))h.stopPropagation();else if($v(i,h),a&4&&-1<Kw.indexOf(i)){for(;v!==null;){var x=De(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=tr(x.pendingLanes);if(w!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var H=1<<31-Tn(w);R.entanglements[1]|=H,w&=~H}Br(x),(lt&6)===0&&(Ou=bt()+500,qo(0))}}break;case 31:case 13:R=os(x,2),R!==null&&kn(R,x,2),Lu(),Ed(x,2)}if(x=wd(h),x===null&&ud(i,a,h,ju,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else ud(i,a,h,null,u)}}function wd(i){return i=Cf(i),Ad(i)}var ju=null;function Ad(i){if(ju=null,i=we(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=l(a),i!==null)return i;i=null}else if(u===31){if(i=c(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ju=i,null}function zv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case Gs:return 2;case Hs:return 8;case er:case vf:return 32;case ao:return 268435456;default:return 32}default:return 32}}var Cd=!1,Fi=null,Bi=null,Gi=null,Xo=new Map,jo=new Map,Hi=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(i,a){switch(i){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Xo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(a.pointerId)}}function Qo(i,a,u,h,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},a!==null&&(a=De(a),a!==null&&Vv(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function Yw(i,a,u,h,v){switch(a){case"focusin":return Fi=Qo(Fi,i,a,u,h,v),!0;case"dragenter":return Bi=Qo(Bi,i,a,u,h,v),!0;case"mouseover":return Gi=Qo(Gi,i,a,u,h,v),!0;case"pointerover":var x=v.pointerId;return Xo.set(x,Qo(Xo.get(x)||null,i,a,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,jo.set(x,Qo(jo.get(x)||null,i,a,u,h,v)),!0}return!1}function Jv(i){var a=we(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){i.blockedOn=a,U(i.priority,function(){qv(u)});return}}else if(a===31){if(a=c(u),a!==null){i.blockedOn=a,U(i.priority,function(){qv(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qu(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=wd(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Af=h,u.target.dispatchEvent(h),Af=null}else return a=De(u),a!==null&&Vv(a),i.blockedOn=u,!1;a.shift()}return!0}function Kv(i,a,u){Qu(i)&&u.delete(a)}function Ww(){Cd=!1,Fi!==null&&Qu(Fi)&&(Fi=null),Bi!==null&&Qu(Bi)&&(Bi=null),Gi!==null&&Qu(Gi)&&(Gi=null),Xo.forEach(Kv),jo.forEach(Kv)}function Zu(i,a){i.blockedOn===a&&(i.blockedOn=null,Cd||(Cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ww)))}var ec=null;function Yv(i){ec!==i&&(ec=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ec===i&&(ec=null);for(var a=0;a<i.length;a+=3){var u=i[a],h=i[a+1],v=i[a+2];if(typeof h!="function"){if(Ad(h||u)===null)continue;break}var x=De(u);x!==null&&(i.splice(a,3),a-=3,wh(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function wa(i){function a(H){return Zu(H,i)}Fi!==null&&Zu(Fi,i),Bi!==null&&Zu(Bi,i),Gi!==null&&Zu(Gi,i),Xo.forEach(a),jo.forEach(a);for(var u=0;u<Hi.length;u++){var h=Hi[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Hi.length&&(u=Hi[0],u.blockedOn===null);)Jv(u),u.blockedOn===null&&Hi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],w=v[L]||null;if(typeof x=="function")w||Yv(u);else if(w){var R=null;if(x&&x.hasAttribute("formAction")){if(v=x,w=x[L]||null)R=w.formAction;else if(Ad(v)!==null)continue}else R=w.action;typeof R=="function"?u[h+1]=R:(u.splice(h,3),h-=3),Yv(u)}}}function Wv(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return v=w})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Rd(i){this._internalRoot=i}tc.prototype.render=Rd.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Jn();Gv(u,h,i,a,null,null)},tc.prototype.unmount=Rd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Gv(i.current,2,null,i,null,null),Lu(),a[F]=null}};function tc(i){this._internalRoot=i}tc.prototype.unstable_scheduleHydration=function(i){if(i){var a=C();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Hi.length&&a!==0&&a<Hi[u].priority;u++);Hi.splice(u,0,i),u===0&&Jv(i)}};var Xv=e.version;if(Xv!=="19.2.4")throw Error(r(527,Xv,"19.2.4"));ue.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Xw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{yi=nc.inject(Xw),mn=nc}catch{}}return el.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,h="",v=rg,x=ig,w=sg;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Fv(i,1,!1,null,null,u,h,null,v,x,w,Wv),i[F]=a.current,ld(i),new Rd(a)},el.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var h=!1,v="",x=rg,w=ig,R=sg,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),a=Fv(i,1,!0,a,u??null,h,v,H,x,w,R,Wv),a.context=Bv(null),u=a.current,h=Jn(),h=lo(h),v=Ci(h),v.callback=null,Ri(u,v,h),u=h,a.current.lanes=u,ns(a,u),Br(a),i[F]=a.current,ld(i),new tc(a)},el.version="19.2.4",el}var ay;function aA(){if(ay)return Id.exports;ay=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Id.exports=sA(),Id.exports}var oA=aA();const lA=ex(oA);var I0=(t=>(t.DOCUMENT="/",t.ELECTRONICS="/IT",t.CLOTHING="/",t.HOUSEHOLD="",t.DIGITAL=" ",t.OTHER="",t))(I0||{});const oy=["","","",""],ly=["","","1","2","3","","",""],uA=["","","",""],cA=["","MYBOX","USB","","","PC","PC","","",""],fA=Object.values(I0),D0="   ?";var hA={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dA,pA;function mA(){return{geminiUrl:dA,vertexUrl:pA}}function gA(t,e,n,r){var s,o;if(!(t!=null&&t.baseUrl)){const l=mA();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pi{}function Me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const m=d[f];g(m,e.slice(o+1),n[f])}else for(const f of d)g(f,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];g(d[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>p(c,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function vA(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let d=0;d<s.length;d++)if(s[d]==="*"){c=d;break}if(c!==-1&&o.length>c)for(let d=c;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Zd(t,s,o,0,l)}}function Zd(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])Zd(d,e,n,r+1,s)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!s.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,m]of Object.entries(d)){const _=[];for(const y of n.slice(r))y==="*"?_.push(f):_.push(y);g(l,_,m)}for(const f of c)delete l[f]}}else{const l=t;o in l&&Zd(l[o],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function _A(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],TA(l)),e}function xA(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],EA(l)),e}function TA(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>SA(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function EA(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>wA(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function SA(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],IA(n)),e}function wA(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],DA(n)),e}function AA(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function CA(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function RA(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],bA(l)),e}function bA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function nx(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],NA(l)),e}function NA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function IA(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],M0(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function DA(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],M0(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uy||(uy={}));var cy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cy||(cy={}));var fy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(fy||(fy={}));var Ji;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ji||(Ji={}));var hy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hy||(hy={}));var dy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dy||(dy={}));var py;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(py||(py={}));var my;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(my||(my={}));var gy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(gy||(gy={}));var vy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vy||(vy={}));var yy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yy||(yy={}));var _y;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(_y||(_y={}));var xy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xy||(xy={}));var Ty;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ty||(Ty={}));var Ey;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ey||(Ey={}));var Sy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Sy||(Sy={}));var wy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wy||(wy={}));var Ay;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ay||(Ay={}));var Cy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Cy||(Cy={}));var Ry;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ry||(Ry={}));var by;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(by||(by={}));var Rc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rc||(Rc={}));var Ny;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ny||(Ny={}));var Iy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Iy||(Iy={}));var Dy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Dy||(Dy={}));var e0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(e0||(e0={}));var My;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(My||(My={}));var Oy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Oy||(Oy={}));var t0;(function(t){t.COLLECTION="COLLECTION"})(t0||(t0={}));var ky;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ky||(ky={}));var Ly;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ly||(Ly={}));var Py;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Py||(Py={}));var Uy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Uy||(Uy={}));var Fy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Fy||(Fy={}));var By;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(By||(By={}));var Gy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gy||(Gy={}));var Hy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hy||(Hy={}));var Vy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vy||(Vy={}));var qy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(qy||(qy={}));var zy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(zy||(zy={}));var $y;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})($y||($y={}));var Jy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Jy||(Jy={}));var Ky;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(Ky||(Ky={}));var Yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Yy||(Yy={}));var Wy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Wy||(Wy={}));var Xy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Xy||(Xy={}));var jy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jy||(jy={}));var Qy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Qy||(Qy={}));var Zy;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Zy||(Zy={}));var e_;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(e_||(e_={}));var t_;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(t_||(t_={}));var n_;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(n_||(n_={}));var r_;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(r_||(r_={}));var i_;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(i_||(i_={}));var s_;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(s_||(s_={}));var a_;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(a_||(a_={}));var Ba;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ba||(Ba={}));class n0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class tl{get text(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",m=!1;const _=[];for(const y of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[T,S]of Object.entries(y))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(S!==null||S!==void 0)&&_.push(T);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;m=!0,f+=y.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?f:void 0}get data(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const m=[];for(const _ of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[y,T]of Object.entries(_))y!=="inlineData"&&(T!==null||T!==void 0)&&m.push(y);_.inlineData&&typeof _.inlineData.data=="string"&&(f+=atob(_.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,s,o,l,c,d,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,s,o,l,c,d,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(f=m==null?void 0:m[0])===null||f===void 0?void 0:f.output}}class o_{}class l_{}class MA{}class OA{}class kA{}class LA{}class u_{}class c_{}class f_{}class PA{}class bc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bc;let s;const o=e;return n?s=xA(o):s=_A(o),Object.assign(r,s),r}}class h_{}class d_{}class p_{}class m_{}class UA{}class FA{}class BA{}class O0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new O0,o=RA(e);return Object.assign(r,o),r}}class GA{}class HA{}class VA{}class qA{}class g_{}class zA{get text(){var e,n,r;let s="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?s:void 0}get data(){var e,n,r;let s="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class $A{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class k0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new k0,o=nx(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rx(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ix(t){return Array.isArray(t)?t.map(e=>Nc(e)):[Nc(t)]}function Nc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sx(t){const e=Nc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ax(t){const e=Nc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function v_(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ox(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>v_(e)):[v_(t)]}function r0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function y_(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function __(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vn(t){if(t==null)throw new Error("ContentUnion is required");return r0(t)?t:{role:"user",parts:ox(t)}}function L0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vn(n)):[vn(e)]}function mr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(y_(t)||__(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vn(t)]}const e=[],n=[],r=r0(t[0]);for(const s of t){const o=r0(s);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(s);else{if(y_(s)||__(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:ox(n)}),e}function JA(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ji).includes(n[0].toUpperCase())?n[0].toUpperCase():Ji.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ji).includes(r.toUpperCase())?r.toUpperCase():Ji.TYPE_UNSPECIFIED})}}function qa(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&JA(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Ji).includes(c.toUpperCase())?c.toUpperCase():Ji.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=qa(c);else if(r.includes(l)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(qa(f))}e[l]=d}else if(s.includes(l)){const d={};for(const[f,m]of Object.entries(c))d[f]=qa(m);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function P0(t){return qa(t)}function U0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function F0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ja(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qa(e.response));return t}function Qa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function KA(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function mi(t,e){if(typeof e!="string")throw new Error("name must be a string");return KA(t,e,"cachedContents")}function lx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qi(t){return M0(t)}function YA(t){return t!=null&&typeof t=="object"&&"name"in t}function WA(t){return t!=null&&typeof t=="object"&&"video"in t}function XA(t){return t!=null&&typeof t=="object"&&"uri"in t}function ux(t){var e;let n;if(YA(t)&&(n=t.name),!(XA(t)&&(n=t.uri,n===void 0))&&!(WA(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fx(t){for(const e of["models","tunedModels","publisherModels"])if(jA(t,e))return t[e];return[]}function jA(t,e){return t!==null&&typeof t=="object"&&e in t}function QA(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ZA(t,e={}){const n=[],r=new Set;for(const s of t){const o=s.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=QA(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function hx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function e2(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let o=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Za(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function px(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t2(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>L2(l))),g(e,["inlinedResponses"],o)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["inlinedEmbedContentResponses"],o)}return e}function n2(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function r2(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wc(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],px(s));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const d=p(t,["metadata","model"]);d!=null&&g(e,["model"],d);const f=p(t,["metadata","output"]);return f!=null&&g(e,["dest"],t2(dx(f))),e}function i0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],px(s));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(e,["endTime"],d);const f=p(t,["updateTime"]);f!=null&&g(e,["updateTime"],f);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const _=p(t,["inputConfig"]);_!=null&&g(e,["src"],i2(_));const y=p(t,["outputConfig"]);y!=null&&g(e,["dest"],n2(dx(y)));const T=p(t,["completionStats"]);return T!=null&&g(e,["completionStats"],T),e}function i2(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function s2(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>k2(t,l))),g(n,["requests","requests"],o)}return n}function a2(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o2(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function l2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function u2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function c2(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],f2(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const f=p(t,["logprobsResult"]);f!=null&&g(e,["logprobsResult"],f);const m=p(t,["safetyRatings"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(T=>T)),g(e,["safetyRatings"],y)}const _=p(t,["urlContextMetadata"]);return _!=null&&g(e,["urlContextMetadata"],_),e}function f2(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function mx(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>V2(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function h2(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function d2(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],r2(e2(s))),n}function x_(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],s2(t,hx(t,s)));const o=p(e,["config"]);return o!=null&&h2(o,n),n}function p2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],a2(hx(t,s)));const o=p(e,["config"]);return o!=null&&d2(o,n),n}function m2(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function g2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],S2(t,s));const o=p(e,["config"]);return o!=null&&m2(o,n),n}function v2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function y2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function _2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function x2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function T2(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=L0(t,r);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["requests[]","request","content"],o)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],E2(s,n)),vA(n,{"requests[].*":"requests[].request.*"})),n}function E2(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function S2(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],T2(t,s)),n}function w2(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function A2(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C2(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function R2(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],mx(vn(s)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const l=p(e,["topP"]);l!=null&&g(r,["topP"],l);const c=p(e,["topK"]);c!=null&&g(r,["topK"],c);const d=p(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const f=p(e,["maxOutputTokens"]);f!=null&&g(r,["maxOutputTokens"],f);const m=p(e,["stopSequences"]);m!=null&&g(r,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&g(r,["responseLogprobs"],_);const y=p(e,["logprobs"]);y!=null&&g(r,["logprobs"],y);const T=p(e,["presencePenalty"]);T!=null&&g(r,["presencePenalty"],T);const S=p(e,["frequencyPenalty"]);S!=null&&g(r,["frequencyPenalty"],S);const E=p(e,["seed"]);E!=null&&g(r,["seed"],E);const A=p(e,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const I=p(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],P0(I));const k=p(e,["responseJsonSchema"]);if(k!=null&&g(r,["responseJsonSchema"],k),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=p(e,["safetySettings"]);if(n!==void 0&&b!=null){let xe=b;Array.isArray(xe)&&(xe=xe.map(Be=>q2(Be))),g(n,["safetySettings"],xe)}const B=p(e,["tools"]);if(n!==void 0&&B!=null){let xe=Qa(B);Array.isArray(xe)&&(xe=xe.map(Be=>$2(ja(Be)))),g(n,["tools"],xe)}const J=p(e,["toolConfig"]);if(n!==void 0&&J!=null&&g(n,["toolConfig"],z2(J)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=p(e,["cachedContent"]);n!==void 0&&W!=null&&g(n,["cachedContent"],mi(t,W));const P=p(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const Q=p(e,["mediaResolution"]);Q!=null&&g(r,["mediaResolution"],Q);const K=p(e,["speechConfig"]);if(K!=null&&g(r,["speechConfig"],U0(K)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=p(e,["thinkingConfig"]);ae!=null&&g(r,["thinkingConfig"],ae);const ce=p(e,["imageConfig"]);ce!=null&&g(r,["imageConfig"],O2(ce));const me=p(e,["enableEnhancedCivicAnswers"]);if(me!=null&&g(r,["enableEnhancedCivicAnswers"],me),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function b2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>c2(f))),g(e,["candidates"],d)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function N2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function I2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Za(t,r)),n}function D2(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function M2(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function O2(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function k2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],ot(t,r));const s=p(e,["contents"]);if(s!=null){let c=mr(s);Array.isArray(c)&&(c=c.map(d=>mx(d))),g(n,["request","contents"],c)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(e,["config"]);return l!=null&&g(n,["request","generationConfig"],R2(t,l,p(n,["request"],{}))),n}function L2(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],b2(n));const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function P2(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function U2(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function F2(t){const e={},n=p(t,["config"]);return n!=null&&P2(n,e),e}function B2(t){const e={},n=p(t,["config"]);return n!=null&&U2(n,e),e}function G2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>wc(l))),g(e,["batchJobs"],o)}return e}function H2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>i0(l))),g(e,["batchJobs"],o)}return e}function V2(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],w2(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],A2(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],o2(d));const f=p(t,["text"]);f!=null&&g(e,["text"],f);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function q2(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function z2(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],C2(r)),e}function $2(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],D2(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],M2(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=p(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(fi||(fi={}));class Ms{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J2 extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=x_(this.apiClient,e),r=n._url,s=Me("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const m of d){const _=Object.assign({},m);if(_.systemInstruction){const y=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=y,_.request=T}f.push(_)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${s}`;else if(l)r.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=p2(this.apiClient,e);return c=Me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>i0(m))}else{const f=x_(this.apiClient,e);return c=Me("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>wc(m))}}async createEmbeddingsInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g2(this.apiClient,e);return o=Me("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>wc(d))}}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=I2(this.apiClient,e);return c=Me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>i0(m))}else{const f=N2(this.apiClient,e);return c=Me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>wc(m))}}async cancel(e){var n,r,s,o;let l="",c={};if(this.apiClient.isVertexAI()){const d=u2(this.apiClient,e);l=Me("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=l2(this.apiClient,e);l=Me("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=B2(e);return c=Me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=H2(m),y=new g_;return Object.assign(y,_),y})}else{const f=F2(e);return c=Me("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=G2(m),y=new g_;return Object.assign(y,_),y})}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=y2(this.apiClient,e);return c=Me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>x2(m))}else{const f=v2(this.apiClient,e);return c=Me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>_2(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K2(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T_(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>gC(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Y2(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=mr(l);Array.isArray(m)&&(m=m.map(_=>T_(_))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],T_(vn(c)));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(_=>yC(_))),g(e,["tools"],m)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&g(e,["toolConfig"],vC(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function W2(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let _=mr(l);Array.isArray(_)&&(_=_.map(y=>y)),g(e,["contents"],_)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],vn(c));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let _=d;Array.isArray(_)&&(_=_.map(y=>_C(y))),g(e,["tools"],_)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&g(e,["toolConfig"],f);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function X2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],rx(t,r));const s=p(e,["config"]);return s!=null&&Y2(s,n),n}function j2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],rx(t,r));const s=p(e,["config"]);return s!=null&&W2(s,n),n}function Q2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function Z2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function eC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function tC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function nC(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rC(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iC(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sC(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function aC(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function oC(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function lC(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function uC(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function cC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function fC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function hC(t){const e={},n=p(t,["config"]);return n!=null&&cC(n,e),e}function dC(t){const e={},n=p(t,["config"]);return n!=null&&fC(n,e),e}function pC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function mC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function gC(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],nC(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],rC(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],K2(d));const f=p(t,["text"]);f!=null&&g(e,["text"],f);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function vC(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],iC(r)),e}function yC(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],lC(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],uC(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=p(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function _C(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>sC(y))),g(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function xC(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function TC(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function EC(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],mi(t,r));const s=p(e,["config"]);return s!=null&&xC(s,n),n}function SC(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],mi(t,r));const s=p(e,["config"]);return s!=null&&TC(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=j2(this.apiClient,e);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=X2(this.apiClient,e);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=oC(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=aC(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=Z2(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=tC(m),y=new p_;return Object.assign(y,_),y})}else{const f=Q2(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=eC(m),y=new p_;return Object.assign(y,_),y})}}async update(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=SC(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const f=EC(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=dC(e);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=mC(m),y=new m_;return Object.assign(y,_),y})}else{const f=hC(e);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=pC(m),y=new m_;return Object.assign(y,_),y})}}}function Ic(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function E_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(t){return this instanceof $e?(this.v=t,this):new $e(t)}function Ir(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(T){return function(S){return Promise.resolve(S).then(T,_)}}function c(T,S){r[T]&&(s[T]=function(E){return new Promise(function(A,I){o.push([T,E,A,I])>1||d(T,E)})},S&&(s[T]=S(s[T])))}function d(T,S){try{f(r[T](S))}catch(E){y(o[0][3],E)}}function f(T){T.value instanceof $e?Promise.resolve(T.value.v).then(m,_):y(o[0][2],T)}function m(T){d("next",T)}function _(T){d("throw",T)}function y(T,S){T(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Dr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof E_=="function"?E_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,d){l=t[o](l),s(c,d,l.done,l.value)})}}function s(o,l,c,d){Promise.resolve(d).then(function(f){o({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:gx(n)}function gx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function S_(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let o=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),o&&!gx(t[r])&&(o=!1),r++;o?e.push(...s):e.pop()}return e}class RC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new bC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bC{constructor(e,n,r,s={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),CC(o)}async sendMessage(e){var n;await this.sendPromise;const r=vn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const d=await s,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,m=d.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let y=[];m!=null&&(y=(c=m.slice(_))!==null&&c!==void 0?c:[]);const T=f?[f]:[];this.recordHistory(r,T,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=vn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=await s;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?S_(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ir(this,arguments,function*(){var s,o,l,c,d,f;const m=[];try{for(var _=!0,y=Dr(e),T;T=yield $e(y.next()),s=T.done,!s;_=!0){c=T.value,_=!1;const S=c;if(AC(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&m.push(E)}yield yield $e(S)}}catch(S){o={error:S}}finally{try{!_&&!s&&(l=y.return)&&(yield $e(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(o=>o.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...S_(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function IC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DC(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],ux(n)),e}function MC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function OC(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],ux(n)),e}function kC(t){const e={},n=p(t,["uris"]);return n!=null&&g(e,["uris"],n),e}function LC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function PC(t){const e={},n=p(t,["config"]);return n!=null&&LC(n,e),e}function UC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["files"],o)}return e}function FC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PC(e);return o=Me("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const f=UC(d),m=new GA;return Object.assign(m,f),m})}}async createInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=NC(e);return o=Me("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=IC(d),m=new HA;return Object.assign(m,f),m})}}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=OC(e);return o=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DC(e);return o=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const f=MC(d),m=new VA;return Object.assign(m,f),m})}}async registerFilesInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kC(e);return o=Me("files:register",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=FC(d),m=new qA;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ac(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function GC(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>nR(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function HC(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function VC(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qC(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zC(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const d=p(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const f=p(t,["maxOutputTokens"]);f!=null&&g(e,["maxOutputTokens"],f);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const _=p(t,["presencePenalty"]);_!=null&&g(e,["presencePenalty"],_);const y=p(t,["responseLogprobs"]);y!=null&&g(e,["responseLogprobs"],y);const T=p(t,["responseMimeType"]);T!=null&&g(e,["responseMimeType"],T);const S=p(t,["responseModalities"]);S!=null&&g(e,["responseModalities"],S);const E=p(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const A=p(t,["routingConfig"]);A!=null&&g(e,["routingConfig"],A);const I=p(t,["seed"]);I!=null&&g(e,["seed"],I);const k=p(t,["speechConfig"]);k!=null&&g(e,["speechConfig"],k);const b=p(t,["stopSequences"]);b!=null&&g(e,["stopSequences"],b);const B=p(t,["temperature"]);B!=null&&g(e,["temperature"],B);const J=p(t,["thinkingConfig"]);J!=null&&g(e,["thinkingConfig"],J);const W=p(t,["topK"]);W!=null&&g(e,["topK"],W);const P=p(t,["topP"]);if(P!=null&&g(e,["topP"],P),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $C(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function JC(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function KC(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],F0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const T=p(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],GC(vn(S)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let W=Qa(E);Array.isArray(W)&&(W=W.map(P=>iR(ja(P)))),g(e,["setup","tools"],W)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&g(e,["setup","sessionResumption"],rR(A));const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const k=p(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","outputAudioTranscription"],k);const b=p(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&g(e,["setup","realtimeInputConfig"],b);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&g(e,["setup","contextWindowCompression"],B);const J=p(t,["proactivity"]);if(e!==void 0&&J!=null&&g(e,["setup","proactivity"],J),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function YC(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],zC(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],F0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const T=p(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],vn(S));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let P=Qa(E);Array.isArray(P)&&(P=P.map(Q=>sR(ja(Q)))),g(e,["setup","tools"],P)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&g(e,["setup","sessionResumption"],A);const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const k=p(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","outputAudioTranscription"],k);const b=p(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&g(e,["setup","realtimeInputConfig"],b);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&g(e,["setup","contextWindowCompression"],B);const J=p(t,["proactivity"]);e!==void 0&&J!=null&&g(e,["setup","proactivity"],J);const W=p(t,["explicitVadSignal"]);return e!==void 0&&W!=null&&g(e,["setup","explicitVadSignal"],W),n}function WC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],KC(s,n)),n}function XC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],YC(s,n)),n}function jC(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function QC(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function ZC(t){const e={},n=p(t,["media"]);if(n!=null){let f=ix(n);Array.isArray(f)&&(f=f.map(m=>Ac(m))),g(e,["mediaChunks"],f)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Ac(ax(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const o=p(t,["video"]);o!=null&&g(e,["video"],Ac(sx(o)));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function eR(t){const e={},n=p(t,["media"]);if(n!=null){let f=ix(n);Array.isArray(f)&&(f=f.map(m=>m)),g(e,["mediaChunks"],f)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],ax(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const o=p(t,["video"]);o!=null&&g(e,["video"],sx(o));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function tR(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const l=p(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],aR(l));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const d=p(t,["sessionResumptionUpdate"]);d!=null&&g(e,["sessionResumptionUpdate"],d);const f=p(t,["voiceActivityDetectionSignal"]);f!=null&&g(e,["voiceActivityDetectionSignal"],f);const m=p(t,["voiceActivity"]);return m!=null&&g(e,["voiceActivity"],oR(m)),e}function nR(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],HC(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],VC(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],Ac(d));const f=p(t,["text"]);f!=null&&g(e,["text"],f);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function rR(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iR(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],$C(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],JC(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=p(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function sR(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>qC(y))),g(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function aR(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const l=p(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const d=p(t,["promptTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["promptTokensDetails"],T)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["cacheTokensDetails"],T)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["responseTokensDetails"],T)}const _=p(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>S)),g(e,["toolUsePromptTokensDetails"],T)}const y=p(t,["trafficType"]);return y!=null&&g(e,["trafficType"],y),e}function oR(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lR(t,e){const n={},r=p(t,["data"]);if(r!=null&&g(n,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function uR(t,e){const n={},r=p(t,["content"]);r!=null&&g(n,["content"],r);const s=p(t,["citationMetadata"]);s!=null&&g(n,["citationMetadata"],cR(s));const o=p(t,["tokenCount"]);o!=null&&g(n,["tokenCount"],o);const l=p(t,["finishReason"]);l!=null&&g(n,["finishReason"],l);const c=p(t,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=p(t,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=p(t,["index"]);f!=null&&g(n,["index"],f);const m=p(t,["logprobsResult"]);m!=null&&g(n,["logprobsResult"],m);const _=p(t,["safetyRatings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>S)),g(n,["safetyRatings"],T)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(n,["urlContextMetadata"],y),n}function cR(t,e){const n={},r=p(t,["citationSources"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(n,["citations"],s)}return n}function fR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let l=mr(o);Array.isArray(l)&&(l=l.map(c=>c)),g(r,["contents"],l)}return r}function hR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(n,["tokensInfo"],o)}return n}function dR(t,e){const n={},r=p(t,["values"]);r!=null&&g(n,["values"],r);const s=p(t,["statistics"]);return s!=null&&g(n,["statistics"],pR(s)),n}function pR(t,e){const n={},r=p(t,["truncated"]);r!=null&&g(n,["truncated"],r);const s=p(t,["token_count"]);return s!=null&&g(n,["tokenCount"],s),n}function Qc(t,e){const n={},r=p(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Sb(l))),g(n,["parts"],o)}const s=p(t,["role"]);return s!=null&&g(n,["role"],s),n}function mR(t,e){const n={},r=p(t,["controlType"]);r!=null&&g(n,["controlType"],r);const s=p(t,["enableControlImageComputation"]);return s!=null&&g(n,["computeControl"],s),n}function gR(t,e){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vR(t,e,n){const r={},s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],vn(s));const o=p(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>xx(d))),g(e,["tools"],c)}const l=p(t,["generationConfig"]);return e!==void 0&&l!=null&&g(e,["generationConfig"],lb(l)),r}function yR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>Qc(d))),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&gR(l),r}function _R(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&vR(l,r),r}function xR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["totalTokens"]);s!=null&&g(n,["totalTokens"],s);const o=p(t,["cachedContentTokenCount"]);return o!=null&&g(n,["cachedContentTokenCount"],o),n}function TR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["totalTokens"]);return s!=null&&g(n,["totalTokens"],s),n}function ER(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function SR(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function wR(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function AR(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function CR(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const m=p(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&g(e,["parameters","safetySetting"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&g(e,["parameters","includeRaiReason"],T);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&g(e,["parameters","addWatermark"],I);const k=p(t,["labels"]);e!==void 0&&k!=null&&g(e,["labels"],k);const b=p(t,["editMode"]);e!==void 0&&b!=null&&g(e,["parameters","editMode"],b);const B=p(t,["baseSteps"]);return e!==void 0&&B!=null&&g(e,["parameters","editConfig","baseSteps"],B),r}function RR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Nb(f))),g(r,["instances[0]","referenceImages"],d)}const c=p(e,["config"]);return c!=null&&CR(c,r),r}function bR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Zc(l))),g(n,["generatedImages"],o)}return n}function NR(t,e,n){const r={},s=p(t,["taskType"]);e!==void 0&&s!=null&&g(e,["requests[]","taskType"],s);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const l=p(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function IR(t,e,n){const r={},s=p(t,["taskType"]);e!==void 0&&s!=null&&g(e,["instances[]","task_type"],s);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["instances[]","title"],o);const l=p(t,["outputDimensionality"]);e!==void 0&&l!=null&&g(e,["parameters","outputDimensionality"],l);const c=p(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const d=p(t,["autoTruncate"]);return e!==void 0&&d!=null&&g(e,["parameters","autoTruncate"],d),r}function DR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let d=L0(t,o);Array.isArray(d)&&(d=d.map(f=>f)),g(r,["requests[]","content"],d)}const l=p(e,["config"]);l!=null&&NR(l,r);const c=p(e,["model"]);return c!==void 0&&g(r,["requests[]","model"],ot(t,c)),r}function MR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=L0(t,o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["instances[]","content"],c)}const l=p(e,["config"]);return l!=null&&IR(l,r),r}function OR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),g(n,["embeddings"],l)}const o=p(t,["metadata"]);return o!=null&&g(n,["metadata"],o),n}function kR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>dR(c))),g(n,["embeddings"],l)}const o=p(t,["metadata"]);return o!=null&&g(n,["metadata"],o),n}function LR(t,e){const n={},r=p(t,["endpoint"]);r!=null&&g(n,["name"],r);const s=p(t,["deployedModelId"]);return s!=null&&g(n,["deployedModelId"],s),n}function PR(t,e){const n={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(n,["fileUri"],r);const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function UR(t,e){const n={},r=p(t,["id"]);r!=null&&g(n,["id"],r);const s=p(t,["args"]);s!=null&&g(n,["args"],s);const o=p(t,["name"]);if(o!=null&&g(n,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function FR(t,e){const n={},r=p(t,["allowedFunctionNames"]);r!=null&&g(n,["allowedFunctionNames"],r);const s=p(t,["mode"]);if(s!=null&&g(n,["mode"],s),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function BR(t,e){const n={},r=p(t,["description"]);r!=null&&g(n,["description"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["parameters"]);o!=null&&g(n,["parameters"],o);const l=p(t,["parametersJsonSchema"]);l!=null&&g(n,["parametersJsonSchema"],l);const c=p(t,["response"]);c!=null&&g(n,["response"],c);const d=p(t,["responseJsonSchema"]);if(d!=null&&g(n,["responseJsonSchema"],d),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function GR(t,e,n,r){const s={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],Qc(vn(o)));const l=p(e,["temperature"]);l!=null&&g(s,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(s,["topP"],c);const d=p(e,["topK"]);d!=null&&g(s,["topK"],d);const f=p(e,["candidateCount"]);f!=null&&g(s,["candidateCount"],f);const m=p(e,["maxOutputTokens"]);m!=null&&g(s,["maxOutputTokens"],m);const _=p(e,["stopSequences"]);_!=null&&g(s,["stopSequences"],_);const y=p(e,["responseLogprobs"]);y!=null&&g(s,["responseLogprobs"],y);const T=p(e,["logprobs"]);T!=null&&g(s,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&g(s,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(s,["frequencyPenalty"],E);const A=p(e,["seed"]);A!=null&&g(s,["seed"],A);const I=p(e,["responseMimeType"]);I!=null&&g(s,["responseMimeType"],I);const k=p(e,["responseSchema"]);k!=null&&g(s,["responseSchema"],P0(k));const b=p(e,["responseJsonSchema"]);if(b!=null&&g(s,["responseJsonSchema"],b),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=p(e,["safetySettings"]);if(n!==void 0&&B!=null){let Be=B;Array.isArray(Be)&&(Be=Be.map(he=>Ib(he))),g(n,["safetySettings"],Be)}const J=p(e,["tools"]);if(n!==void 0&&J!=null){let Be=Qa(J);Array.isArray(Be)&&(Be=Be.map(he=>Ub(ja(he)))),g(n,["tools"],Be)}const W=p(e,["toolConfig"]);if(n!==void 0&&W!=null&&g(n,["toolConfig"],Pb(W)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=p(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],mi(t,P));const Q=p(e,["responseModalities"]);Q!=null&&g(s,["responseModalities"],Q);const K=p(e,["mediaResolution"]);K!=null&&g(s,["mediaResolution"],K);const ae=p(e,["speechConfig"]);if(ae!=null&&g(s,["speechConfig"],U0(ae)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=p(e,["thinkingConfig"]);ce!=null&&g(s,["thinkingConfig"],ce);const me=p(e,["imageConfig"]);me!=null&&g(s,["imageConfig"],db(me));const xe=p(e,["enableEnhancedCivicAnswers"]);if(xe!=null&&g(s,["enableEnhancedCivicAnswers"],xe),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function HR(t,e,n,r){const s={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],vn(o));const l=p(e,["temperature"]);l!=null&&g(s,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(s,["topP"],c);const d=p(e,["topK"]);d!=null&&g(s,["topK"],d);const f=p(e,["candidateCount"]);f!=null&&g(s,["candidateCount"],f);const m=p(e,["maxOutputTokens"]);m!=null&&g(s,["maxOutputTokens"],m);const _=p(e,["stopSequences"]);_!=null&&g(s,["stopSequences"],_);const y=p(e,["responseLogprobs"]);y!=null&&g(s,["responseLogprobs"],y);const T=p(e,["logprobs"]);T!=null&&g(s,["logprobs"],T);const S=p(e,["presencePenalty"]);S!=null&&g(s,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(s,["frequencyPenalty"],E);const A=p(e,["seed"]);A!=null&&g(s,["seed"],A);const I=p(e,["responseMimeType"]);I!=null&&g(s,["responseMimeType"],I);const k=p(e,["responseSchema"]);k!=null&&g(s,["responseSchema"],P0(k));const b=p(e,["responseJsonSchema"]);b!=null&&g(s,["responseJsonSchema"],b);const B=p(e,["routingConfig"]);B!=null&&g(s,["routingConfig"],B);const J=p(e,["modelSelectionConfig"]);J!=null&&g(s,["modelConfig"],J);const W=p(e,["safetySettings"]);if(n!==void 0&&W!=null){let Se=W;Array.isArray(Se)&&(Se=Se.map(be=>be)),g(n,["safetySettings"],Se)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let Se=Qa(P);Array.isArray(Se)&&(Se=Se.map(be=>xx(ja(be)))),g(n,["tools"],Se)}const Q=p(e,["toolConfig"]);n!==void 0&&Q!=null&&g(n,["toolConfig"],Q);const K=p(e,["labels"]);n!==void 0&&K!=null&&g(n,["labels"],K);const ae=p(e,["cachedContent"]);n!==void 0&&ae!=null&&g(n,["cachedContent"],mi(t,ae));const ce=p(e,["responseModalities"]);ce!=null&&g(s,["responseModalities"],ce);const me=p(e,["mediaResolution"]);me!=null&&g(s,["mediaResolution"],me);const xe=p(e,["speechConfig"]);xe!=null&&g(s,["speechConfig"],U0(xe));const Be=p(e,["audioTimestamp"]);Be!=null&&g(s,["audioTimestamp"],Be);const he=p(e,["thinkingConfig"]);he!=null&&g(s,["thinkingConfig"],he);const Y=p(e,["imageConfig"]);if(Y!=null&&g(s,["imageConfig"],pb(Y)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ue=p(e,["modelArmorConfig"]);return n!==void 0&&ue!=null&&g(n,["modelArmorConfig"],ue),s}function w_(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>Qc(d))),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(r,["generationConfig"],GR(t,l,r)),r}function A_(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(r,["generationConfig"],HR(t,l,r)),r}function C_(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["candidates"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>uR(m))),g(n,["candidates"],f)}const o=p(t,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const l=p(t,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(n,["responseId"],c);const d=p(t,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function R_(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(_=>_)),g(n,["candidates"],m)}const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["modelVersion"]);l!=null&&g(n,["modelVersion"],l);const c=p(t,["promptFeedback"]);c!=null&&g(n,["promptFeedback"],c);const d=p(t,["responseId"]);d!=null&&g(n,["responseId"],d);const f=p(t,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function VR(t,e,n){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);if(e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const m=p(t,["includeRaiReason"]);e!==void 0&&m!=null&&g(e,["parameters","includeRaiReason"],m);const _=p(t,["language"]);e!==void 0&&_!=null&&g(e,["parameters","language"],_);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const T=p(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&g(e,["parameters","outputOptions","compressionQuality"],T),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function qR(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const m=p(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&g(e,["parameters","safetySetting"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const T=p(t,["includeRaiReason"]);e!==void 0&&T!=null&&g(e,["parameters","includeRaiReason"],T);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&g(e,["parameters","addWatermark"],I);const k=p(t,["labels"]);e!==void 0&&k!=null&&g(e,["labels"],k);const b=p(t,["imageSize"]);e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b);const B=p(t,["enhancePrompt"]);return e!==void 0&&B!=null&&g(e,["parameters","enhancePrompt"],B),r}function zR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["config"]);return l!=null&&VR(l,r),r}function $R(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["config"]);return l!=null&&qR(l,r),r}function JR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>ib(c))),g(n,["generatedImages"],l)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],yx(o)),n}function KR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Zc(c))),g(n,["generatedImages"],l)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],_x(o)),n}function YR(t,e,n){const r={},s=p(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(t,["durationSeconds"]);if(e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const d=p(t,["personGeneration"]);if(e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const m=p(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&g(e,["parameters","enhancePrompt"],m),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=p(t,["lastFrame"]);e!==void 0&&_!=null&&g(e,["instances[0]","lastFrame"],ef(_));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>Xb(S))),g(e,["instances[0]","referenceImages"],T)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function WR(t,e,n){const r={},s=p(t,["numberOfVideos"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const l=p(t,["fps"]);e!==void 0&&l!=null&&g(e,["parameters","fps"],l);const c=p(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const m=p(t,["resolution"]);e!==void 0&&m!=null&&g(e,["parameters","resolution"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const T=p(t,["negativePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","negativePrompt"],T);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=p(t,["generateAudio"]);e!==void 0&&E!=null&&g(e,["parameters","generateAudio"],E);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],Or(A));const I=p(t,["referenceImages"]);if(e!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(J=>jb(J))),g(e,["instances[0]","referenceImages"],B)}const k=p(t,["mask"]);e!==void 0&&k!=null&&g(e,["instances[0]","mask"],Wb(k));const b=p(t,["compressionQuality"]);return e!==void 0&&b!=null&&g(e,["parameters","compressionQuality"],b),r}function XR(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);l!=null&&g(n,["error"],l);const c=p(t,["response","generateVideoResponse"]);return c!=null&&g(n,["response"],eb(c)),n}function jR(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);l!=null&&g(n,["error"],l);const c=p(t,["response"]);return c!=null&&g(n,["response"],tb(c)),n}function QR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["image"]);l!=null&&g(r,["instances[0]","image"],ef(l));const c=p(e,["video"]);c!=null&&g(r,["instances[0]","video"],Tx(c));const d=p(e,["source"]);d!=null&&nb(d,r);const f=p(e,["config"]);return f!=null&&YR(f,r),r}function ZR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["image"]);l!=null&&g(r,["instances[0]","image"],Or(l));const c=p(e,["video"]);c!=null&&g(r,["instances[0]","video"],Ex(c));const d=p(e,["source"]);d!=null&&rb(d,r);const f=p(e,["config"]);return f!=null&&WR(f,r),r}function eb(t,e){const n={},r=p(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ab(c))),g(n,["generatedVideos"],l)}const s=p(t,["raiMediaFilteredCount"]);s!=null&&g(n,["raiMediaFilteredCount"],s);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function tb(t,e){const n={},r=p(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ob(c))),g(n,["generatedVideos"],l)}const s=p(t,["raiMediaFilteredCount"]);s!=null&&g(n,["raiMediaFilteredCount"],s);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function nb(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],ef(o));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],Tx(l)),r}function rb(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Or(o));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],Ex(l)),r}function ib(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["image"],mb(r));const s=p(t,["raiFilteredReason"]);s!=null&&g(n,["raiFilteredReason"],s);const o=p(t,["_self"]);return o!=null&&g(n,["safetyAttributes"],yx(o)),n}function Zc(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["image"],vx(r));const s=p(t,["raiFilteredReason"]);s!=null&&g(n,["raiFilteredReason"],s);const o=p(t,["_self"]);o!=null&&g(n,["safetyAttributes"],_x(o));const l=p(t,["prompt"]);return l!=null&&g(n,["enhancedPrompt"],l),n}function sb(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["mask"],vx(r));const s=p(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(n,["labels"],o)}return n}function ab(t,e){const n={},r=p(t,["video"]);return r!=null&&g(n,["video"],Kb(r)),n}function ob(t,e){const n={},r=p(t,["_self"]);return r!=null&&g(n,["video"],Yb(r)),n}function lb(t,e){const n={},r=p(t,["modelSelectionConfig"]);r!=null&&g(n,["modelConfig"],r);const s=p(t,["responseJsonSchema"]);s!=null&&g(n,["responseJsonSchema"],s);const o=p(t,["audioTimestamp"]);o!=null&&g(n,["audioTimestamp"],o);const l=p(t,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=p(t,["enableAffectiveDialog"]);c!=null&&g(n,["enableAffectiveDialog"],c);const d=p(t,["frequencyPenalty"]);d!=null&&g(n,["frequencyPenalty"],d);const f=p(t,["logprobs"]);f!=null&&g(n,["logprobs"],f);const m=p(t,["maxOutputTokens"]);m!=null&&g(n,["maxOutputTokens"],m);const _=p(t,["mediaResolution"]);_!=null&&g(n,["mediaResolution"],_);const y=p(t,["presencePenalty"]);y!=null&&g(n,["presencePenalty"],y);const T=p(t,["responseLogprobs"]);T!=null&&g(n,["responseLogprobs"],T);const S=p(t,["responseMimeType"]);S!=null&&g(n,["responseMimeType"],S);const E=p(t,["responseModalities"]);E!=null&&g(n,["responseModalities"],E);const A=p(t,["responseSchema"]);A!=null&&g(n,["responseSchema"],A);const I=p(t,["routingConfig"]);I!=null&&g(n,["routingConfig"],I);const k=p(t,["seed"]);k!=null&&g(n,["seed"],k);const b=p(t,["speechConfig"]);b!=null&&g(n,["speechConfig"],b);const B=p(t,["stopSequences"]);B!=null&&g(n,["stopSequences"],B);const J=p(t,["temperature"]);J!=null&&g(n,["temperature"],J);const W=p(t,["thinkingConfig"]);W!=null&&g(n,["thinkingConfig"],W);const P=p(t,["topK"]);P!=null&&g(n,["topK"],P);const Q=p(t,["topP"]);if(Q!=null&&g(n,["topP"],Q),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function ub(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function cb(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function fb(t,e){const n={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(n,["enableWidget"],r),n}function hb(t,e){const n={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],r),n}function db(t,e){const n={},r=p(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const s=p(t,["imageSize"]);if(s!=null&&g(n,["imageSize"],s),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function pb(t,e){const n={},r=p(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const s=p(t,["imageSize"]);s!=null&&g(n,["imageSize"],s);const o=p(t,["personGeneration"]);o!=null&&g(n,["personGeneration"],o);const l=p(t,["outputMimeType"]);l!=null&&g(n,["imageOutputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);return c!=null&&g(n,["imageOutputOptions","compressionQuality"],c),n}function mb(t,e){const n={},r=p(t,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],Qi(r));const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function vx(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["bytesBase64Encoded"]);s!=null&&g(n,["imageBytes"],Qi(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function ef(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Qi(r));const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function Or(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["imageBytes"]);s!=null&&g(n,["bytesBase64Encoded"],Qi(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function gb(t,e,n,r){const s={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const l=p(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=p(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],cx(t,d)),s}function vb(t,e,n,r){const s={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const l=p(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=p(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],cx(t,d)),s}function yb(t,e,n){const r={},s=p(e,["config"]);return s!=null&&gb(t,s,r),r}function _b(t,e,n){const r={},s=p(e,["config"]);return s!=null&&vb(t,s,r),r}function xb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["_self"]);if(o!=null){let l=fx(o);Array.isArray(l)&&(l=l.map(c=>s0(c))),g(n,["models"],l)}return n}function Tb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["_self"]);if(o!=null){let l=fx(o);Array.isArray(l)&&(l=l.map(c=>a0(c))),g(n,["models"],l)}return n}function Eb(t,e){const n={},r=p(t,["maskMode"]);r!=null&&g(n,["maskMode"],r);const s=p(t,["segmentationClasses"]);s!=null&&g(n,["maskClasses"],s);const o=p(t,["maskDilation"]);return o!=null&&g(n,["dilation"],o),n}function s0(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["displayName"]);s!=null&&g(n,["displayName"],s);const o=p(t,["description"]);o!=null&&g(n,["description"],o);const l=p(t,["version"]);l!=null&&g(n,["version"],l);const c=p(t,["_self"]);c!=null&&g(n,["tunedModelInfo"],Fb(c));const d=p(t,["inputTokenLimit"]);d!=null&&g(n,["inputTokenLimit"],d);const f=p(t,["outputTokenLimit"]);f!=null&&g(n,["outputTokenLimit"],f);const m=p(t,["supportedGenerationMethods"]);m!=null&&g(n,["supportedActions"],m);const _=p(t,["temperature"]);_!=null&&g(n,["temperature"],_);const y=p(t,["maxTemperature"]);y!=null&&g(n,["maxTemperature"],y);const T=p(t,["topP"]);T!=null&&g(n,["topP"],T);const S=p(t,["topK"]);S!=null&&g(n,["topK"],S);const E=p(t,["thinking"]);return E!=null&&g(n,["thinking"],E),n}function a0(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["displayName"]);s!=null&&g(n,["displayName"],s);const o=p(t,["description"]);o!=null&&g(n,["description"],o);const l=p(t,["versionId"]);l!=null&&g(n,["version"],l);const c=p(t,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>LR(T))),g(n,["endpoints"],y)}const d=p(t,["labels"]);d!=null&&g(n,["labels"],d);const f=p(t,["_self"]);f!=null&&g(n,["tunedModelInfo"],Bb(f));const m=p(t,["defaultCheckpointId"]);m!=null&&g(n,["defaultCheckpointId"],m);const _=p(t,["checkpoints"]);if(_!=null){let y=_;Array.isArray(y)&&(y=y.map(T=>T)),g(n,["checkpoints"],y)}return n}function Sb(t,e){const n={},r=p(t,["mediaResolution"]);r!=null&&g(n,["mediaResolution"],r);const s=p(t,["codeExecutionResult"]);s!=null&&g(n,["codeExecutionResult"],s);const o=p(t,["executableCode"]);o!=null&&g(n,["executableCode"],o);const l=p(t,["fileData"]);l!=null&&g(n,["fileData"],PR(l));const c=p(t,["functionCall"]);c!=null&&g(n,["functionCall"],UR(c));const d=p(t,["functionResponse"]);d!=null&&g(n,["functionResponse"],d);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],lR(f));const m=p(t,["text"]);m!=null&&g(n,["text"],m);const _=p(t,["thought"]);_!=null&&g(n,["thought"],_);const y=p(t,["thoughtSignature"]);y!=null&&g(n,["thoughtSignature"],y);const T=p(t,["videoMetadata"]);return T!=null&&g(n,["videoMetadata"],T),n}function wb(t,e){const n={},r=p(t,["productImage"]);return r!=null&&g(n,["image"],Or(r)),n}function Ab(t,e,n){const r={},s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["baseSteps"]);e!==void 0&&o!=null&&g(e,["parameters","baseSteps"],o);const l=p(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const m=p(t,["addWatermark"]);e!==void 0&&m!=null&&g(e,["parameters","addWatermark"],m);const _=p(t,["outputMimeType"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","mimeType"],_);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const T=p(t,["enhancePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T);const S=p(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),r}function Cb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["source"]);o!=null&&bb(o,r);const l=p(e,["config"]);return l!=null&&Ab(l,r),r}function Rb(t,e){const n={},r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Zc(o))),g(n,["generatedImages"],s)}return n}function bb(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["personImage"]);e!==void 0&&o!=null&&g(e,["instances[0]","personImage","image"],Or(o));const l=p(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wb(d))),g(e,["instances[0]","productImages"],c)}return r}function Nb(t,e){const n={},r=p(t,["referenceImage"]);r!=null&&g(n,["referenceImage"],Or(r));const s=p(t,["referenceId"]);s!=null&&g(n,["referenceId"],s);const o=p(t,["referenceType"]);o!=null&&g(n,["referenceType"],o);const l=p(t,["maskImageConfig"]);l!=null&&g(n,["maskImageConfig"],Eb(l));const c=p(t,["controlImageConfig"]);c!=null&&g(n,["controlImageConfig"],mR(c));const d=p(t,["styleImageConfig"]);d!=null&&g(n,["styleImageConfig"],d);const f=p(t,["subjectImageConfig"]);return f!=null&&g(n,["subjectImageConfig"],f),n}function yx(t,e){const n={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const s=p(t,["safetyAttributes","scores"]);s!=null&&g(n,["scores"],s);const o=p(t,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function _x(t,e){const n={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const s=p(t,["safetyAttributes","scores"]);s!=null&&g(n,["scores"],s);const o=p(t,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function Ib(t,e){const n={},r=p(t,["category"]);if(r!=null&&g(n,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=p(t,["threshold"]);return s!=null&&g(n,["threshold"],s),n}function Db(t,e){const n={},r=p(t,["image"]);return r!=null&&g(n,["image"],Or(r)),n}function Mb(t,e,n){const r={},s=p(t,["mode"]);e!==void 0&&s!=null&&g(e,["parameters","mode"],s);const o=p(t,["maxPredictions"]);e!==void 0&&o!=null&&g(e,["parameters","maxPredictions"],o);const l=p(t,["confidenceThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","confidenceThreshold"],l);const c=p(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const d=p(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&g(e,["parameters","binaryColorThreshold"],d);const f=p(t,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),r}function Ob(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["source"]);o!=null&&Lb(o,r);const l=p(e,["config"]);return l!=null&&Mb(l,r),r}function kb(t,e){const n={},r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>sb(o))),g(n,["generatedMasks"],s)}return n}function Lb(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Or(o));const l=p(t,["scribbleImage"]);return e!==void 0&&l!=null&&g(e,["instances[0]","scribble"],Db(l)),r}function Pb(t,e){const n={},r=p(t,["retrievalConfig"]);r!=null&&g(n,["retrievalConfig"],r);const s=p(t,["functionCallingConfig"]);return s!=null&&g(n,["functionCallingConfig"],FR(s)),n}function Ub(t,e){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(n,["computerUse"],r);const s=p(t,["fileSearch"]);s!=null&&g(n,["fileSearch"],s);const o=p(t,["codeExecution"]);if(o!=null&&g(n,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>y)),g(n,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(n,["googleMaps"],fb(c));const d=p(t,["googleSearch"]);d!=null&&g(n,["googleSearch"],hb(d));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(n,["googleSearchRetrieval"],f);const m=p(t,["urlContext"]);return m!=null&&g(n,["urlContext"],m),n}function xx(t,e){const n={},r=p(t,["retrieval"]);r!=null&&g(n,["retrieval"],r);const s=p(t,["computerUse"]);if(s!=null&&g(n,["computerUse"],s),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&g(n,["codeExecution"],o);const l=p(t,["enterpriseWebSearch"]);l!=null&&g(n,["enterpriseWebSearch"],l);const c=p(t,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>BR(T))),g(n,["functionDeclarations"],y)}const d=p(t,["googleMaps"]);d!=null&&g(n,["googleMaps"],d);const f=p(t,["googleSearch"]);f!=null&&g(n,["googleSearch"],f);const m=p(t,["googleSearchRetrieval"]);m!=null&&g(n,["googleSearchRetrieval"],m);const _=p(t,["urlContext"]);return _!=null&&g(n,["urlContext"],_),n}function Fb(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const o=p(t,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function Bb(t,e){const n={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const o=p(t,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function Gb(t,e,n){const r={},s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function Hb(t,e,n){const r={},s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function Vb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","name"],ot(t,s));const o=p(e,["config"]);return o!=null&&Gb(o,r),r}function qb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["config"]);return o!=null&&Hb(o,r),r}function zb(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const m=p(t,["enhanceInputImage"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],m);const _=p(t,["imagePreservationFactor"]);e!==void 0&&_!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const T=p(t,["numberOfImages"]);e!==void 0&&T!=null&&g(e,["parameters","sampleCount"],T);const S=p(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),r}function $b(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["image"]);o!=null&&g(r,["instances[0]","image"],Or(o));const l=p(e,["upscaleFactor"]);l!=null&&g(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=p(e,["config"]);return c!=null&&zb(c,r),r}function Jb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Zc(l))),g(n,["generatedImages"],o)}return n}function Kb(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["uri"],r);const s=p(t,["encodedVideo"]);s!=null&&g(n,["videoBytes"],Qi(s));const o=p(t,["encoding"]);return o!=null&&g(n,["mimeType"],o),n}function Yb(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["uri"],r);const s=p(t,["bytesBase64Encoded"]);s!=null&&g(n,["videoBytes"],Qi(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function Wb(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["_self"],Or(r));const s=p(t,["maskMode"]);return s!=null&&g(n,["maskMode"],s),n}function Xb(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["image"],ef(r));const s=p(t,["referenceType"]);return s!=null&&g(n,["referenceType"],s),n}function jb(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["image"],Or(r));const s=p(t,["referenceType"]);return s!=null&&g(n,["referenceType"],s),n}function Tx(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["uri"],r);const s=p(t,["videoBytes"]);s!=null&&g(n,["encodedVideo"],Qi(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["encoding"],o),n}function Ex(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["videoBytes"]);s!=null&&g(n,["bytesBase64Encoded"],Qi(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qb(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function Zb(t){const e={},n=p(t,["config"]);return n!=null&&Qb(n,e),e}function eN(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function tN(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&eN(r,e),e}function nN(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function rN(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["customMetadata"],o)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function iN(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],aN(l)),e}function sN(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&rN(s,e),e}function aN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function oN(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function lN(t){const e={},n=p(t,["config"]);return n!=null&&oN(n,e),e}function uN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["fileSearchStores"],o)}return e}function Sx(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["customMetadata"],c)}const l=p(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function cN(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&Sx(r,e),e}function fN(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hN="Content-Type",dN="X-Server-Timeout",pN="User-Agent",o0="x-goog-api-client",mN="1.39.0",gN=`google-genai-sdk/${mN}`,vN="v1beta1",yN="v1beta";class _N{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vN}else{if(!this.clientOptions.apiKey)throw new gl({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:yN,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===t0.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.unaryApiCall(s,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,o]of Object.entries(n))typeof o=="object"?r[s]=Object.assign(Object.assign({},r[s]),o):o!==void 0&&(r[s]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.streamApiCall(s,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&xN(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await b_(s),new n0(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await b_(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Ir(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:m}=yield $e(s.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=o.decode(m,{stream:!0});try{const S=JSON.parse(_);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),A=E.status,I=E.code,k=`got status: ${A}. ${JSON.stringify(S)}`;if(I>=400&&I<600)throw new gl({message:k,status:I})}}catch(S){if(S.name==="ApiError")throw S}l+=_;let y=-1,T=0;for(;;){y=-1,T=0;for(const A of d){const I=l.indexOf(A);I!==-1&&(y===-1||I<y)&&(y=I,T=A.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+T);const E=S.trim();if(E.startsWith(c)){const A=E.substring(c.length).trim();try{const I=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new n0(I))}catch(I){throw new Error(`exception parsing stream chunk ${A}. ${I}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=gN+" "+this.clientOptions.userAgentExtra;return e[pN]=n,e[o0]=n,e[hN]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,o]of Object.entries(e.headers))r.append(s,o);e.timeout&&e.timeout>0&&r.append(dN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);s.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const d={file:s},f=this.getFileName(e),m=Me("upload/v1beta/files",d._url),_=await this.fetchUploadUrl(m,s.sizeBytes,s.mimeType,f,d,n==null?void 0:n.httpOptions);return o.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,r){var s;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),d=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),_={};r!=null&&Sx(r,_);const y=await this.fetchUploadUrl(f,c,d,m,_,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,o,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function b_(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new gl({message:s,status:n}):new Error(s)}}function xN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],m=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&m&&typeof m=="object"&&!Array.isArray(m)?c[d]=r(m,f):(m&&f&&typeof m!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TN="mcp_used/unknown";let EN=!1;function wx(t){for(const e of t)if(SN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EN}function Ax(t){var e;const n=(e=t[o0])!==null&&e!==void 0?e:"";t[o0]=(n+` ${TN}`).trimStart()}function SN(t){return t!==null&&typeof t=="object"&&t instanceof B0}function wN(t){return Ir(this,arguments,function*(n,r=100){let s,o=0;for(;o<r;){const l=yield $e(n.listTools({cursor:s}));for(const c of l.tools)yield yield $e(c),o++;if(!l.nextCursor)break;s=l.nextCursor}})}class B0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new B0(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const o={},l=[];for(const m of this.mcpClients)try{for(var c=!0,d=(n=void 0,Dr(wN(m))),f;f=await d.next(),e=f.done,!e;c=!0){s=f.value,c=!1;const _=s;l.push(_);const y=_.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=m}}catch(_){n={error:_}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),ZA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await s.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AN(t,e,n){const r=new $A;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class CN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=NN(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${s}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const m=new Promise(b=>{f=b}),_=e.callbacks,y=function(){f({})},T=this.apiClient,S={onopen:y,onmessage:b=>{AN(T,_.onmessage,b)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(b){}},E=this.webSocketFactory.create(d,bN(l),S);E.connect(),await m;const k={setup:{model:ot(this.apiClient,e.model)}};return E.send(JSON.stringify(k)),new RN(E,this.apiClient)}}class RN{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=QC(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=jC(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ba.PLAY)}pause(){this.sendPlaybackControl(Ba.PAUSE)}stop(){this.sendPlaybackControl(Ba.STOP)}resetContext(){this.sendPlaybackControl(Ba.RESET_CONTEXT)}close(){this.conn.close()}}function bN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function NN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DN(t,e,n){const r=new zA;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const o=JSON.parse(s);if(t.isVertexAI()){const l=tR(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class MN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new CN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&wx(e.config.tools)&&Ax(_);const y=PN(_);if(this.apiClient.isVertexAI()){const K=this.apiClient.getProject(),ae=this.apiClient.getLocation(),ce=this.apiClient.getApiKey(),me=!!K&&!!ae||!!ce;this.apiClient.getCustomBaseUrl()&&!me?m=d:(m=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,m))}else{const K=this.apiClient.getApiKey();let ae="BidiGenerateContent",ce="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ce="access_token"),m=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ae}?${ce}=${K}`}let T=()=>{};const S=new Promise(K=>{T=K}),E=e.callbacks,A=function(){var K;(K=E==null?void 0:E.onopen)===null||K===void 0||K.call(E),T({})},I=this.apiClient,k={onopen:A,onmessage:K=>{DN(I,E.onmessage,K)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(K){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(K){}},b=this.webSocketFactory.create(m,LN(y),k);b.connect(),await S;let B=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const K=this.apiClient.getProject(),ae=this.apiClient.getLocation();K&&ae&&(B=`projects/${K}/locations/${ae}/`+B)}let J={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rc.AUDIO]}:e.config.responseModalities=[Rc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],P=[];for(const K of W)if(this.isCallableTool(K)){const ae=K;P.push(await ae.tool())}else P.push(K);P.length>0&&(e.config.tools=P);const Q={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=XC(this.apiClient,Q):J=WC(this.apiClient,Q),delete J.config,b.send(JSON.stringify(J)),new kN(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ON={turnComplete:!0};class kN{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=mr(n.turns),e.isVertexAI()||(r=r.map(s=>Qc(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(IN)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ON),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eR(e)}:n={realtimeInput:ZC(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function LN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function PN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_=10;function I_(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(za(l)){s=!0;break}if(!s)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function za(t){return"callTool"in t&&typeof t.callTool=="function"}function UN(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>za(s)))!==null&&r!==void 0?r:!1}function D_(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(za(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(s)}),n}function M_(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FN extends pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,o,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!UN(n)||I_(n.config))return await this.generateContentInternal(d);const f=D_(n);if(f.length>0){const E=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let m,_;const y=mr(d.contents),T=(o=(s=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:N_;let S=0;for(;S<T&&(m=await this.generateContentInternal(d),!(!m.functionCalls||m.functionCalls.length===0));){const E=m.candidates[0].content,A=[];for(const I of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(za(I)){const b=await I.callTool(m.functionCalls);A.push(...b)}S++,_={role:"user",parts:A},d.contents=mr(d.contents),d.contents.push(E),d.contents.push(_),M_(d.config)&&(y.push(E),y.push(_))}return M_(d.config)&&(m.automaticFunctionCallingHistory=y),m},this.generateContentStream=async n=>{var r,s,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),I_(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const d=D_(n);if(d.length>0){const _=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((s=d==null?void 0:d.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ms(fi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,o,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async d=>za(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&wx(e.config.tools)){const d=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Ax(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,r,s;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(za(l)){const c=l,d=await c.tool();for(const f of(s=d.functionDeclarations)!==null&&s!==void 0?s:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,c)}}return o}async processAfcStream(e){var n,r,s;const o=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:N_;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(f,m,_){return Ir(this,arguments,function*(){for(var y,T,S,E,A,I;c<o;){l&&(c++,l=!1);const J=yield $e(f.processParamsMaybeAddMcpUsage(_)),W=yield $e(f.generateContentStreamInternal(J)),P=[],Q=[];try{for(var k=!0,b=(T=void 0,Dr(W)),B;B=yield $e(b.next()),y=B.done,!y;k=!0){E=B.value,k=!1;const K=E;if(yield yield $e(K),K.candidates&&(!((A=K.candidates[0])===null||A===void 0)&&A.content)){Q.push(K.candidates[0].content);for(const ae of(I=K.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(c<o&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(ae.functionCall.name)){const ce=yield $e(m.get(ae.functionCall.name).callTool([ae.functionCall]));P.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(K){T={error:K}}finally{try{!k&&!y&&(S=b.return)&&(yield $e(S.call(b)))}finally{if(T)throw T.error}}if(P.length>0){l=!0;const K=new tl;K.candidates=[{content:{role:"user",parts:P}}],yield yield $e(K);const ae=[];ae.push(...Q),ae.push({role:"user",parts:P});const ce=mr(_.contents).concat(ae);_.contents=ce}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=A_(this.apiClient,e);return c=Me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=R_(m),y=new tl;return Object.assign(y,_),y})}else{const f=w_(this.apiClient,e);return c=Me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=C_(m),y=new tl;return Object.assign(y,_),y})}}async generateContentStreamInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=A_(this.apiClient,e);return c=Me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(_){return Ir(this,arguments,function*(){var y,T,S,E;try{for(var A=!0,I=Dr(_),k;k=yield $e(I.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const b=E,B=R_(yield $e(b.json()),e);B.sdkHttpResponse={headers:b.headers};const J=new tl;Object.assign(J,B),yield yield $e(J)}}catch(b){T={error:b}}finally{try{!A&&!y&&(S=I.return)&&(yield $e(S.call(I)))}finally{if(T)throw T.error}}})})}else{const f=w_(this.apiClient,e);return c=Me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(_){return Ir(this,arguments,function*(){var y,T,S,E;try{for(var A=!0,I=Dr(_),k;k=yield $e(I.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const b=E,B=C_(yield $e(b.json()),e);B.sdkHttpResponse={headers:b.headers};const J=new tl;Object.assign(J,B),yield yield $e(J)}}catch(b){T={error:b}}finally{try{!A&&!y&&(S=I.return)&&(yield $e(S.call(I)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=MR(this.apiClient,e);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=kR(m),y=new o_;return Object.assign(y,_),y})}else{const f=DR(this.apiClient,e);return c=Me("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=OR(m),y=new o_;return Object.assign(y,_),y})}}async generateImagesInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=$R(this.apiClient,e);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=KR(m),y=new l_;return Object.assign(y,_),y})}else{const f=zR(this.apiClient,e);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=JR(m),y=new l_;return Object.assign(y,_),y})}}async editImageInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=RR(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const f=bR(d),m=new MA;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=$b(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const f=Jb(d),m=new OA;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=Cb(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=Rb(d),m=new kA;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=Ob(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=kb(d),m=new LA;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=cb(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>a0(m))}else{const f=ub(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>s0(m))}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=_b(this.apiClient,e);return c=Me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Tb(m),y=new u_;return Object.assign(y,_),y})}else{const f=yb(this.apiClient,e);return c=Me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=xb(m),y=new u_;return Object.assign(y,_),y})}}async update(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return c=Me("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>a0(m))}else{const f=Vb(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>s0(m))}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=SR(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=AR(m),y=new c_;return Object.assign(y,_),y})}else{const f=ER(this.apiClient,e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=wR(m),y=new c_;return Object.assign(y,_),y})}}async countTokens(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=_R(this.apiClient,e);return c=Me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=TR(m),y=new f_;return Object.assign(y,_),y})}else{const f=yR(this.apiClient,e);return c=Me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=xR(m),y=new f_;return Object.assign(y,_),y})}}async computeTokens(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=fR(this.apiClient,e);return o=Me("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const f=hR(d),m=new PA;return Object.assign(m,f),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ZR(this.apiClient,e);return c=Me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>{const _=jR(m),y=new bc;return Object.assign(y,_),y})}else{const f=QR(this.apiClient,e);return c=Me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>{const _=XR(m),y=new bc;return Object.assign(y,_),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BN extends pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=CA(e);return c=Me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l}else{const f=AA(e);return c=Me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=yA(e);return o=Me("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GN(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function HN(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>XN(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function VN(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const l=p(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],WN(t,c));const d=p(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),r}function qN(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],VN(t,r,n)),n}function zN(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $N(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JN(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function KN(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function YN(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],F0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const T=p(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],HN(vn(S)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let W=Qa(E);Array.isArray(W)&&(W=W.map(P=>QN(ja(P)))),g(e,["setup","tools"],W)}const A=p(t,["sessionResumption"]);e!==void 0&&A!=null&&g(e,["setup","sessionResumption"],jN(A));const I=p(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","inputAudioTranscription"],I);const k=p(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&g(e,["setup","outputAudioTranscription"],k);const b=p(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&g(e,["setup","realtimeInputConfig"],b);const B=p(t,["contextWindowCompression"]);e!==void 0&&B!=null&&g(e,["setup","contextWindowCompression"],B);const J=p(t,["proactivity"]);if(e!==void 0&&J!=null&&g(e,["setup","proactivity"],J),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function WN(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],YN(s,n)),n}function XN(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],zN(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],$N(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],GN(d));const f=p(t,["text"]);f!=null&&g(e,["text"],f);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function jN(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QN(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],JN(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],KN(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=p(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(o=>`${n}.${o}`);e.push(...s)}else e.push(n)}return e.join(",")}function eI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const o=ZN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class tI extends pi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=qN(this.apiClient,e);o=Me("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=eI(c,e.config);return s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nI(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function rI(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&nI(r,e),e}function iI(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function sI(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function aI(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&sI(r,e),e}function oI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends pi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ms(fi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iI(e);return o=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rI(e);s=Me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aI(e);return o=Me("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=oI(d),m=new UA;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uI extends pi{constructor(e,n=new lI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ms(fi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zb(e);return o=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nN(e);return o=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tN(e);s=Me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lN(e);return o=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=uN(d),m=new FA;return Object.assign(m,f),m})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cN(e);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=fN(d),m=new BA;return Object.assign(m,f),m})}}async importFile(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sN(e);return o=Me("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=iN(d),m=new O0;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cx=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Cx=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const cI=()=>Cx();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const u0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{}class Rn extends gr{constructor(e,n,r,s){super(`${Rn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new tf({message:r,cause:u0(n)});const o=n;return e===400?new bx(e,o,r,s):e===401?new Nx(e,o,r,s):e===403?new Ix(e,o,r,s):e===404?new Dx(e,o,r,s):e===409?new Mx(e,o,r,s):e===422?new Ox(e,o,r,s):e===429?new kx(e,o,r,s):e>=500?new Lx(e,o,r,s):new Rn(e,o,r,s)}}class c0 extends Rn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class tf extends Rn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Rx extends tf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class bx extends Rn{}class Nx extends Rn{}class Ix extends Rn{}class Dx extends Rn{}class Mx extends Rn{}class Ox extends Rn{}class kx extends Rn{}class Lx extends Rn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fI=/^[a-z][a-z0-9+.-]*:/i,hI=t=>fI.test(t);let f0=t=>(f0=Array.isArray,f0(t));const dI=f0;let pI=dI;const O_=pI;function mI(t){if(!t)return!0;for(const e in t)return!1;return!0}function gI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new gr(`${t} must be an integer`);if(e<0)throw new gr(`${t} must be a positive integer`);return e},yI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _I=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const TI=()=>{var t,e,n,r,s;const o=xI();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":L_(Deno.build.os),"X-Stainless-Arch":k_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":L_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":k_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const l=EI();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:e,version:`${s}.${o}.${l}`}}}return null}const k_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",L_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let rc;const SI=()=>rc??(rc=TI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Px(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function AI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Px({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Ux(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fx=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function kd(t,e,n){return Fx(),new File(t,e??"unknown_file",n)}function bI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const NI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",II=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Bx(t),DI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MI(t,e,n){if(Fx(),t=await t,II(t))return t instanceof File?t:kd([await t.arrayBuffer()],t.name);if(DI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),kd(await h0(s),e,n)}const r=await h0(t);if(e||(e=bI(t)),!(n!=null&&n.type)){const s=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return kd(r,e,n)}async function h0(t){var e,n,r,s,o;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(Bx(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(NI(t))try{for(var c=!0,d=Dr(t),f;f=await d.next(),e=f.done,!e;c=!0){s=f.value,c=!1;const m=s;l.push(...await h0(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const m=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${OI(t)}`)}return l}function OI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gx{constructor(e){this._client=e}}Gx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const P_=Object.freeze(Object.create(null)),kI=(t=Hx)=>(function(n,...r){if(n.length===1)return n[0];let s=!1;const o=[],l=n.reduce((m,_,y)=>{var T,S,E;/[?#]/.test(_)&&(s=!0);const A=r[y];let I=(s?encodeURIComponent:t)(""+A);return y!==r.length&&(A==null||typeof A=="object"&&A.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((T=A.hasOwnProperty)!==null&&T!==void 0?T:P_))!==null&&S!==void 0?S:P_))===null||E===void 0?void 0:E.toString))&&(I=A+"",o.push({start:m.length+_.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),m+_+(y===r.length?"":I)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((m,_)=>m.start-_.start),o.length>0){let m=0;const _=o.reduce((y,T)=>{const S=" ".repeat(T.start-m),E="^".repeat(T.length);return m=T.start+T.length,y+S+E},"");throw new gr(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${l}
${_}`)}return l}),ic=kI(Hx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends Gx{create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,o=Ic(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ic`/${s}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(ic`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(ic`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const o=n??{},{api_version:l=this._client.apiVersion}=o,c=Ic(o,["api_version"]);return this._client.get(ic`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}Vx._key=Object.freeze(["interactions"]);class qx extends Vx{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let sc;function G0(t){let e;return(sc??(e=new globalThis.TextEncoder,sc=e.encode.bind(e)))(t)}let ac;function U_(t){let e;return(ac??(e=new globalThis.TextDecoder,ac=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?G0(e):e;this.buffer=LI([this.buffer,n]);const r=[];let s;for(;(s=PI(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(U_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,l=U_(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}nf.NEWLINE_CHARS=new Set([`
`,"\r"]);nf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function PI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function UI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dc={off:0,error:200,warn:300,info:400,debug:500},F_=(t,e,n)=>{if(t){if(gI(Dc,t))return t;Sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Dc))}`)}};function sl(){}function oc(t,e,n){return!e||Dc[t]>Dc[n]?sl:e[t].bind(e)}const FI={error:sl,warn:sl,info:sl,debug:sl};let B_=new WeakMap;function Sn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return FI;const s=B_.get(n);if(s&&s[0]===r)return s[1];const o={error:oc("error",n,r),warn:oc("warn",n,r),info:oc("info",n,r),debug:oc("debug",n,r)};return B_.set(n,[r,o]),o}const Es=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ga{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const o=r?Sn(r):console;function l(){return Ir(this,arguments,function*(){var d,f,m,_;if(s)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let y=!1;try{try{for(var T=!0,S=Dr(BI(e,n)),E;E=yield $e(S.next()),d=E.done,!d;T=!0){_=E.value,T=!1;const A=_;if(!y)if(A.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield $e(JSON.parse(A.data))}catch(I){throw o.error("Could not parse message into JSON:",A.data),o.error("From chunk:",A.raw),I}}}catch(A){f={error:A}}finally{try{!T&&!d&&(m=S.return)&&(yield $e(m.call(S)))}finally{if(f)throw f.error}}y=!0}catch(A){if(l0(A))return yield $e(void 0);throw A}finally{y||n.abort()}})}return new Ga(l,n,r)}static fromReadableStream(e,n,r){let s=!1;function o(){return Ir(this,arguments,function*(){var d,f,m,_;const y=new nf,T=Ux(e);try{for(var S=!0,E=Dr(T),A;A=yield $e(E.next()),d=A.done,!d;S=!0){_=A.value,S=!1;const I=_;for(const k of y.decode(I))yield yield $e(k)}}catch(I){f={error:I}}finally{try{!S&&!d&&(m=E.return)&&(yield $e(m.call(E)))}finally{if(f)throw f.error}}for(const I of y.flush())yield yield $e(I)})}function l(){return Ir(this,arguments,function*(){var d,f,m,_;if(s)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let y=!1;try{try{for(var T=!0,S=Dr(o()),E;E=yield $e(S.next()),d=E.done,!d;T=!0){_=E.value,T=!1;const A=_;y||A&&(yield yield $e(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!T&&!d&&(m=S.return)&&(yield $e(m.call(S)))}finally{if(f)throw f.error}}y=!0}catch(A){if(l0(A))return yield $e(void 0);throw A}finally{y||n.abort()}})}return new Ga(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const l=r.next();e.push(l),n.push(l)}return o.shift()}});return[new Ga(()=>s(e),this.controller,this.client),new Ga(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Px({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:o}=await n.next();if(o)return r.close();const l=G0(JSON.stringify(s)+`
`);r.enqueue(l)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function BI(t,e){return Ir(this,arguments,function*(){var r,s,o,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gr("Attempted to iterate over a response with no body");const c=new HI,d=new nf,f=Ux(t.body);try{for(var m=!0,_=Dr(GI(f)),y;y=yield $e(_.next()),r=y.done,!r;m=!0){l=y.value,m=!1;const T=l;for(const S of d.decode(T)){const E=c.decode(S);E&&(yield yield $e(E))}}}catch(T){s={error:T}}finally{try{!m&&!r&&(o=_.return)&&(yield $e(o.call(_)))}finally{if(s)throw s.error}}for(const T of d.flush()){const S=c.decode(T);S&&(yield yield $e(S))}})}function GI(t){return Ir(this,arguments,function*(){var n,r,s,o;let l=new Uint8Array;try{for(var c=!0,d=Dr(t),f;f=yield $e(d.next()),n=f.done,!n;c=!0){o=f.value,c=!1;const m=o;if(m==null)continue;const _=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?G0(m):m;let y=new Uint8Array(l.length+_.length);y.set(l),y.set(_,l.length),l=y;let T;for(;(T=UI(l))!==-1;)yield yield $e(l.slice(0,T)),l=l.slice(T)}}catch(m){r={error:m}}finally{try{!c&&!n&&(s=d.return)&&(yield $e(s.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield $e(l))})}class HI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=VI(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function VI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qI(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:o}=e,l=await(async()=>{var c;if(e.options.stream)return Sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ga.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Sn(t).debug(`[${r}] response parsed`,Es({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H0 extends Promise{constructor(e,n,r=qI){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new H0(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx=Symbol("brand.privateNullableHeaders");function*zI(t){if(!t)return;if(zx in t){const{values:r,nulls:s}=t;yield*r.entries();for(const o of s)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():O_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const o=O_(r[1])?r[1]:[r[1]];let l=!1;for(const c of o)c!==void 0&&(e&&!l&&(l=!0,yield[s,null]),yield[s,c])}}const nl=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[o,l]of zI(r)){const c=o.toLowerCase();s.has(c)||(e.delete(o),s.add(c)),l===null?(e.delete(o),n.add(c)):(e.append(o,l),n.delete(c))}}return{[zx]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ld=t=>{var e,n,r,s,o,l;if(typeof globalThis.process<"u")return(r=(n=(e=hA)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||o===void 0?void 0:o.call(s,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $x;class rf{constructor(e){var n,r,s,o,l,c,d,{baseURL:f=Ld("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Ld("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,y=Ic(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:m,apiVersion:_},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:rf.DEFAULT_TIMEOUT,this.logger=(s=T.logger)!==null&&s!==void 0?s:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=F_(T.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:F_(Ld("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=T.fetch)!==null&&d!==void 0?d:wI(),this.encoder=RI,this._options=T,this.apiKey=m,this.apiVersion=_,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=nl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return nl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return nl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new gr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ka}`}defaultIdempotencyKey(){return`stainless-node-retry-${cI()}`}makeStatusError(e,n,r,s){return Rn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,o=hI(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return mI(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new H0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,o,l;const c=await e,d=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:m,timeout:_}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:m,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Sn(this).debug(`[${y}] sending request`,Es({retryOfRequestLogID:r,method:c.method,url:m,options:c,headers:f.headers})),!((o=c.signal)===null||o===void 0)&&o.aborted)throw new c0;const E=new AbortController,A=await this.fetchWithTimeout(m,f,_,E).catch(u0),I=Date.now();if(A instanceof globalThis.Error){const b=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new c0;const B=l0(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return Sn(this).info(`[${y}] connection ${B?"timed out":"failed"} - ${b}`),Sn(this).debug(`[${y}] connection ${B?"timed out":"failed"} (${b})`,Es({retryOfRequestLogID:r,url:m,durationMs:I-S,message:A.message})),this.retryRequest(c,n,r??y);throw Sn(this).info(`[${y}] connection ${B?"timed out":"failed"} - error; no more retries left`),Sn(this).debug(`[${y}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Es({retryOfRequestLogID:r,url:m,durationMs:I-S,message:A.message})),B?new Rx:new tf({cause:A})}const k=`[${y}${T}] ${f.method} ${m} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${I-S}ms`;if(!A.ok){const b=await this.shouldRetry(A);if(n&&b){const K=`retrying, ${n} attempts remaining`;return await CI(A.body),Sn(this).info(`${k} - ${K}`),Sn(this).debug(`[${y}] response error (${K})`,Es({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:I-S})),this.retryRequest(c,n,r??y,A.headers)}const B=b?"error; no more retries left":"error; not retryable";Sn(this).info(`${k} - ${B}`);const J=await A.text().catch(K=>u0(K).message),W=yI(J),P=W?void 0:J;throw Sn(this).debug(`[${y}] response error (${B})`,Es({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:P,durationMs:Date.now()-S})),this.makeStatusError(A.status,W,P,A.headers)}return Sn(this).info(k),Sn(this).debug(`[${y}] response start`,Es({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:I-S})),{response:A,options:c,controller:E,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,s){const o=n||{},{signal:l,method:c}=o,d=Ic(o,["signal","method"]);l&&l.addEventListener("abort",()=>s.abort());const f=setTimeout(()=>s.abort(),r),m=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},m?{duplex:"half"}:{}),{method:"GET"}),d);c&&(_.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(f)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var o;let l;const c=s==null?void 0:s.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const d=s==null?void 0:s.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await _I(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,o;const l=Object.assign({},e),{method:c,path:d,query:f,defaultBaseURL:m}=l,_=this.buildURL(d,f,m);"timeout"in l&&vI("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:T}=this.buildBody({options:l}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:_,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=nl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),SI()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=nl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:AI(e)}:this.encoder({body:e,headers:r})}}rf.DEFAULT_TIMEOUT=6e4;class tn extends rf{constructor(){super(...arguments),this.interactions=new qx(this)}}$x=tn;tn.GeminiNextGenAPIClient=$x;tn.GeminiNextGenAPIClientError=gr;tn.APIError=Rn;tn.APIConnectionError=tf;tn.APIConnectionTimeoutError=Rx;tn.APIUserAbortError=c0;tn.NotFoundError=Dx;tn.ConflictError=Mx;tn.RateLimitError=kx;tn.BadRequestError=bx;tn.AuthenticationError=Nx;tn.InternalServerError=Lx;tn.PermissionDeniedError=Ix;tn.UnprocessableEntityError=Ox;tn.toFile=MI;tn.Interactions=qx;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $I(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function JI(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function KI(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function YI(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function WI(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const l=p(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(p(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(p(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const d=p(t,["learningRate"]);if(e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","learningRate"],d),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(p(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(p(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(p(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(p(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function XI(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const J=p(t,["validationDataset"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec"],Pd(J))}else if(s==="PREFERENCE_TUNING"){const J=p(t,["validationDataset"]);e!==void 0&&J!=null&&g(e,["preferenceOptimizationSpec"],Pd(J))}else if(s==="DISTILLATION"){const J=p(t,["validationDataset"]);e!==void 0&&J!=null&&g(e,["distillationSpec"],Pd(J))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const l=p(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const J=p(t,["epochCount"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],J)}else if(c==="PREFERENCE_TUNING"){const J=p(t,["epochCount"]);e!==void 0&&J!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],J)}else if(c==="DISTILLATION"){const J=p(t,["epochCount"]);e!==void 0&&J!=null&&g(e,["distillationSpec","hyperParameters","epochCount"],J)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const J=p(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],J)}else if(d==="PREFERENCE_TUNING"){const J=p(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],J)}else if(d==="DISTILLATION"){const J=p(t,["learningRateMultiplier"]);e!==void 0&&J!=null&&g(e,["distillationSpec","hyperParameters","learningRateMultiplier"],J)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const J=p(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],J)}else if(f==="PREFERENCE_TUNING"){const J=p(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],J)}else if(f==="DISTILLATION"){const J=p(t,["exportLastCheckpointOnly"]);e!==void 0&&J!=null&&g(e,["distillationSpec","exportLastCheckpointOnly"],J)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const J=p(t,["adapterSize"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],J)}else if(m==="PREFERENCE_TUNING"){const J=p(t,["adapterSize"]);e!==void 0&&J!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],J)}else if(m==="DISTILLATION"){const J=p(t,["adapterSize"]);e!==void 0&&J!=null&&g(e,["distillationSpec","hyperParameters","adapterSize"],J)}let _=p(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const J=p(t,["tuningMode"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","tuningMode"],J)}const y=p(t,["customBaseModel"]);e!==void 0&&y!=null&&g(e,["customBaseModel"],y);let T=p(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const J=p(t,["batchSize"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","hyperParameters","batchSize"],J)}let S=p(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const J=p(t,["learningRate"]);e!==void 0&&J!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRate"],J)}const E=p(t,["labels"]);e!==void 0&&E!=null&&g(e,["labels"],E);const A=p(t,["beta"]);e!==void 0&&A!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],A);const I=p(t,["baseTeacherModel"]);e!==void 0&&I!=null&&g(e,["distillationSpec","baseTeacherModel"],I);const k=p(t,["tunedTeacherModelSource"]);e!==void 0&&k!=null&&g(e,["distillationSpec","tunedTeacherModelSource"],k);const b=p(t,["sftLossWeightMultiplier"]);e!==void 0&&b!=null&&g(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],b);const B=p(t,["outputUri"]);return e!==void 0&&B!=null&&g(e,["outputUri"],B),r}function jI(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const o=p(t,["trainingDataset"]);o!=null&&l4(o);const l=p(t,["config"]);return l!=null&&WI(l,n),n}function QI(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const o=p(t,["trainingDataset"]);o!=null&&u4(o,n,e);const l=p(t,["config"]);return l!=null&&XI(l,n,e),n}function ZI(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function e4(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function t4(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function n4(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function r4(t,e){const n={},r=p(t,["config"]);return r!=null&&t4(r,n),n}function i4(t,e){const n={},r=p(t,["config"]);return r!=null&&n4(r,n),n}function s4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Jx(c))),g(n,["tuningJobs"],l)}return n}function a4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>d0(c))),g(n,["tuningJobs"],l)}return n}function o4(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function l4(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(n,["examples","examples"],s)}return n}function u4(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(o==="DISTILLATION"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Jx(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["state"]);o!=null&&g(n,["state"],lx(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["tuningTask","completeTime"]);d!=null&&g(n,["endTime"],d);const f=p(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const _=p(t,["baseModel"]);_!=null&&g(n,["baseModel"],_);const y=p(t,["_self"]);return y!=null&&g(n,["tunedModel"],o4(y)),n}function d0(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["state"]);o!=null&&g(n,["state"],lx(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(n,["endTime"],d);const f=p(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const _=p(t,["description"]);_!=null&&g(n,["description"],_);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const T=p(t,["tunedModel"]);T!=null&&g(n,["tunedModel"],T);const S=p(t,["preTunedModel"]);S!=null&&g(n,["preTunedModel"],S);const E=p(t,["supervisedTuningSpec"]);E!=null&&g(n,["supervisedTuningSpec"],E);const A=p(t,["preferenceOptimizationSpec"]);A!=null&&g(n,["preferenceOptimizationSpec"],A);const I=p(t,["distillationSpec"]);I!=null&&g(n,["distillationSpec"],I);const k=p(t,["tuningDataStats"]);k!=null&&g(n,["tuningDataStats"],k);const b=p(t,["encryptionSpec"]);b!=null&&g(n,["encryptionSpec"],b);const B=p(t,["partnerModelTuningSpec"]);B!=null&&g(n,["partnerModelTuningSpec"],B);const J=p(t,["customBaseModel"]);J!=null&&g(n,["customBaseModel"],J);const W=p(t,["experiment"]);W!=null&&g(n,["experiment"],W);const P=p(t,["labels"]);P!=null&&g(n,["labels"],P);const Q=p(t,["outputUri"]);Q!=null&&g(n,["outputUri"],Q);const K=p(t,["pipelineJob"]);K!=null&&g(n,["pipelineJob"],K);const ae=p(t,["serviceAccount"]);ae!=null&&g(n,["serviceAccount"],ae);const ce=p(t,["tunedModelDisplayName"]);ce!=null&&g(n,["tunedModelDisplayName"],ce);const me=p(t,["veoTuningSpec"]);return me!=null&&g(n,["veoTuningSpec"],me),n}function c4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(t,["done"]);l!=null&&g(n,["done"],l);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function Pd(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f4 extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:s});return o.baseModel=void 0,await this.tuneInternal(o)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),o=await this.tuneMldevInternal(s);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:e0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=e4(e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>d0(m))}else{const f=ZI(e);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>Jx(m))}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=i4(e);return c=Me("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=a4(m),y=new h_;return Object.assign(y,_),y})}else{const f=r4(e);return c=Me("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=s4(m),y=new h_;return Object.assign(y,_),y})}}async cancel(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=JI(e);return c=Me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=YI(m),y=new d_;return Object.assign(y,_),y})}else{const f=$I(e);return c=Me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=KI(m),y=new d_;return Object.assign(y,_),y})}}async tuneInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=QI(e,e);return o=Me("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>d0(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jI(e);return o=Me("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>c4(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h4{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const d4=1024*1024*8,p4=3,m4=1e3,g4=2,Mc="x-goog-upload-status";async function v4(t,e,n){var r;const s=await Kx(t,e,n),o=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Mc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function y4(t,e,n){var r;const s=await Kx(t,e,n),o=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Mc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=nx(o),c=new k0;return Object.assign(c,l),c}async function Kx(t,e,n){var r,s;let o=0,l=0,c=new n0(new Response),d="upload";for(o=t.size;l<o;){const f=Math.min(d4,o-l),m=t.slice(l,l+f);l+f>=o&&(d+=", finalize");let _=0,y=m4;for(;_<p4&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Mc]));)_++,await x4(y),y=y*g4;if(l+=f,((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[Mc])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function _4(t){return{size:t.size,type:t.type}}function x4(t){return new Promise(e=>setTimeout(e,t))}class T4{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v4(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E4{create(e,n,r){return new S4(e,n,r)}}class S4{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_="x-goog-api-key";class w4{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(G_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(G_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A4="gl-node/";class C4{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new tn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=gA(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new w4(this.apiKey);this.apiClient=new _N({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:A4+"web",uploader:new T4,downloader:new h4}),this.models=new FN(this.apiClient),this.live=new MN(this.apiClient,s,new E4),this.batches=new J2(this.apiClient),this.chats=new RC(this.models,this.apiClient),this.caches=new wC(this.apiClient),this.files=new BC(this.apiClient),this.operations=new BN(this.apiClient),this.authTokens=new tI(this.apiClient),this.tunings=new f4(this.apiClient),this.fileSearchStores=new uI(this.apiClient)}}const R4=()=>"AIzaSyDcmQzcijznymvfrAfoK-X2x_9mQSuI_Sw",V0=()=>{const t=R4();return new C4({apiKey:t})},b4=async(t,e)=>{try{const n=V0(),s=`
          :
      ${e.map(c=>`- ${c.name} (: ${c.locationPath}, : ${c.notes.join(",")})`).join(`
`)}

       : "${t}"
      
              . 
             (,)  . 
          '' .
    `,l=(await n.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:s}]}]})).text||"";return l.includes("")?[]:l.split(",").map(c=>c.trim())}catch(n){return console.error("Gemini Search Error:",n),[]}},N4=async t=>{try{const e=V0(),n=`
       : "${t}"
              3 .
           : [/, /IT, /, ,  , ]
        JSON  : {"category": "", "notes": ["1", "2", "3"]}
    `,s=(await e.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}],config:{responseMimeType:"application/json"}})).text||"{}";return JSON.parse(s)}catch(e){return console.error("Gemini Suggest Error:",e),{category:"",notes:[]}}},I4=async t=>{try{const e=V0(),n=t.replace(/^data:image\/\w+;base64,/,""),o=(await e.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:`
           .
      1.       (name).
      2.        (category): [/, /IT, /, ,  , ].
      3.       3  (notes).
      
       JSON  : {"name": "...", "category": "...", "notes": ["...", "...", "..."]}
    `},{inlineData:{mimeType:"image/jpeg",data:n}}]}],config:{responseMimeType:"application/json"}})).text||"{}";return JSON.parse(o)}catch(e){return console.error("Gemini Image Analysis Error:",e),{name:"",category:"",notes:[]}}},D4="modulepreload",M4=function(t){return"/memo/"+t},H_={},O4=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(f=>{if(f=M4(f),f in H_)return;H_[f]=!0;const m=f.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":D4,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((T,S)=>{y.addEventListener("load",T),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Oc={items:[],searchTerm:"",sortOption:"latest",viewMode:"card",isAdding:!1,selectedItem:null,isEditMode:!1,formState:{itemName:"",locType:oy[0],locDetail:ly[0],itemCat:I0.OTHER,itemNotes:"",itemImages:[]},isAnalyzing:!1,aiSearchResults:null,isSearchingAI:!1,isCameraActive:!1,activeCameraSlot:null,config:{locTypes:oy,homeLocs:ly,officeLocs:uA,digitalLocs:cA,categories:fA},isSettingsOpen:!1},k4=(t,e)=>{switch(e.type){case"INITIALIZE_STATE":return{...t,...e.payload};case"SET_ITEMS":return{...t,items:e.payload};case"SET_SEARCH_TERM":return{...t,searchTerm:e.payload};case"SET_SORT_OPTION":return{...t,sortOption:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"TOGGLE_ADDING":return{...t,isAdding:e.payload,selectedItem:null,isEditMode:!1};case"SET_SELECTED_ITEM":return{...t,selectedItem:e.payload,isAdding:!1};case"TOGGLE_EDIT_MODE":return{...t,isEditMode:e.payload};case"UPDATE_FORM":console.log(" UPDATE_FORM  :",e.payload),console.log("  formState:",t.formState);const n={...t.formState,...e.payload};return console.log("  formState:",n),{...t,formState:n};case"RESET_FORM":return{...t,formState:Oc.formState};case"SET_IS_ANALYZING":return{...t,isAnalyzing:e.payload};case"SET_AI_SEARCH_RESULTS":return{...t,aiSearchResults:e.payload};case"SET_IS_SEARCHING_AI":return{...t,isSearchingAI:e.payload};case"SET_CAMERA_ACTIVE":return{...t,isCameraActive:e.payload.isActive,activeCameraSlot:e.payload.slot};case"UPDATE_CONFIG":return{...t,config:{...t.config,...e.payload}};case"TOGGLE_SETTINGS":return{...t,isSettingsOpen:e.payload};default:return t}},Os=Lt.createContext({state:Oc,dispatch:()=>null}),L4=({children:t})=>{const[e,n]=Lt.useReducer(k4,Oc);return Lt.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("whereisit_items"),o={locTypes:JSON.parse(localStorage.getItem("config_loc_types")||"null"),homeLocs:JSON.parse(localStorage.getItem("config_home_locs")||"null"),officeLocs:JSON.parse(localStorage.getItem("config_office_locs")||"null"),digitalLocs:JSON.parse(localStorage.getItem("config_digital_locs")||"null"),categories:JSON.parse(localStorage.getItem("config_categories")||"null")},l={};s&&(l.items=JSON.parse(s));const c={};o.locTypes&&(c.locTypes=o.locTypes),o.homeLocs&&(c.homeLocs=o.homeLocs),o.officeLocs&&(c.officeLocs=o.officeLocs),o.digitalLocs&&(c.digitalLocs=o.digitalLocs),o.categories&&(c.categories=o.categories),Object.keys(c).length>0&&(l.config={...Oc.config,...c}),n({type:"INITIALIZE_STATE",payload:l})}catch(s){console.error("Failed to load state",s)}})()},[]),Lt.useEffect(()=>{O4(async()=>{const{supabaseService:r}=await Promise.resolve().then(()=>l6);return{supabaseService:r}},void 0).then(({supabaseService:r})=>{r.fetchItems().then(s=>{s&&s.length>0&&(console.log("Loaded items from Supabase:",s.length),n({type:"SET_ITEMS",payload:s}))}).catch(s=>console.error("Supabase fetch failed",s))})},[]),Lt.useEffect(()=>{try{localStorage.setItem("whereisit_items",JSON.stringify(e.items))}catch(r){r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")?console.warn("LocalStorage is full. Items will only be saved to the cloud (Supabase)."):console.error("Failed to save items to localStorage",r)}},[e.items]),Lt.useEffect(()=>{localStorage.setItem("config_loc_types",JSON.stringify(e.config.locTypes)),localStorage.setItem("config_home_locs",JSON.stringify(e.config.homeLocs)),localStorage.setItem("config_office_locs",JSON.stringify(e.config.officeLocs)),localStorage.setItem("config_digital_locs",JSON.stringify(e.config.digitalLocs)),localStorage.setItem("config_categories",JSON.stringify(e.config.categories))},[e.config]),D.jsx(Os.Provider,{value:{state:e,dispatch:n},children:t})},P4=()=>{const{state:t,dispatch:e}=Lt.useContext(Os),{searchTerm:n,isSearchingAI:r,aiSearchResults:s,items:o}=t,l=async()=>{if(n.trim()){e({type:"SET_IS_SEARCHING_AI",payload:!0});try{const d=await b4(n,o);e({type:"SET_AI_SEARCH_RESULTS",payload:d})}catch(d){console.error("AI Search failed",d)}finally{e({type:"SET_IS_SEARCHING_AI",payload:!1})}}},c=()=>{e({type:"SET_AI_SEARCH_RESULTS",payload:null}),e({type:"SET_SEARCH_TERM",payload:""})};return D.jsxs("div",{className:"w-full",children:[D.jsx("div",{className:"relative",children:D.jsxs("div",{className:"relative",children:[D.jsx("i",{className:"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-surface-300 text-sm"}),D.jsx("input",{type:"text",placeholder:" , ,  ...",className:"input-field w-full pl-11 pr-12",value:n,onChange:d=>e({type:"SET_SEARCH_TERM",payload:d.target.value}),onKeyDown:d=>d.key==="Enter"&&l()}),n&&D.jsx("button",{onClick:l,disabled:r,className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-lg gradient-primary flex items-center justify-center text-white text-xs transition-all touch-feedback disabled:opacity-50",children:r?D.jsx("i",{className:"fas fa-spinner fa-spin"}):D.jsx("i",{className:"fas fa-wand-magic-sparkles"})})]})}),s&&D.jsxs("div",{className:"mt-2.5 px-3.5 py-2.5 flex items-center justify-between rounded-xl border border-primary-100 animate-fade-in-scale",style:{background:"linear-gradient(135deg, #eef2ff, #e0e7ff)"},children:[D.jsxs("p",{className:"text-xs font-bold text-primary-600 flex items-center gap-1.5",children:[D.jsx("i",{className:"fas fa-wand-magic-sparkles text-primary-400"}),"AI  ",D.jsxs("span",{className:"badge badge-primary ml-1",children:[s.length,""]})]}),D.jsxs("button",{onClick:c,className:"text-[11px] font-bold text-surface-400 hover:text-surface-600 flex items-center gap-1 px-2.5 py-1 rounded-lg bg-white/80 border border-surface-200 transition-all touch-feedback",children:[D.jsx("i",{className:"fas fa-times text-[9px]"}),""]})]})]})},U4=({items:t})=>{const{state:e,dispatch:n}=Lt.useContext(Os),r=d=>{n({type:"SET_SELECTED_ITEM",payload:d})},s=d=>{var f;confirm(D0)&&(n({type:"SET_ITEMS",payload:e.items.filter(m=>m.id!==d)}),((f=e.selectedItem)==null?void 0:f.id)===d&&n({type:"SET_SELECTED_ITEM",payload:null}))},o=d=>{const f={"/":{bg:"bg-blue-50",text:"text-blue-600",dot:"bg-blue-400"},"/IT":{bg:"bg-purple-50",text:"text-purple-600",dot:"bg-purple-400"},"/":{bg:"bg-pink-50",text:"text-pink-600",dot:"bg-pink-400"},:{bg:"bg-emerald-50",text:"text-emerald-600",dot:"bg-emerald-400"}," ":{bg:"bg-indigo-50",text:"text-indigo-600",dot:"bg-indigo-400"},:{bg:"bg-surface-100",text:"text-surface-600",dot:"bg-surface-400"}};return f[d]||f.},l=d=>{const f=d.split(" > ")[0]||"";return{:"fa-house",:"fa-building",:"fa-cloud",:"fa-location-dot"}[f]||"fa-location-dot"},c=d=>{const f=Date.now()-d,m=Math.floor(f/6e4),_=Math.floor(f/36e5),y=Math.floor(f/864e5);return m<1?" ":m<60?`${m} `:_<24?`${_} `:y<7?`${y} `:new Date(d).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})};return t.length===0?D.jsxs("div",{className:"text-center py-20 animate-fade-in-scale",children:[D.jsx("div",{className:"w-20 h-20 rounded-full bg-surface-100 flex items-center justify-center mx-auto mb-5",children:D.jsx("i",{className:"fas fa-search text-3xl text-surface-300"})}),D.jsx("p",{className:"text-base font-bold text-surface-500 mb-1",children:"  "}),D.jsx("p",{className:"text-sm text-surface-400",children:"  "})]}):e.viewMode==="table"?D.jsx("div",{className:"pb-28 space-y-2 animate-fade-in",children:t.map((d,f)=>{var m;return D.jsxs("div",{onClick:()=>r(d),className:"list-item-interactive card flex items-center gap-3 p-3 cursor-pointer",style:{animationDelay:`${f*.03}s`},children:[D.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden shrink-0 bg-surface-100 flex items-center justify-center",children:d.imageUrls&&d.imageUrls[0]?D.jsx("img",{src:d.imageUrls[0],alt:d.name,className:"w-full h-full object-cover"}):D.jsx("i",{className:`fas ${l(d.locationPath)} text-surface-300 text-sm`})}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("p",{className:"font-bold text-surface-800 text-sm truncate",children:d.name}),D.jsxs("p",{className:"text-[11px] text-surface-400 font-medium truncate",children:[D.jsx("i",{className:`fas ${l(d.locationPath)} mr-1 text-[9px]`}),(m=d.locationPath.split(">").pop())==null?void 0:m.trim()]})]}),D.jsx("div",{className:`badge ${o(d.category).bg} ${o(d.category).text} shrink-0`,children:d.category.split("/")[0]}),D.jsx("button",{onClick:_=>{_.stopPropagation(),s(d.id)},className:"w-8 h-8 rounded-lg text-surface-300 hover:bg-danger-500 hover:text-white flex items-center justify-center transition-all shrink-0 touch-feedback",children:D.jsx("i",{className:"fas fa-trash-alt text-xs"})})]},d.id)})}):D.jsx("div",{className:"space-y-3 pb-28 animate-fade-in",children:t.map((d,f)=>{const m=o(d.category);return D.jsx("div",{onClick:()=>r(d),className:"card card-interactive p-4 cursor-pointer",style:{animationDelay:`${f*.04}s`},children:D.jsxs("div",{className:"flex gap-3.5 items-start",children:[D.jsxs("div",{className:"relative shrink-0",children:[d.imageUrls&&d.imageUrls.length>0&&d.imageUrls[0]?D.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-surface-100 ring-2 ring-surface-100",children:D.jsx("img",{src:d.imageUrls[0],alt:d.name,className:"w-full h-full object-cover"})}):D.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center ring-2 ring-primary-50",children:D.jsx("i",{className:"fas fa-cube text-primary-300 text-xl"})}),D.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-md ${m.dot} flex items-center justify-center ring-2 ring-white`,children:D.jsx("i",{className:"fas fa-tag text-white text-[7px]"})})]}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsxs("div",{className:"flex items-start justify-between gap-2",children:[D.jsx("h4",{className:"font-bold text-surface-800 text-base leading-tight truncate",children:d.name}),D.jsx("span",{className:"text-[10px] font-medium text-surface-300 shrink-0 mt-0.5",children:c(d.updatedAt)})]}),D.jsx("div",{className:"flex items-center gap-1.5 mt-1.5",children:D.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-surface-400 font-medium",children:[D.jsx("i",{className:`fas ${l(d.locationPath)} text-primary-300 text-[10px]`}),D.jsx("span",{className:"truncate max-w-[140px]",children:d.locationPath})]})}),D.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[D.jsx("span",{className:`badge ${m.bg} ${m.text}`,children:d.category}),d.notes.length>0&&D.jsxs("span",{className:"badge badge-surface",children:[D.jsx("i",{className:"fas fa-sticky-note mr-1 text-[8px]"})," ",d.notes.length]}),d.imageUrls&&d.imageUrls.filter(_=>_).length>0&&D.jsxs("span",{className:"badge badge-surface",children:[D.jsx("i",{className:"fas fa-image mr-1 text-[8px]"}),d.imageUrls.filter(_=>_).length]})]})]})]})},d.id)})})},V_=({onSubmit:t,submitLabel:e,isAnalyzing:n,performNameAnalysis:r,removeImage:s,handleImageUpload:o})=>{const{state:l,dispatch:c}=Lt.useContext(Os),{formState:d,config:f}=l,{itemName:m,locType:_,locDetail:y,itemNotes:T,itemImages:S}=d,E=Lt.useRef([null,null]),A=Lt.useRef([null,null]),I=Lt.useCallback(W=>{const P=E.current[W];P&&(P.value="",P.click())},[]),k=Lt.useCallback(W=>{const P=A.current[W];P&&(P.value="",P.click())},[]),b=W=>{c({type:"UPDATE_FORM",payload:W})},B=["  ","  "],J=["fa-cube","fa-location-dot"];return D.jsxs("form",{onSubmit:t,className:"space-y-5 pt-1 animate-fade-in",children:[D.jsx("div",{className:"grid grid-cols-2 gap-3",children:[0,1].map(W=>{const P=S[W];return D.jsxs("div",{className:"aspect-square rounded-2xl bg-surface-50 border-2 border-dashed border-surface-200 flex flex-col items-center justify-center overflow-hidden relative group transition-all hover:border-primary-300",children:[D.jsx("input",{ref:Q=>{E.current[W]=Q},type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:Q=>{console.log(`    -  ${W},   ...`),o(Q,W)}}),D.jsx("input",{ref:Q=>{A.current[W]=Q},type:"file",accept:"image/*",className:"hidden",onChange:Q=>{console.log(`    -  ${W},   ...`),o(Q,W)}}),P?D.jsxs("div",{className:"w-full h-full relative",children:[D.jsx("img",{src:S[W],className:"w-full h-full object-cover",alt:B[W]}),D.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-end pb-3 gap-2",children:[D.jsxs("button",{type:"button",onClick:()=>I(W),className:"text-xs px-3 py-1.5 rounded-lg bg-white/90 text-surface-700 font-bold flex items-center gap-1.5 shadow-sm transition-all active:scale-95",children:[D.jsx("i",{className:"fas fa-camera text-[10px] text-primary-500"}),""]}),D.jsxs("button",{type:"button",onClick:()=>s(W),className:"text-xs px-3 py-1.5 rounded-lg bg-danger-500/90 text-white font-bold flex items-center gap-1.5 shadow-sm transition-all active:scale-95",children:[D.jsx("i",{className:"fas fa-trash-alt text-[10px]"}),""]})]}),D.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded-md text-[9px] font-bold text-white",style:{background:"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(6px)"},children:B[W]}),D.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-accent-500 flex items-center justify-center shadow-sm",children:D.jsx("i",{className:"fas fa-check text-white text-[10px]"})})]}):D.jsxs("div",{className:"flex flex-col items-center gap-3",children:[D.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-100 flex items-center justify-center",children:D.jsx("i",{className:`fas ${J[W]} text-surface-300 text-xl`})}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{type:"button",onClick:()=>I(W),className:"w-11 h-11 rounded-xl bg-primary-500 text-white flex items-center justify-center shadow-md transition-all touch-feedback active:scale-90",title:"  ",children:D.jsx("i",{className:"fas fa-camera text-base"})}),D.jsx("button",{type:"button",onClick:()=>k(W),className:"w-11 h-11 rounded-xl bg-white border-2 border-surface-200 text-surface-400 flex items-center justify-center transition-all touch-feedback active:scale-90 hover:text-accent-500 hover:border-accent-300",title:" ",children:D.jsx("i",{className:"fas fa-image text-base"})})]}),D.jsx("span",{className:"text-[10px] font-bold text-surface-300",children:B[W]}),D.jsx("span",{className:"text-[9px] text-surface-300 font-medium -mt-1",children:W===0?" ":"  "})]})]},`photo-slot-${W}-${P?"filled":"empty"}`)})}),n&&D.jsxs("div",{className:"flex items-center gap-2.5 p-3.5 rounded-xl animate-fade-in-scale",style:{background:"linear-gradient(135deg, #eef2ff, #e0e7ff)"},children:[D.jsx("div",{className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center",children:D.jsx("i",{className:"fas fa-spinner fa-spin text-white text-sm"})}),D.jsxs("div",{children:[D.jsx("p",{className:"text-xs font-bold text-primary-600",children:"AI  ..."}),D.jsx("p",{className:"text-[10px] text-primary-400",children:"   "})]})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-[11px] font-bold text-surface-400 mb-1.5 uppercase tracking-wider",children:[D.jsx("i",{className:"fas fa-pen mr-1 text-[9px] text-primary-300"})," "]}),D.jsxs("div",{className:"relative",children:[D.jsx("input",{required:!0,type:"text",className:"input-field pr-10",placeholder:": , , ...",value:m,onChange:W=>b({itemName:W.target.value})}),m.trim()&&D.jsx("button",{type:"button",onClick:r,className:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 rounded-lg bg-primary-50 text-primary-400 flex items-center justify-center hover:bg-primary-100 transition-all text-xs touch-feedback",title:"AI  ",children:D.jsx("i",{className:"fas fa-wand-magic-sparkles"})})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-[11px] font-bold text-surface-400 mb-1.5 uppercase tracking-wider",children:[D.jsx("i",{className:"fas fa-layer-group mr-1 text-[9px] text-primary-300"})," "]}),D.jsx("select",{className:"input-field appearance-none",value:_,onChange:W=>{const P=W.target.value;b({locType:P}),P===f.locTypes[0]&&f.homeLocs.length>0?b({locDetail:f.homeLocs[0]}):P===f.locTypes[1]&&f.officeLocs.length>0?b({locDetail:f.officeLocs[0]}):P===f.locTypes[2]&&f.digitalLocs.length>0?b({locDetail:f.digitalLocs[0]}):b({locDetail:""})},children:f.locTypes.map(W=>D.jsx("option",{value:W,children:W},W))})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-[11px] font-bold text-surface-400 mb-1.5 uppercase tracking-wider",children:[D.jsx("i",{className:"fas fa-map-pin mr-1 text-[9px] text-accent-400"})," "]}),[f.locTypes[0],f.locTypes[1],f.locTypes[2]].includes(_)?D.jsxs("select",{className:"input-field appearance-none",value:y,onChange:W=>b({locDetail:W.target.value}),children:[_===f.locTypes[0]&&f.homeLocs.map(W=>D.jsx("option",{value:W,children:W},W)),_===f.locTypes[1]&&f.officeLocs.map(W=>D.jsx("option",{value:W,children:W},W)),_===f.locTypes[2]&&f.digitalLocs.map(W=>D.jsx("option",{value:W,children:W},W))]}):D.jsx("input",{type:"text",className:"input-field",placeholder:" ",value:y,onChange:W=>b({locDetail:W.target.value}),required:!0})]})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-[11px] font-bold text-surface-400 mb-1.5 uppercase tracking-wider",children:[D.jsx("i",{className:"fas fa-sticky-note mr-1 text-[9px] text-warn-400"}),"  "]}),D.jsx("textarea",{rows:3,className:"input-field resize-none",placeholder:", ,     ...",value:T,onChange:W=>b({itemNotes:W.target.value})})]}),D.jsxs("button",{type:"submit",className:"w-full py-4 btn-primary rounded-xl font-bold text-base flex items-center justify-center gap-2 touch-feedback",children:[D.jsx("i",{className:"fas fa-check"}),e]})]})},F4=({item:t,onEdit:e,onDelete:n})=>{const{state:r,dispatch:s}=Lt.useContext(Os),o=l=>{const c=new Date(l);return c.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})+" "+c.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return D.jsxs("div",{className:"space-y-5 pb-4 animate-fade-in",children:[D.jsx("div",{className:"grid grid-cols-2 gap-3",children:[0,1].map(l=>D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-surface-100 flex items-center justify-center",children:t.imageUrls[l]?D.jsx("img",{src:t.imageUrls[l],alt:l===0?" ":" ",className:"w-full h-full object-cover"}):D.jsxs("div",{className:"flex flex-col items-center gap-2 text-surface-300",children:[D.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-200/50 flex items-center justify-center",children:D.jsx("i",{className:`fas ${l===0?"fa-cube":"fa-location-dot"} text-xl`})}),D.jsx("span",{className:"text-[10px] font-bold",children:" "})]})}),D.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded-lg text-[9px] font-bold text-white uppercase tracking-widest",style:{background:"rgba(15, 23, 42, 0.55)",backdropFilter:"blur(8px)"},children:l===0?" ":" "})]},l))}),D.jsx("div",{className:"card p-5",children:D.jsxs("div",{className:"flex justify-between items-start gap-3",children:[D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("p",{className:"text-[10px] font-bold text-surface-400 uppercase tracking-widest mb-1.5",children:" "}),D.jsx("h3",{className:"text-xl font-extrabold text-surface-800 leading-tight",children:t.name})]}),D.jsxs("div",{className:"text-right shrink-0",children:[D.jsx("p",{className:"text-[10px] font-bold text-surface-400 uppercase tracking-widest mb-1.5",children:""}),D.jsx("p",{className:"text-xs font-semibold text-surface-500",children:o(t.updatedAt)})]})]})}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{className:"card p-4 border-l-4 border-l-primary-400",style:{background:"linear-gradient(135deg, #eef2ff 0%, #f8fafc 100%)"},children:[D.jsxs("p",{className:"text-[10px] font-bold text-primary-400 uppercase tracking-widest mb-1.5 flex items-center gap-1",children:[D.jsx("i",{className:"fas fa-map-marker-alt text-[8px]"})," "]}),D.jsx("p",{className:"text-sm font-bold text-primary-700 leading-snug break-words",children:t.locationPath})]}),D.jsxs("div",{className:"card p-4 border-l-4 border-l-accent-400",style:{background:"linear-gradient(135deg, #ecfdf5 0%, #f8fafc 100%)"},children:[D.jsxs("p",{className:"text-[10px] font-bold text-accent-500 uppercase tracking-widest mb-1.5 flex items-center gap-1",children:[D.jsx("i",{className:"fas fa-tag text-[8px]"}),""]}),D.jsx("p",{className:"text-sm font-bold text-accent-700 leading-snug",children:t.category})]})]}),D.jsxs("div",{className:"card p-5 relative overflow-hidden",children:[D.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgba(251, 191, 36, 0.2), transparent)",transform:"translate(30%, -30%)"}}),D.jsxs("p",{className:"text-[10px] font-bold text-surface-400 uppercase tracking-widest mb-3 flex items-center gap-1.5",children:[D.jsx("i",{className:"fas fa-sticky-note text-warn-400 text-[9px]"}),"  "]}),t.notes.length>0?D.jsx("div",{className:"space-y-2",children:t.notes.map((l,c)=>D.jsxs("div",{className:"flex items-start gap-2.5",children:[D.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-warn-400 mt-1.5 shrink-0"}),D.jsx("p",{className:"text-sm text-surface-700 font-medium leading-relaxed",children:l})]},c))}):D.jsx("p",{className:"text-sm text-surface-300 font-medium italic",children:"  "})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsxs("button",{onClick:n,className:"flex-1 py-3.5 btn-outline rounded-xl font-bold text-sm flex items-center justify-center gap-2 text-danger-500 border-danger-500/20 hover:bg-danger-500 hover:text-white hover:border-danger-500 transition-all touch-feedback",children:[D.jsx("i",{className:"fas fa-trash-alt"}),""]}),D.jsxs("button",{onClick:e,className:"flex-[2] py-3.5 btn-primary rounded-xl font-bold text-sm flex items-center justify-center gap-2 touch-feedback",children:[D.jsx("i",{className:"fas fa-pen"}),""]})]})]})},B4=({isOpen:t,onClose:e,handleExportData:n,handleExportExcel:r,handleImportData:s})=>{const{state:o,dispatch:l}=Lt.useContext(Os),{config:c}=o;if(!t)return null;const d=(m,_)=>{l({type:"UPDATE_CONFIG",payload:{[m]:_}})},f=[{title:" ",key:"locTypes",list:c.locTypes,icon:"fa-layer-group",color:"text-primary-400"},{title:"  ",key:"homeLocs",list:c.homeLocs,icon:"fa-house",color:"text-accent-500"},{title:"  ",key:"officeLocs",list:c.officeLocs,icon:"fa-building",color:"text-blue-500"},{title:" ",key:"digitalLocs",list:c.digitalLocs,icon:"fa-cloud",color:"text-purple-500"},{title:" ",key:"categories",list:c.categories,icon:"fa-tag",color:"text-warn-500"}];return D.jsx("div",{className:"fullscreen-modal animate-fade-in",onClick:e,children:D.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-[2rem] animate-slide-up flex flex-col safe-bottom safe-left safe-right",style:{maxHeight:"92vh",boxShadow:"0 -10px 40px rgba(0,0,0,0.12)"},onClick:m=>m.stopPropagation(),children:[D.jsx("div",{className:"flex justify-center pt-3 pb-1",children:D.jsx("div",{className:"w-10 h-1 rounded-full bg-surface-200"})}),D.jsxs("div",{className:"flex justify-between items-center px-6 pb-4 shrink-0",children:[D.jsx("button",{onClick:e,className:"w-10 h-10 rounded-xl bg-surface-100 text-surface-400 flex items-center justify-center hover:bg-surface-200 transition-all touch-feedback",children:D.jsx("i",{className:"fas fa-times text-lg"})}),D.jsxs("h2",{className:"text-lg font-extrabold text-surface-800 flex items-center gap-2",children:[D.jsx("i",{className:"fas fa-cog text-primary-400"})," "]}),D.jsx("div",{className:"w-10"})]}),D.jsx("div",{className:"overflow-y-auto flex-1 px-6 pb-8 mobile-scroll",children:D.jsxs("div",{className:"space-y-7",children:[D.jsx("div",{className:"rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a78bfa 100%)"},children:D.jsxs("div",{className:"p-5 relative",children:[D.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 rounded-full opacity-10",style:{background:"white",filter:"blur(30px)",transform:"translate(30%, -30%)"}}),D.jsxs("h3",{className:"font-bold text-sm text-white mb-1 flex items-center gap-2",children:[D.jsx("i",{className:"fas fa-shield-halved opacity-80"})," "]}),D.jsx("p",{className:"text-[11px] text-white/60 font-medium mb-4",children:"   "}),D.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[D.jsxs("button",{onClick:n,className:"py-3.5 bg-white/15 backdrop-blur-sm text-white rounded-xl text-xs font-bold border border-white/20 flex items-center justify-center gap-2 transition-all touch-feedback hover:bg-white/25",children:[D.jsx("i",{className:"fas fa-file-code"}),"JSON "]}),D.jsxs("button",{onClick:r,className:"py-3.5 bg-white/15 backdrop-blur-sm text-white rounded-xl text-xs font-bold border border-white/20 flex items-center justify-center gap-2 transition-all touch-feedback hover:bg-white/25",children:[D.jsx("i",{className:"fas fa-file-excel"})," "]}),D.jsxs("label",{className:"col-span-2 py-3.5 bg-white text-primary-600 rounded-xl text-xs font-bold flex items-center justify-center gap-2 cursor-pointer transition-all touch-feedback hover:bg-primary-50 shadow-sm",children:[D.jsx("i",{className:"fas fa-cloud-arrow-up"}),"  ",D.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:s})]})]})]})}),f.map((m,_)=>D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("h3",{className:"text-[11px] font-bold text-surface-400 uppercase tracking-wider flex items-center gap-1.5",children:[D.jsx("i",{className:`fas ${m.icon} ${m.color} text-[10px]`}),m.title]}),D.jsxs("span",{className:"badge badge-primary text-[10px]",children:[m.list.length,""]})]}),D.jsx("div",{className:"flex flex-wrap gap-2",children:m.list.map((y,T)=>D.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-surface-50 border border-surface-200 rounded-xl text-xs font-semibold text-surface-600 hover:border-primary-200 transition-colors group",children:[y,D.jsx("button",{onClick:()=>{confirm(D0)&&d(m.key,m.list.filter((S,E)=>E!==T))},className:"w-4 h-4 rounded-full bg-surface-200 text-surface-400 flex items-center justify-center hover:bg-danger-500 hover:text-white transition-all text-[8px]",children:D.jsx("i",{className:"fas fa-times"})})]},T))}),D.jsxs("form",{onSubmit:y=>{y.preventDefault();const T=y.currentTarget.elements.namedItem("newItem");T.value.trim()&&(d(m.key,[...m.list,T.value.trim()]),T.value="")},className:"flex gap-2",children:[D.jsx("input",{name:"newItem",type:"text",placeholder:"  ...",className:"input-field flex-1 py-2.5 text-sm"}),D.jsx("button",{type:"submit",className:"w-10 h-10 rounded-xl gradient-primary text-white flex items-center justify-center shadow-glow transition-all touch-feedback shrink-0",children:D.jsx("i",{className:"fas fa-plus text-sm"})})]})]},_)),D.jsxs("div",{className:"text-center pt-4 pb-2",children:[D.jsx("p",{className:"text-[10px] text-surface-300 font-medium",children:"WhereIsIt v1.0"}),D.jsx("p",{className:"text-[10px] text-surface-300 font-medium mt-0.5",children:"    "})]})]})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kc={};kc.version="0.18.5";var Yx=1252,G4=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Wx=function(t){G4.indexOf(t)!=-1&&(Yx=t)};function H4(){Wx(1252)}var vl=function(t){Wx(t)};function V4(){vl(1200),H4()}var lc=function(e){return String.fromCharCode(e)},q_=function(e){return String.fromCharCode(e)},Lc,Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yl(t){for(var e="",n=0,r=0,s=0,o=0,l=0,c=0,d=0,f=0;f<t.length;)n=t.charCodeAt(f++),o=n>>2,r=t.charCodeAt(f++),l=(n&3)<<4|r>>4,s=t.charCodeAt(f++),c=(r&15)<<2|s>>6,d=s&63,isNaN(r)?c=d=64:isNaN(s)&&(d=64),e+=Ki.charAt(o)+Ki.charAt(l)+Ki.charAt(c)+Ki.charAt(d);return e}function hi(t){var e="",n=0,r=0,s=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=Ki.indexOf(t.charAt(f++)),l=Ki.indexOf(t.charAt(f++)),n=o<<2|l>>4,e+=String.fromCharCode(n),c=Ki.indexOf(t.charAt(f++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),d=Ki.indexOf(t.charAt(f++)),s=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var ut=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),gi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ns(t){return ut?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function z_(t){return ut?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var br=function(e){return ut?gi(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function sf(t){if(typeof ArrayBuffer>"u")return br(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Dl(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function q4(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var fn=ut?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:gi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function z4(t){for(var e=[],n=0,r=t.length+250,s=Ns(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)s[n++]=l;else if(l<2048)s[n++]=192|l>>6&31,s[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;s[n++]=240|l>>8&7,s[n++]=128|l>>2&63,s[n++]=128|c>>6&15|(l&3)<<4,s[n++]=128|c&63}else s[n++]=224|l>>12&15,s[n++]=128|l>>6&63,s[n++]=128|l&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Ns(65535),r=65530)}return e.push(s.slice(0,n)),fn(e)}var ll=/\u0000/g,uc=/[\u0001-\u0006]/g;function $a(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Nr(t,e){var n=""+t;return n.length>=e?n:kt("0",e-n.length)+n}function q0(t,e){var n=""+t;return n.length>=e?n:kt(" ",e-n.length)+n}function Pc(t,e){var n=""+t;return n.length>=e?n:n+kt(" ",e-n.length)}function $4(t,e){var n=""+Math.round(t);return n.length>=e?n:kt("0",e-n.length)+n}function J4(t,e){var n=""+t;return n.length>=e?n:kt("0",e-n.length)+n}var $_=Math.pow(2,32);function Aa(t,e){if(t>$_||t<-$_)return $4(t,e);var n=Math.round(t);return J4(n,e)}function Uc(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var J_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ud=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function K4(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Pt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},K_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Y4={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fc(t,e,n){for(var r=t<0?-1:1,s=t*r,o=0,l=1,c=0,d=1,f=0,m=0,_=Math.floor(s);f<e&&(_=Math.floor(s),c=_*l+o,m=_*f+d,!(s-_<5e-8));)s=1/(s-_),o=l,l=c,d=f,f=m;if(m>e&&(f>e?(m=d,c=o):(m=f,c=l)),!n)return[0,r*c,m];var y=Math.floor(r*c/m);return[y,r*c-y*m,m]}function cc(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),o=0,l=[],c={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),r<60&&(o=(o+6)%7),n&&(o=tD(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=o,c}var Xx=new Date(1899,11,31,0,0,0),W4=Xx.getTime(),X4=new Date(1900,2,1,0,0,0);function jx(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=X4&&(n+=1440*60*1e3),(n-(W4+(t.getTimezoneOffset()-Xx.getTimezoneOffset())*6e4))/(1440*60*1e3)}function z0(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function j4(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Q4(t){var e=t<0?12:11,n=z0(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Z4(t){var e=z0(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function eD(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Q4(t):e===10?n=t.toFixed(10).substr(0,12):n=Z4(t),z0(j4(n.toUpperCase()))}function p0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):eD(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Wi(14,jx(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function tD(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function nD(t,e,n,r){var s="",o=0,l=0,c=n.y,d,f=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,f=e.length;break;case 3:return Ud[n.m-1][1];case 5:return Ud[n.m-1][0];default:return Ud[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,f=e.length;break;case 3:return J_[n.q][0];default:return J_[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Nr(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(s=Nr(o,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:d=c,f=1;break}var m=f>0?Nr(d,f):"";return m}function Yi(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var Qx=/%/g;function rD(t,e,n){var r=e.replace(Qx,""),s=e.length-r.length;return li(t,r,n*Math.pow(10,2*s))+kt("%",s)}function iD(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return li(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Zx(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Zx(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),n=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,m){return d+f+m.substr(0,(s+o)%s)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var eT=/# (\?+)( ?)\/( ?)(\d+)/;function sD(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),o=Math.floor(s/r),l=s-o*r,c=r;return n+(o===0?"":""+o)+" "+(l===0?kt(" ",t[1].length+1+t[4].length):q0(l,t[1].length)+t[2]+"/"+t[3]+Nr(c,t[4].length))}function aD(t,e,n){return n+(e===0?"":""+e)+kt(" ",t[1].length+2+t[4].length)}var tT=/^#*0*\.([0#]+)/,nT=/\).*[0#]/,rT=/\(###\) ###\\?-####/;function wn(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function Y_(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function W_(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function oD(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function lD(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function dr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nT)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?dr("n",r,n):"("+dr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return iD(t,e,n);if(e.indexOf("%")!==-1)return rD(t,e,n);if(e.indexOf("E")!==-1)return Zx(e,n);if(e.charCodeAt(0)===36)return"$"+dr(t,e.substr(e.charAt(1)==" "?2:1),n);var s,o,l,c,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Aa(d,e.length);if(e.match(/^[#?]+$/))return s=Aa(n,0),s==="0"&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(eT))return sD(o,d,f);if(e.match(/^#+0+$/))return f+Aa(d,e.length-e.indexOf("0"));if(o=e.match(tT))return s=Y_(n,o[1].length).replace(/^([^\.]+)$/,"$1."+wn(o[1])).replace(/\.$/,"."+wn(o[1])).replace(/\.(\d*)$/,function(S,E){return"."+E+kt("0",wn(o[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+Y_(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Yi(Aa(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+dr(t,e,-n):Yi(""+(Math.floor(n)+oD(n,o[1].length)))+"."+Nr(W_(n,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return dr(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=$a(dr(t,e.replace(/[\\-]/g,""),n)),l=0,$a($a(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(rT))return s=dr(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Fc(d,Math.pow(10,l)-1,!1),s=""+f,m=li("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+o[2]+"/"+o[3],m=Pc(c[2],l),m.length<o[4].length&&(m=wn(o[4].substr(o[4].length-m.length))+m),s+=m,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Fc(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?q0(c[1],l)+o[2]+"/"+o[3]+Pc(c[2],l):kt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=Aa(n,0),e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var _=e.indexOf(".")-l,y=e.length-s.length-_;return wn(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=W_(n,o[1].length),n<0?"-"+dr(t,e,-n):Yi(lD(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Nr(0,3-S.length):"")+S})+"."+Nr(l,o[1].length);switch(e){case"###,##0.00":return dr(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=Yi(Aa(d,0));return T!=="0"?f+T:"";case"###,###.00":return dr(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return dr(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function uD(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return li(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function cD(t,e,n){var r=e.replace(Qx,""),s=e.length-r.length;return li(t,r,n*Math.pow(10,2*s))+kt("%",s)}function iT(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+iT(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),n=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,m){return d+f+m.substr(0,(s+o)%s)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Gr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nT)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Gr("n",r,n):"("+Gr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return uD(t,e,n);if(e.indexOf("%")!==-1)return cD(t,e,n);if(e.indexOf("E")!==-1)return iT(e,n);if(e.charCodeAt(0)===36)return"$"+Gr(t,e.substr(e.charAt(1)==" "?2:1),n);var s,o,l,c,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Nr(d,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(eT))return aD(o,d,f);if(e.match(/^#+0+$/))return f+Nr(d,e.length-e.indexOf("0"));if(o=e.match(tT))return s=(""+n).replace(/^([^\.]+)$/,"$1."+wn(o[1])).replace(/\.$/,"."+wn(o[1])),s=s.replace(/\.(\d*)$/,function(S,E){return"."+E+kt("0",wn(o[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Yi(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Gr(t,e,-n):Yi(""+n)+"."+kt("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Gr(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=$a(Gr(t,e.replace(/[\\-]/g,""),n)),l=0,$a($a(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(rT))return s=Gr(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Fc(d,Math.pow(10,l)-1,!1),s=""+f,m=li("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+o[2]+"/"+o[3],m=Pc(c[2],l),m.length<o[4].length&&(m=wn(o[4].substr(o[4].length-m.length))+m),s+=m,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Fc(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?q0(c[1],l)+o[2]+"/"+o[3]+Pc(c[2],l):kt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var _=e.indexOf(".")-l,y=e.length-s.length-_;return wn(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Gr(t,e,-n):Yi(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Nr(0,3-S.length):"")+S})+"."+Nr(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=Yi(""+d);return T!=="0"?f+T:"";default:if(e.match(/\.[0#?]*$/))return Gr(t,e.slice(0,e.lastIndexOf(".")),n)+wn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function li(t,e,n){return(n|0)===n?Gr(t,e,n):dr(t,e,n)}function fD(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var sT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function aT(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Uc(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(sT))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function hD(t,e,n,r){for(var s=[],o="",l=0,c="",d="t",f,m,_,y="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!Uc(t,l))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(_=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(_);s[s.length]={t:"t",v:o},++l;break;case"\\":var T=t.charAt(++l),S=T==="("||T===")"?T:"t";s[s.length]={t:S,v:T},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=cc(e,n,t.charAt(l+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=cc(e,n),f==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),s[s.length]={t:c,v:o},d=c;break;case"A":case"a":case"":var E={t:c,v:c};if(f==null&&(f=cc(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(E.v=f.H>=12?"P":"A"),E.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(E.v=f.H>=12?"PM":"AM"),E.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="/"?(f!=null&&(E.v=f.H>=12?"":""),E.t="T",l+=5,y="h"):(E.t="t",++l),f==null&&E.t==="T")return"";s[s.length]=E,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(sT)){if(f==null&&(f=cc(e,n),f==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",aT(t)||(s[s.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;s[s.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;s[s.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:c,v:c},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++l;break}var A=0,I=0,k;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=y,d="h",A<1&&(A=1);break;case"s":(k=s[l].v.match(/\.0+$/))&&(I=Math.max(I,k[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":d==="s"&&(s[l].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&s[l].v.match(/[Hh]/)&&(A=1),A<2&&s[l].v.match(/[Mm]/)&&(A=2),A<3&&s[l].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var b="",B;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=nD(s[l].t.charCodeAt(0),s[l].v,f,I),s[l].t="t";break;case"n":case"?":for(B=l+1;s[B]!=null&&((c=s[B].t)==="?"||c==="D"||(c===" "||c==="t")&&s[B+1]!=null&&(s[B+1].t==="?"||s[B+1].t==="t"&&s[B+1].v==="/")||s[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[B].v==="/"||s[B].v===" "&&s[B+1]!=null&&s[B+1].t=="?"));)s[l].v+=s[B].v,s[B]={v:"",t:";"},++B;b+=s[l].v,l=B-1;break;case"G":s[l].t="t",s[l].v=p0(e,n);break}var J="",W,P;if(b.length>0){b.charCodeAt(0)==40?(W=e<0&&b.charCodeAt(0)===45?-e:e,P=li("n",b,W)):(W=e<0&&r>1?-e:e,P=li("n",b,W),W<0&&s[0]&&s[0].t=="t"&&(P=P.substr(1),s[0].v="-"+s[0].v)),B=P.length-1;var Q=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){Q=l;break}var K=s.length;if(Q===s.length&&P.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(B>=s[l].v.length-1?(B-=s[l].v.length,s[l].v=P.substr(B+1,s[l].v.length)):B<0?s[l].v="":(s[l].v=P.substr(0,B+1),B=-1),s[l].t="t",K=l);B>=0&&K<s.length&&(s[K].v=P.substr(0,B+1)+s[K].v)}else if(Q!==s.length&&P.indexOf("E")===-1){for(B=P.indexOf(".")-1,l=Q;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(m=s[l].v.indexOf(".")>-1&&l===Q?s[l].v.indexOf(".")-1:s[l].v.length-1,J=s[l].v.substr(m+1);m>=0;--m)B>=0&&(s[l].v.charAt(m)==="0"||s[l].v.charAt(m)==="#")&&(J=P.charAt(B--)+J);s[l].v=J,s[l].t="t",K=l}for(B>=0&&K<s.length&&(s[K].v=P.substr(0,B+1)+s[K].v),B=P.indexOf(".")+1,l=Q;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==Q)){for(m=s[l].v.indexOf(".")>-1&&l===Q?s[l].v.indexOf(".")+1:0,J=s[l].v.substr(0,m);m<s[l].v.length;++m)B<P.length&&(J+=P.charAt(B++));s[l].v=J,s[l].t="t",K=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(W=r>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=li(s[l].t,s[l].v,W),s[l].t="t");var ae="";for(l=0;l!==s.length;++l)s[l]!=null&&(ae+=s[l].v);return ae}var X_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j_(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function dD(t,e){var n=fD(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(X_),c=n[1].match(X_);return j_(e,l)?[r,n[0]]:j_(e,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,o]}function Wi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Pt)[t],r==null&&(r=n.table&&n.table[K_[t]]||Pt[K_[t]]),r==null&&(r=Y4[t]||"General");break}if(Uc(r,0))return p0(e,n);e instanceof Date&&(e=jx(e,n.date1904));var s=dD(r,e);if(Uc(s[1]))return p0(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return hD(s[1],e,n,s[0])}function oT(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Pt[n]==null){e<0&&(e=n);continue}if(Pt[n]==t){e=n;break}}e<0&&(e=391)}return Pt[e]=t,e}function af(t){for(var e=0;e!=392;++e)t[e]!==void 0&&oT(t[e],e)}function of(){Pt=K4()}var lT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pD(t){var e=typeof t=="number"?Pt[t]:t;return e=e.replace(lT,"(\\d+)"),new RegExp("^"+e+"$")}function mD(t,e,n){var r=-1,s=-1,o=-1,l=-1,c=-1,d=-1;(e.match(lT)||[]).forEach(function(_,y){var T=parseInt(n[y+1],10);switch(_.toLowerCase().charAt(0)){case"y":r=T;break;case"d":o=T;break;case"h":l=T;break;case"s":d=T;break;case"m":l>=0?c=T:s=T;break}}),d>=0&&c==-1&&s>=0&&(c=s,s=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:r==-1&&s==-1&&o==-1?m:f+"T"+m}var gD=(function(){var t={};t.version="1.2.0";function e(){for(var P=0,Q=new Array(256),K=0;K!=256;++K)P=K,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,Q[K]=P;return typeof Int32Array<"u"?new Int32Array(Q):Q}var n=e();function r(P){var Q=0,K=0,ae=0,ce=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ae=0;ae!=256;++ae)ce[ae]=P[ae];for(ae=0;ae!=256;++ae)for(K=P[ae],Q=256+ae;Q<4096;Q+=256)K=ce[Q]=K>>>8^P[K&255];var me=[];for(ae=1;ae!=16;++ae)me[ae-1]=typeof Int32Array<"u"?ce.subarray(ae*256,ae*256+256):ce.slice(ae*256,ae*256+256);return me}var s=r(n),o=s[0],l=s[1],c=s[2],d=s[3],f=s[4],m=s[5],_=s[6],y=s[7],T=s[8],S=s[9],E=s[10],A=s[11],I=s[12],k=s[13],b=s[14];function B(P,Q){for(var K=Q^-1,ae=0,ce=P.length;ae<ce;)K=K>>>8^n[(K^P.charCodeAt(ae++))&255];return~K}function J(P,Q){for(var K=Q^-1,ae=P.length-15,ce=0;ce<ae;)K=b[P[ce++]^K&255]^k[P[ce++]^K>>8&255]^I[P[ce++]^K>>16&255]^A[P[ce++]^K>>>24]^E[P[ce++]]^S[P[ce++]]^T[P[ce++]]^y[P[ce++]]^_[P[ce++]]^m[P[ce++]]^f[P[ce++]]^d[P[ce++]]^c[P[ce++]]^l[P[ce++]]^o[P[ce++]]^n[P[ce++]];for(ae+=15;ce<ae;)K=K>>>8^n[(K^P[ce++])&255];return~K}function W(P,Q){for(var K=Q^-1,ae=0,ce=P.length,me=0,xe=0;ae<ce;)me=P.charCodeAt(ae++),me<128?K=K>>>8^n[(K^me)&255]:me<2048?(K=K>>>8^n[(K^(192|me>>6&31))&255],K=K>>>8^n[(K^(128|me&63))&255]):me>=55296&&me<57344?(me=(me&1023)+64,xe=P.charCodeAt(ae++)&1023,K=K>>>8^n[(K^(240|me>>8&7))&255],K=K>>>8^n[(K^(128|me>>2&63))&255],K=K>>>8^n[(K^(128|xe>>6&15|(me&3)<<4))&255],K=K>>>8^n[(K^(128|xe&63))&255]):(K=K>>>8^n[(K^(224|me>>12&15))&255],K=K>>>8^n[(K^(128|me>>6&63))&255],K=K>>>8^n[(K^(128|me&63))&255]);return~K}return t.table=n,t.bstr=B,t.buf=J,t.str=W,t})(),_t=(function(){var e={};e.version="1.2.1";function n(C,U){for(var M=C.split("/"),O=U.split("/"),L=0,F=0,te=Math.min(M.length,O.length);L<te;++L){if(F=M[L].length-O[L].length)return F;if(M[L]!=O[L])return M[L]<O[L]?-1:1}return M.length-O.length}function r(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:r(C.slice(0,-1));var U=C.lastIndexOf("/");return U===-1?C:C.slice(0,U+1)}function s(C){if(C.charAt(C.length-1)=="/")return s(C.slice(0,-1));var U=C.lastIndexOf("/");return U===-1?C:C.slice(U+1)}function o(C,U){typeof U=="string"&&(U=new Date(U));var M=U.getHours();M=M<<6|U.getMinutes(),M=M<<5|U.getSeconds()>>>1,C.write_shift(2,M);var O=U.getFullYear()-1980;O=O<<4|U.getMonth()+1,O=O<<5|U.getDate(),C.write_shift(2,O)}function l(C){var U=C.read_shift(2)&65535,M=C.read_shift(2)&65535,O=new Date,L=M&31;M>>>=5;var F=M&15;M>>>=4,O.setMilliseconds(0),O.setFullYear(M+1980),O.setMonth(F-1),O.setDate(L);var te=U&31;U>>>=5;var pe=U&63;return U>>>=6,O.setHours(U),O.setMinutes(pe),O.setSeconds(te<<1),O}function c(C){Wn(C,0);for(var U={},M=0;C.l<=C.length-4;){var O=C.read_shift(2),L=C.read_shift(2),F=C.l+L,te={};switch(O){case 21589:M=C.read_shift(1),M&1&&(te.mtime=C.read_shift(4)),L>5&&(M&2&&(te.atime=C.read_shift(4)),M&4&&(te.ctime=C.read_shift(4))),te.mtime&&(te.mt=new Date(te.mtime*1e3));break}C.l=F,U[O]=te}return U}var d;function f(){return d||(d={})}function m(C,U){if(C[0]==80&&C[1]==75)return es(C,U);if((C[0]|32)==109&&(C[1]|32)==105)return ns(C,U);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var M=3,O=512,L=0,F=0,te=0,pe=0,ne=0,re=[],se=C.slice(0,512);Wn(se,0);var _e=_(se);switch(M=_e[0],M){case 3:O=512;break;case 4:O=4096;break;case 0:if(_e[1]==0)return es(C,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+M)}O!==512&&(se=C.slice(0,O),Wn(se,28));var we=C.slice(0,O);y(se,M);var De=se.read_shift(4,"i");if(M===3&&De!==0)throw new Error("# Directory Sectors: Expected 0 saw "+De);se.l+=4,te=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),pe=se.read_shift(4,"i"),L=se.read_shift(4,"i"),ne=se.read_shift(4,"i"),F=se.read_shift(4,"i");for(var Te=-1,Ie=0;Ie<109&&(Te=se.read_shift(4,"i"),!(Te<0));++Ie)re[Ie]=Te;var Pe=T(C,O);A(ne,F,Pe,O,re);var Et=k(Pe,te,re,O);Et[te].name="!Directory",L>0&&pe!==xe&&(Et[pe].name="!MiniFAT"),Et[re[0]].name="!FAT",Et.fat_addrs=re,Et.ssz=O;var St={},Nt=[],nr=[],rs=[];b(te,Et,Pe,Nt,L,St,nr,pe),S(nr,rs,Nt),Nt.shift();var _i={FileIndex:nr,FullPaths:rs};return U&&U.raw&&(_i.raw={header:we,sectors:Pe}),_i}function _(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(Be,"Header Signature: "),C.l+=16;var U=C.read_shift(2,"u");return[C.read_shift(2,"u"),U]}function y(C,U){var M=9;switch(C.l+=2,M=C.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+M);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+M);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+M)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function T(C,U){for(var M=Math.ceil(C.length/U)-1,O=[],L=1;L<M;++L)O[L-1]=C.slice(L*U,(L+1)*U);return O[M-1]=C.slice(M*U),O}function S(C,U,M){for(var O=0,L=0,F=0,te=0,pe=0,ne=M.length,re=[],se=[];O<ne;++O)re[O]=se[O]=O,U[O]=M[O];for(;pe<se.length;++pe)O=se[pe],L=C[O].L,F=C[O].R,te=C[O].C,re[O]===O&&(L!==-1&&re[L]!==L&&(re[O]=re[L]),F!==-1&&re[F]!==F&&(re[O]=re[F])),te!==-1&&(re[te]=O),L!==-1&&O!=re[O]&&(re[L]=re[O],se.lastIndexOf(L)<pe&&se.push(L)),F!==-1&&O!=re[O]&&(re[F]=re[O],se.lastIndexOf(F)<pe&&se.push(F));for(O=1;O<ne;++O)re[O]===O&&(F!==-1&&re[F]!==F?re[O]=re[F]:L!==-1&&re[L]!==L&&(re[O]=re[L]));for(O=1;O<ne;++O)if(C[O].type!==0){if(pe=O,pe!=re[pe])do pe=re[pe],U[O]=U[pe]+"/"+U[O];while(pe!==0&&re[pe]!==-1&&pe!=re[pe]);re[O]=-1}for(U[0]+="/",O=1;O<ne;++O)C[O].type!==2&&(U[O]+="/")}function E(C,U,M){for(var O=C.start,L=C.size,F=[],te=O;M&&L>0&&te>=0;)F.push(U.slice(te*me,te*me+me)),L-=me,te=ws(M,te*4);return F.length===0?fe(0):fn(F).slice(0,C.size)}function A(C,U,M,O,L){var F=xe;if(C===xe){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var te=M[C],pe=(O>>>2)-1;if(!te)return;for(var ne=0;ne<pe&&(F=ws(te,ne*4))!==xe;++ne)L.push(F);A(ws(te,O-4),U-1,M,O,L)}}function I(C,U,M,O,L){var F=[],te=[];L||(L=[]);var pe=O-1,ne=0,re=0;for(ne=U;ne>=0;){L[ne]=!0,F[F.length]=ne,te.push(C[ne]);var se=M[Math.floor(ne*4/O)];if(re=ne*4&pe,O<4+re)throw new Error("FAT boundary crossed: "+ne+" 4 "+O);if(!C[se])break;ne=ws(C[se],re)}return{nodes:F,data:s1([te])}}function k(C,U,M,O){var L=C.length,F=[],te=[],pe=[],ne=[],re=O-1,se=0,_e=0,we=0,De=0;for(se=0;se<L;++se)if(pe=[],we=se+U,we>=L&&(we-=L),!te[we]){ne=[];var Te=[];for(_e=we;_e>=0;){Te[_e]=!0,te[_e]=!0,pe[pe.length]=_e,ne.push(C[_e]);var Ie=M[Math.floor(_e*4/O)];if(De=_e*4&re,O<4+De)throw new Error("FAT boundary crossed: "+_e+" 4 "+O);if(!C[Ie]||(_e=ws(C[Ie],De),Te[_e]))break}F[we]={nodes:pe,data:s1([ne])}}return F}function b(C,U,M,O,L,F,te,pe){for(var ne=0,re=O.length?2:0,se=U[C].data,_e=0,we=0,De;_e<se.length;_e+=128){var Te=se.slice(_e,_e+128);Wn(Te,64),we=Te.read_shift(2),De=W0(Te,0,we-re),O.push(De);var Ie={name:De,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},Pe=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Pe!==0&&(Ie.ct=B(Te,Te.l-8));var Et=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Et!==0&&(Ie.mt=B(Te,Te.l-8)),Ie.start=Te.read_shift(4,"i"),Ie.size=Te.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=xe,Ie.name=""),Ie.type===5?(ne=Ie.start,L>0&&ne!==xe&&(U[ne].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",U[Ie.start]===void 0&&(U[Ie.start]=I(M,Ie.start,U.fat_addrs,U.ssz)),U[Ie.start].name=Ie.name,Ie.content=U[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:ne!==xe&&Ie.start!==xe&&U[ne]&&(Ie.content=E(Ie,U[ne].data,(U[pe]||{}).data))),Ie.content&&Wn(Ie.content,0),F[De]=Ie,te.push(Ie)}}function B(C,U){return new Date((jn(C,U+4)/1e7*Math.pow(2,32)+jn(C,U)/1e7-11644473600)*1e3)}function J(C,U){return f(),m(d.readFileSync(C),U)}function W(C,U){var M=U&&U.type;switch(M||ut&&Buffer.isBuffer(C)&&(M="buffer"),M||"base64"){case"file":return J(C,U);case"base64":return m(br(hi(C)),U);case"binary":return m(br(C),U)}return m(C,U)}function P(C,U){var M=U||{},O=M.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=O+"/",C.FileIndex[0]={name:O,type:5}),M.CLSID&&(C.FileIndex[0].clsid=M.CLSID),Q(C)}function Q(C){var U="Sh33tJ5";if(!_t.find(C,"/"+U)){var M=fe(4);M[0]=55,M[1]=M[3]=50,M[2]=54,C.FileIndex.push({name:U,type:2,content:M,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+U),K(C)}}function K(C,U){P(C);for(var M=!1,O=!1,L=C.FullPaths.length-1;L>=0;--L){var F=C.FileIndex[L];switch(F.type){case 0:O?M=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(F.R*F.L*F.C)&&(M=!0),F.R>-1&&F.L>-1&&F.R==F.L&&(M=!0);break;default:M=!0;break}}if(!(!M&&!U)){var te=new Date(1987,1,19),pe=0,ne=Object.create?Object.create(null):{},re=[];for(L=0;L<C.FullPaths.length;++L)ne[C.FullPaths[L]]=!0,C.FileIndex[L].type!==0&&re.push([C.FullPaths[L],C.FileIndex[L]]);for(L=0;L<re.length;++L){var se=r(re[L][0]);O=ne[se],O||(re.push([se,{name:s(se).replace("/",""),type:1,clsid:Y,ct:te,mt:te,content:null}]),ne[se]=!0)}for(re.sort(function(De,Te){return n(De[0],Te[0])}),C.FullPaths=[],C.FileIndex=[],L=0;L<re.length;++L)C.FullPaths[L]=re[L][0],C.FileIndex[L]=re[L][1];for(L=0;L<re.length;++L){var _e=C.FileIndex[L],we=C.FullPaths[L];if(_e.name=s(we).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||Y,L===0)_e.C=re.length>1?1:-1,_e.size=0,_e.type=5;else if(we.slice(-1)=="/"){for(pe=L+1;pe<re.length&&r(C.FullPaths[pe])!=we;++pe);for(_e.C=pe>=re.length?-1:pe,pe=L+1;pe<re.length&&r(C.FullPaths[pe])!=r(we);++pe);_e.R=pe>=re.length?-1:pe,_e.type=1}else r(C.FullPaths[L+1]||"")==r(we)&&(_e.R=L+1),_e.type=2}}}function ae(C,U){var M=U||{};if(M.fileType=="mad")return xf(C,M);switch(K(C),M.fileType){case"zip":return qs(C,M)}var O=(function(De){for(var Te=0,Ie=0,Pe=0;Pe<De.FileIndex.length;++Pe){var Et=De.FileIndex[Pe];if(Et.content){var St=Et.content.length;St>0&&(St<4096?Te+=St+63>>6:Ie+=St+511>>9)}}for(var Nt=De.FullPaths.length+3>>2,nr=Te+7>>3,rs=Te+127>>7,_i=nr+Ie+Nt+rs,Lr=_i+127>>7,co=Lr<=109?0:Math.ceil((Lr-109)/127);_i+Lr+co+127>>7>Lr;)co=++Lr<=109?0:Math.ceil((Lr-109)/127);var bn=[1,co,Lr,rs,Nt,Ie,Te,0];return De.FileIndex[0].size=Te<<6,bn[7]=(De.FileIndex[0].start=bn[0]+bn[1]+bn[2]+bn[3]+bn[4]+bn[5])+(bn[6]+7>>3),bn})(C),L=fe(O[7]<<9),F=0,te=0;{for(F=0;F<8;++F)L.write_shift(1,he[F]);for(F=0;F<8;++F)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),F=0;F<3;++F)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,O[2]),L.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:xe),L.write_shift(4,O[3]),L.write_shift(-4,O[1]?O[0]-1:xe),L.write_shift(4,O[1]),F=0;F<109;++F)L.write_shift(-4,F<O[2]?O[1]+F:-1)}if(O[1])for(te=0;te<O[1];++te){for(;F<236+te*127;++F)L.write_shift(-4,F<O[2]?O[1]+F:-1);L.write_shift(-4,te===O[1]-1?xe:te+1)}var pe=function(De){for(te+=De;F<te-1;++F)L.write_shift(-4,F+1);De&&(++F,L.write_shift(-4,xe))};for(te=F=0,te+=O[1];F<te;++F)L.write_shift(-4,ue.DIFSECT);for(te+=O[2];F<te;++F)L.write_shift(-4,ue.FATSECT);pe(O[3]),pe(O[4]);for(var ne=0,re=0,se=C.FileIndex[0];ne<C.FileIndex.length;++ne)se=C.FileIndex[ne],se.content&&(re=se.content.length,!(re<4096)&&(se.start=te,pe(re+511>>9)));for(pe(O[6]+7>>3);L.l&511;)L.write_shift(-4,ue.ENDOFCHAIN);for(te=F=0,ne=0;ne<C.FileIndex.length;++ne)se=C.FileIndex[ne],se.content&&(re=se.content.length,!(!re||re>=4096)&&(se.start=te,pe(re+63>>6)));for(;L.l&511;)L.write_shift(-4,ue.ENDOFCHAIN);for(F=0;F<O[4]<<2;++F){var _e=C.FullPaths[F];if(!_e||_e.length===0){for(ne=0;ne<17;++ne)L.write_shift(4,0);for(ne=0;ne<3;++ne)L.write_shift(4,-1);for(ne=0;ne<12;++ne)L.write_shift(4,0);continue}se=C.FileIndex[F],F===0&&(se.start=se.size?se.start-1:xe);var we=F===0&&M.root||se.name;if(re=2*(we.length+1),L.write_shift(64,we,"utf16le"),L.write_shift(2,re),L.write_shift(1,se.type),L.write_shift(1,se.color),L.write_shift(-4,se.L),L.write_shift(-4,se.R),L.write_shift(-4,se.C),se.clsid)L.write_shift(16,se.clsid,"hex");else for(ne=0;ne<4;++ne)L.write_shift(4,0);L.write_shift(4,se.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,se.start),L.write_shift(4,se.size),L.write_shift(4,0)}for(F=1;F<C.FileIndex.length;++F)if(se=C.FileIndex[F],se.size>=4096)if(L.l=se.start+1<<9,ut&&Buffer.isBuffer(se.content))se.content.copy(L,L.l,0,se.size),L.l+=se.size+511&-512;else{for(ne=0;ne<se.size;++ne)L.write_shift(1,se.content[ne]);for(;ne&511;++ne)L.write_shift(1,0)}for(F=1;F<C.FileIndex.length;++F)if(se=C.FileIndex[F],se.size>0&&se.size<4096)if(ut&&Buffer.isBuffer(se.content))se.content.copy(L,L.l,0,se.size),L.l+=se.size+63&-64;else{for(ne=0;ne<se.size;++ne)L.write_shift(1,se.content[ne]);for(;ne&63;++ne)L.write_shift(1,0)}if(ut)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}function ce(C,U){var M=C.FullPaths.map(function(ne){return ne.toUpperCase()}),O=M.map(function(ne){var re=ne.split("/");return re[re.length-(ne.slice(-1)=="/"?2:1)]}),L=!1;U.charCodeAt(0)===47?(L=!0,U=M[0].slice(0,-1)+U):L=U.indexOf("/")!==-1;var F=U.toUpperCase(),te=L===!0?M.indexOf(F):O.indexOf(F);if(te!==-1)return C.FileIndex[te];var pe=!F.match(uc);for(F=F.replace(ll,""),pe&&(F=F.replace(uc,"!")),te=0;te<M.length;++te)if((pe?M[te].replace(uc,"!"):M[te]).replace(ll,"")==F||(pe?O[te].replace(uc,"!"):O[te]).replace(ll,"")==F)return C.FileIndex[te];return null}var me=64,xe=-2,Be="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:xe,FREESECT:-1,HEADER_SIGNATURE:Be,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Se(C,U,M){f();var O=ae(C,M);d.writeFileSync(U,O)}function be(C){for(var U=new Array(C.length),M=0;M<C.length;++M)U[M]=String.fromCharCode(C[M]);return U.join("")}function He(C,U){var M=ae(C,U);switch(U&&U.type||"buffer"){case"file":return f(),d.writeFileSync(U.filename,M),M;case"binary":return typeof M=="string"?M:be(M);case"base64":return yl(typeof M=="string"?M:be(M));case"buffer":if(ut)return Buffer.isBuffer(M)?M:gi(M);case"array":return typeof M=="string"?br(M):M}return M}var V;function N(C){try{var U=C.InflateRaw,M=new U;if(M._processChunk(new Uint8Array([3,0]),M._finishFlushFlag),M.bytesRead)V=C;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function q(C,U){if(!V)return Hl(C,U);var M=V.InflateRaw,O=new M,L=O._processChunk(C.slice(C.l),O._finishFlushFlag);return C.l+=O.bytesRead,L}function G(C){return V?V.deflateRawSync(C):ao(C)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(C){var U=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(U>>16|U>>8|U)&255}for(var Re=typeof Uint8Array<"u",Ne=Re?new Uint8Array(256):[],rt=0;rt<256;++rt)Ne[rt]=Oe(rt);function je(C,U){var M=Ne[C&255];return U<=8?M>>>8-U:(M=M<<8|Ne[C>>8&255],U<=16?M>>>16-U:(M=M<<8|Ne[C>>16&255],M>>>24-U))}function Xt(C,U){var M=U&7,O=U>>>3;return(C[O]|(M<=6?0:C[O+1]<<8))>>>M&3}function Xe(C,U){var M=U&7,O=U>>>3;return(C[O]|(M<=5?0:C[O+1]<<8))>>>M&7}function Fn(C,U){var M=U&7,O=U>>>3;return(C[O]|(M<=4?0:C[O+1]<<8))>>>M&15}function Tt(C,U){var M=U&7,O=U>>>3;return(C[O]|(M<=3?0:C[O+1]<<8))>>>M&31}function ke(C,U){var M=U&7,O=U>>>3;return(C[O]|(M<=1?0:C[O+1]<<8))>>>M&127}function xn(C,U,M){var O=U&7,L=U>>>3,F=(1<<M)-1,te=C[L]>>>O;return M<8-O||(te|=C[L+1]<<8-O,M<16-O)||(te|=C[L+2]<<16-O,M<24-O)||(te|=C[L+3]<<24-O),te&F}function Bn(C,U,M){var O=U&7,L=U>>>3;return O<=5?C[L]|=(M&7)<<O:(C[L]|=M<<O&255,C[L+1]=(M&7)>>8-O),U+3}function yr(C,U,M){var O=U&7,L=U>>>3;return M=(M&1)<<O,C[L]|=M,U+1}function kr(C,U,M){var O=U&7,L=U>>>3;return M<<=O,C[L]|=M&255,M>>>=8,C[L+1]=M,U+8}function Fl(C,U,M){var O=U&7,L=U>>>3;return M<<=O,C[L]|=M&255,M>>>=8,C[L+1]=M&255,C[L+2]=M>>>8,U+16}function so(C,U){var M=C.length,O=2*M>U?2*M:U+5,L=0;if(M>=U)return C;if(ut){var F=z_(O);if(C.copy)C.copy(F);else for(;L<C.length;++L)F[L]=C[L];return F}else if(Re){var te=new Uint8Array(O);if(te.set)te.set(C);else for(;L<M;++L)te[L]=C[L];return te}return C.length=O,C}function bt(C){for(var U=new Array(C),M=0;M<C;++M)U[M]=0;return U}function Bs(C,U,M){var O=1,L=0,F=0,te=0,pe=0,ne=C.length,re=Re?new Uint16Array(32):bt(32);for(F=0;F<32;++F)re[F]=0;for(F=ne;F<M;++F)C[F]=0;ne=C.length;var se=Re?new Uint16Array(ne):bt(ne);for(F=0;F<ne;++F)re[L=C[F]]++,O<L&&(O=L),se[F]=0;for(re[0]=0,F=1;F<=O;++F)re[F+16]=pe=pe+re[F-1]<<1;for(F=0;F<ne;++F)pe=C[F],pe!=0&&(se[F]=re[pe+16]++);var _e=0;for(F=0;F<ne;++F)if(_e=C[F],_e!=0)for(pe=je(se[F],O)>>O-_e,te=(1<<O+4-_e)-1;te>=0;--te)U[pe|te<<_e]=_e&15|F<<4;return O}var Gs=Re?new Uint16Array(512):bt(512),Hs=Re?new Uint16Array(32):bt(32);if(!Re){for(var er=0;er<512;++er)Gs[er]=0;for(er=0;er<32;++er)Hs[er]=0}(function(){for(var C=[],U=0;U<32;U++)C.push(5);Bs(C,Hs,32);var M=[];for(U=0;U<=143;U++)M.push(8);for(;U<=255;U++)M.push(9);for(;U<=279;U++)M.push(7);for(;U<=287;U++)M.push(8);Bs(M,Gs,288)})();var vf=(function(){for(var U=Re?new Uint8Array(32768):[],M=0,O=0;M<Ee.length-1;++M)for(;O<Ee[M+1];++O)U[O]=M;for(;O<32768;++O)U[O]=29;var L=Re?new Uint8Array(259):[];for(M=0,O=0;M<oe.length-1;++M)for(;O<oe[M+1];++O)L[O]=M;function F(pe,ne){for(var re=0;re<pe.length;){var se=Math.min(65535,pe.length-re),_e=re+se==pe.length;for(ne.write_shift(1,+_e),ne.write_shift(2,se),ne.write_shift(2,~se&65535);se-- >0;)ne[ne.l++]=pe[re++]}return ne.l}function te(pe,ne){for(var re=0,se=0,_e=Re?new Uint16Array(32768):[];se<pe.length;){var we=Math.min(65535,pe.length-se);if(we<10){for(re=Bn(ne,re,+(se+we==pe.length)),re&7&&(re+=8-(re&7)),ne.l=re/8|0,ne.write_shift(2,we),ne.write_shift(2,~we&65535);we-- >0;)ne[ne.l++]=pe[se++];re=ne.l*8;continue}re=Bn(ne,re,+(se+we==pe.length)+2);for(var De=0;we-- >0;){var Te=pe[se];De=(De<<5^Te)&32767;var Ie=-1,Pe=0;if((Ie=_e[De])&&(Ie|=se&-32768,Ie>se&&(Ie-=32768),Ie<se))for(;pe[Ie+Pe]==pe[se+Pe]&&Pe<250;)++Pe;if(Pe>2){Te=L[Pe],Te<=22?re=kr(ne,re,Ne[Te+1]>>1)-1:(kr(ne,re,3),re+=5,kr(ne,re,Ne[Te-23]>>5),re+=3);var Et=Te<8?0:Te-4>>2;Et>0&&(Fl(ne,re,Pe-oe[Te]),re+=Et),Te=U[se-Ie],re=kr(ne,re,Ne[Te]>>3),re-=3;var St=Te<4?0:Te-2>>1;St>0&&(Fl(ne,re,se-Ie-Ee[Te]),re+=St);for(var Nt=0;Nt<Pe;++Nt)_e[De]=se&32767,De=(De<<5^pe[se])&32767,++se;we-=Pe-1}else Te<=143?Te=Te+48:re=yr(ne,re,1),re=kr(ne,re,Ne[Te]),_e[De]=se&32767,++se}re=kr(ne,re,0)-1}return ne.l=(re+7)/8|0,ne.l}return function(ne,re){return ne.length<8?F(ne,re):te(ne,re)}})();function ao(C){var U=fe(50+Math.floor(C.length*1.1)),M=vf(C,U);return U.slice(0,M)}var Bl=Re?new Uint16Array(32768):bt(32768),Gl=Re?new Uint16Array(32768):bt(32768),yi=Re?new Uint16Array(128):bt(128),mn=1,_r=1;function Tn(C,U){var M=Tt(C,U)+257;U+=5;var O=Tt(C,U)+1;U+=5;var L=Fn(C,U)+4;U+=4;for(var F=0,te=Re?new Uint8Array(19):bt(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,re=Re?new Uint8Array(8):bt(8),se=Re?new Uint8Array(8):bt(8),_e=te.length,we=0;we<L;++we)te[z[we]]=F=Xe(C,U),ne<F&&(ne=F),re[F]++,U+=3;var De=0;for(re[0]=0,we=1;we<=ne;++we)se[we]=De=De+re[we-1]<<1;for(we=0;we<_e;++we)(De=te[we])!=0&&(pe[we]=se[De]++);var Te=0;for(we=0;we<_e;++we)if(Te=te[we],Te!=0){De=Ne[pe[we]]>>8-Te;for(var Ie=(1<<7-Te)-1;Ie>=0;--Ie)yi[De|Ie<<Te]=Te&7|we<<3}var Pe=[];for(ne=1;Pe.length<M+O;)switch(De=yi[ke(C,U)],U+=De&7,De>>>=3){case 16:for(F=3+Xt(C,U),U+=2,De=Pe[Pe.length-1];F-- >0;)Pe.push(De);break;case 17:for(F=3+Xe(C,U),U+=3;F-- >0;)Pe.push(0);break;case 18:for(F=11+ke(C,U),U+=7;F-- >0;)Pe.push(0);break;default:Pe.push(De),ne<De&&(ne=De);break}var Et=Pe.slice(0,M),St=Pe.slice(M);for(we=M;we<286;++we)Et[we]=0;for(we=O;we<30;++we)St[we]=0;return mn=Bs(Et,Bl,286),_r=Bs(St,Gl,30),U}function yf(C,U){if(C[0]==3&&!(C[1]&3))return[Ns(U),2];for(var M=0,O=0,L=z_(U||1<<18),F=0,te=L.length>>>0,pe=0,ne=0;(O&1)==0;){if(O=Xe(C,M),M+=3,O>>>1)O>>1==1?(pe=9,ne=5):(M=Tn(C,M),pe=mn,ne=_r);else{M&7&&(M+=8-(M&7));var re=C[M>>>3]|C[(M>>>3)+1]<<8;if(M+=32,re>0)for(!U&&te<F+re&&(L=so(L,F+re),te=L.length);re-- >0;)L[F++]=C[M>>>3],M+=8;continue}for(;;){!U&&te<F+32767&&(L=so(L,F+32767),te=L.length);var se=xn(C,M,pe),_e=O>>>1==1?Gs[se]:Bl[se];if(M+=_e&15,_e>>>=4,(_e>>>8&255)===0)L[F++]=_e;else{if(_e==256)break;_e-=257;var we=_e<8?0:_e-4>>2;we>5&&(we=0);var De=F+oe[_e];we>0&&(De+=xn(C,M,we),M+=we),se=xn(C,M,ne),_e=O>>>1==1?Hs[se]:Gl[se],M+=_e&15,_e>>>=4;var Te=_e<4?0:_e-2>>1,Ie=Ee[_e];for(Te>0&&(Ie+=xn(C,M,Te),M+=Te),!U&&te<De&&(L=so(L,De+100),te=L.length);F<De;)L[F]=L[F-Ie],++F}}}return U?[L,M+7>>>3]:[L.slice(0,F),M+7>>>3]}function Hl(C,U){var M=C.slice(C.l||0),O=yf(M,U);return C.l+=O[1],O[0]}function Vl(C,U){if(C)typeof console<"u"&&console.error(U);else throw new Error(U)}function es(C,U){var M=C;Wn(M,0);var O=[],L=[],F={FileIndex:O,FullPaths:L};P(F,{root:U.root});for(var te=M.length-4;(M[te]!=80||M[te+1]!=75||M[te+2]!=5||M[te+3]!=6)&&te>=0;)--te;M.l=te+4,M.l+=4;var pe=M.read_shift(2);M.l+=6;var ne=M.read_shift(4);for(M.l=ne,te=0;te<pe;++te){M.l+=20;var re=M.read_shift(4),se=M.read_shift(4),_e=M.read_shift(2),we=M.read_shift(2),De=M.read_shift(2);M.l+=8;var Te=M.read_shift(4),Ie=c(M.slice(M.l+_e,M.l+_e+we));M.l+=_e+we+De;var Pe=M.l;M.l=Te+4,Vs(M,re,se,F,Ie),M.l=Pe}return F}function Vs(C,U,M,O,L){C.l+=2;var F=C.read_shift(2),te=C.read_shift(2),pe=l(C);if(F&8257)throw new Error("Unsupported ZIP encryption");for(var ne=C.read_shift(4),re=C.read_shift(4),se=C.read_shift(4),_e=C.read_shift(2),we=C.read_shift(2),De="",Te=0;Te<_e;++Te)De+=String.fromCharCode(C[C.l++]);if(we){var Ie=c(C.slice(C.l,C.l+we));(Ie[21589]||{}).mt&&(pe=Ie[21589].mt),((L||{})[21589]||{}).mt&&(pe=L[21589].mt)}C.l+=we;var Pe=C.slice(C.l,C.l+re);switch(te){case 8:Pe=q(C,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+te)}var Et=!1;F&8&&(ne=C.read_shift(4),ne==134695760&&(ne=C.read_shift(4),Et=!0),re=C.read_shift(4),se=C.read_shift(4)),re!=U&&Vl(Et,"Bad compressed size: "+U+" != "+re),se!=M&&Vl(Et,"Bad uncompressed size: "+M+" != "+se),$s(O,De,Pe,{unsafe:!0,mt:pe})}function qs(C,U){var M=U||{},O=[],L=[],F=fe(1),te=M.compression?8:0,pe=0,ne=0,re=0,se=0,_e=0,we=C.FullPaths[0],De=we,Te=C.FileIndex[0],Ie=[],Pe=0;for(ne=1;ne<C.FullPaths.length;++ne)if(De=C.FullPaths[ne].slice(we.length),Te=C.FileIndex[ne],!(!Te.size||!Te.content||De=="Sh33tJ5")){var Et=se,St=fe(De.length);for(re=0;re<De.length;++re)St.write_shift(1,De.charCodeAt(re)&127);St=St.slice(0,St.l),Ie[_e]=gD.buf(Te.content,0);var Nt=Te.content;te==8&&(Nt=G(Nt)),F=fe(30),F.write_shift(4,67324752),F.write_shift(2,20),F.write_shift(2,pe),F.write_shift(2,te),Te.mt?o(F,Te.mt):F.write_shift(4,0),F.write_shift(-4,Ie[_e]),F.write_shift(4,Nt.length),F.write_shift(4,Te.content.length),F.write_shift(2,St.length),F.write_shift(2,0),se+=F.length,O.push(F),se+=St.length,O.push(St),se+=Nt.length,O.push(Nt),F=fe(46),F.write_shift(4,33639248),F.write_shift(2,0),F.write_shift(2,20),F.write_shift(2,pe),F.write_shift(2,te),F.write_shift(4,0),F.write_shift(-4,Ie[_e]),F.write_shift(4,Nt.length),F.write_shift(4,Te.content.length),F.write_shift(2,St.length),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(4,0),F.write_shift(4,Et),Pe+=F.l,L.push(F),Pe+=St.length,L.push(St),++_e}return F=fe(22),F.write_shift(4,101010256),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(2,_e),F.write_shift(2,_e),F.write_shift(4,Pe),F.write_shift(4,se),F.write_shift(2,0),fn([fn(O),fn(L),F])}var tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function zs(C,U){if(C.ctype)return C.ctype;var M=C.name||"",O=M.match(/\.([^\.]+)$/);return O&&tr[O[1]]||U&&(O=(M=U).match(/[\.\\]([^\.\\])+$/),O&&tr[O[1]])?tr[O[1]]:"application/octet-stream"}function ts(C){for(var U=yl(C),M=[],O=0;O<U.length;O+=76)M.push(U.slice(O,O+76));return M.join(`\r
`)+`\r
`}function _f(C){var U=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var se=re.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var M=[],O=U.split(`\r
`),L=0;L<O.length;++L){var F=O[L];if(F.length==0){M.push("");continue}for(var te=0;te<F.length;){var pe=76,ne=F.slice(te,te+pe);ne.charAt(pe-1)=="="?pe--:ne.charAt(pe-2)=="="?pe-=2:ne.charAt(pe-3)=="="&&(pe-=3),ne=F.slice(te,te+pe),te+=pe,te<F.length&&(ne+="="),M.push(ne)}}return M.join(`\r
`)}function ql(C){for(var U=[],M=0;M<C.length;++M){for(var O=C[M];M<=C.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+C[++M];U.push(O)}for(var L=0;L<U.length;++L)U[L]=U[L].replace(/[=][0-9A-Fa-f]{2}/g,function(F){return String.fromCharCode(parseInt(F.slice(1),16))});return br(U.join(`\r
`))}function oo(C,U,M){for(var O="",L="",F="",te,pe=0;pe<10;++pe){var ne=U[pe];if(!ne||ne.match(/^\s*$/))break;var re=ne.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":O=re[2].trim();break;case"content-type":F=re[2].trim();break;case"content-transfer-encoding":L=re[2].trim();break}}switch(++pe,L.toLowerCase()){case"base64":te=br(hi(U.slice(pe).join("")));break;case"quoted-printable":te=ql(U.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var se=$s(C,O.slice(M.length),te,{unsafe:!0});F&&(se.ctype=F)}function ns(C,U){if(be(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var M=U&&U.root||"",O=(ut&&Buffer.isBuffer(C)?C.toString("binary"):be(C)).split(`\r
`),L=0,F="";for(L=0;L<O.length;++L)if(F=O[L],!!/^Content-Location:/i.test(F)&&(F=F.slice(F.indexOf("file")),M||(M=F.slice(0,F.lastIndexOf("/")+1)),F.slice(0,M.length)!=M))for(;M.length>0&&(M=M.slice(0,M.length-1),M=M.slice(0,M.lastIndexOf("/")+1),F.slice(0,M.length)!=M););var te=(O[1]||"").match(/boundary="(.*?)"/);if(!te)throw new Error("MAD cannot find boundary");var pe="--"+(te[1]||""),ne=[],re=[],se={FileIndex:ne,FullPaths:re};P(se);var _e,we=0;for(L=0;L<O.length;++L){var De=O[L];De!==pe&&De!==pe+"--"||(we++&&oo(se,O.slice(_e,L),M),_e=L)}return se}function xf(C,U){var M=U||{},O=M.boundary||"SheetJS";O="------="+O;for(var L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],F=C.FullPaths[0],te=F,pe=C.FileIndex[0],ne=1;ne<C.FullPaths.length;++ne)if(te=C.FullPaths[ne].slice(F.length),pe=C.FileIndex[ne],!(!pe.size||!pe.content||te=="Sh33tJ5")){te=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pe){return"_x"+Pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pe){return"_u"+Pe.charCodeAt(0).toString(16)+"_"});for(var re=pe.content,se=ut&&Buffer.isBuffer(re)?re.toString("binary"):be(re),_e=0,we=Math.min(1024,se.length),De=0,Te=0;Te<=we;++Te)(De=se.charCodeAt(Te))>=32&&De<128&&++_e;var Ie=_e>=we*4/5;L.push(O),L.push("Content-Location: "+(M.root||"file:///C:/SheetJS/")+te),L.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),L.push("Content-Type: "+zs(pe,te)),L.push(""),L.push(Ie?_f(se):ts(se))}return L.push(O+`--\r
`),L.join(`\r
`)}function zl(C){var U={};return P(U,C),U}function $s(C,U,M,O){var L=O&&O.unsafe;L||P(C);var F=!L&&_t.find(C,U);if(!F){var te=C.FullPaths[0];U.slice(0,te.length)==te?te=U:(te.slice(-1)!="/"&&(te+="/"),te=(te+U).replace("//","/")),F={name:s(U),type:2},C.FileIndex.push(F),C.FullPaths.push(te),L||_t.utils.cfb_gc(C)}return F.content=M,F.size=M?M.length:0,O&&(O.CLSID&&(F.clsid=O.CLSID),O.mt&&(F.mt=O.mt),O.ct&&(F.ct=O.ct)),F}function $l(C,U){P(C);var M=_t.find(C,U);if(M){for(var O=0;O<C.FileIndex.length;++O)if(C.FileIndex[O]==M)return C.FileIndex.splice(O,1),C.FullPaths.splice(O,1),!0}return!1}function lo(C,U,M){P(C);var O=_t.find(C,U);if(O){for(var L=0;L<C.FileIndex.length;++L)if(C.FileIndex[L]==O)return C.FileIndex[L].name=s(M),C.FullPaths[L]=M,!0}return!1}function uo(C){K(C,!0)}return e.find=ce,e.read=W,e.parse=m,e.write=He,e.writeFile=Se,e.utils={cfb_new:zl,cfb_add:$s,cfb_del:$l,cfb_mov:lo,cfb_gc:uo,ReadShift:cl,CheckField:CT,prep_blob:Wn,bconcat:fn,use_zlib:N,_deflateRaw:ao,_inflateRaw:Hl,consts:ue},e})();function vD(t){return typeof t=="string"?sf(t):Array.isArray(t)?q4(t):t}function Ml(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=sf(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?xl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([vD(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Dl(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function pn(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Q_(t,e){for(var n=[],r=pn(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function $0(t){for(var e=[],n=pn(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function lf(t){for(var e=[],n=pn(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function yD(t){for(var e=[],n=pn(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Bc=new Date(1899,11,30,0,0,0);function Pn(t,e){var n=t.getTime(),r=Bc.getTime()+(t.getTimezoneOffset()-Bc.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var uT=new Date,_D=Bc.getTime()+(uT.getTimezoneOffset()-Bc.getTimezoneOffset())*6e4,Z_=uT.getTimezoneOffset();function cT(t){var e=new Date;return e.setTime(t*24*60*60*1e3+_D),e.getTimezoneOffset()!==Z_&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Z_)*6e4),e}var e1=new Date("2017-02-19T19:06:09.000Z"),fT=isNaN(e1.getFullYear())?new Date("2/19/17"):e1,xD=fT.getFullYear()==2017;function Cn(t,e){var n=new Date(t);if(xD)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(fT.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function uf(t,e){if(ut&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return n[o]||o})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function Un(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Un(t[n]));return e}function kt(t,e){for(var n="";n.length<e;)n+=t;return n}function ui(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,o){return n=-n,o}),!isNaN(e=Number(r)))?e/n:e}var TD=["january","february","march","april","may","june","july","august","september","october","november","december"];function _l(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),o=e.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&TD.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||o>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function We(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return ut?r=gi(n):r=z4(n),_t.utils.cfb_add(t,e,r)}_t.utils.cfb_add(t,e,n)}else t.file(e,n)}function J0(){return _t.utils.cfb_new()}var Jt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ED={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K0=$0(ED),Y0=/[&<>'"]/g,SD=/[\u0000-\u0008\u000b-\u001f]/g;function pt(t){var e=t+"";return e.replace(Y0,function(n){return K0[n]}).replace(SD,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function t1(t){return pt(t).replace(/ /g,"_x0020_")}var hT=/[\u0000-\u001f]/g;function wD(t){var e=t+"";return e.replace(Y0,function(n){return K0[n]}).replace(/\n/g,"<br/>").replace(hT,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function AD(t){var e=t+"";return e.replace(Y0,function(n){return K0[n]}).replace(hT,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function CD(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function RD(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Fd(t){for(var e="",n=0,r=0,s=0,o=0,l=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);continue}l=t.charCodeAt(n++),c=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function n1(t){var e=Ns(2*t.length),n,r,s=1,o=0,l=0,c;for(r=0;r<t.length;r+=s)s=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),s=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=n%256,e[o++]=n>>>8;return e.slice(0,o).toString("ucs2")}function r1(t){return gi(t,"binary").toString("utf8")}var fc="foo bar baz",ul=ut&&(r1(fc)==Fd(fc)&&r1||n1(fc)==Fd(fc)&&n1)||Fd,xl=ut?function(t){return gi(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},bD=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}})(),dT=/(^\s|\s$|\n)/;function hn(t,e){return"<"+t+(e.match(dT)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Tl(t){return pn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ae(t,e,n){return"<"+t+(n!=null?Tl(n):"")+(e!=null?(e.match(dT)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function m0(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function ND(t,e){switch(typeof t){case"string":var n=Ae("vt:lpwstr",pt(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ae((t|0)==t?"vt:i4":"vt:r8",pt(String(t)));case"boolean":return Ae("vt:bool",t?"true":"false")}if(t instanceof Date)return Ae("vt:filetime",m0(t));throw new Error("Unable to serialize "+t)}var Qt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},eo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ID(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,o=5;o>=0;--o)s=s*256+t[e+o];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function DD(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,o=0,l=r?-e:e;isFinite(l)?l==0?s=o=0:(s=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(e)?26985:0);for(var c=0;c<=5;++c,o/=256)t[n+c]=o&255;t[n+6]=(s&15)<<4|o&15,t[n+7]=s>>4|r}var i1=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,o=t[0][r].length;s<o;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},s1=ut?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:gi(e)})):i1(t)}:i1,a1=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(al(t,s)));return r.join("").replace(ll,"")},W0=ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ll,""):a1(t,e,n)}:a1,o1=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},pT=ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):o1(t,e,n)}:o1,l1=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(La(t,s)));return r.join("")},Ol=ut?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):l1(e,n,r)}:l1,mT=function(t,e){var n=jn(t,e);return n>0?Ol(t,e+4,e+4+n-1):""},gT=mT,vT=function(t,e){var n=jn(t,e);return n>0?Ol(t,e+4,e+4+n-1):""},yT=vT,_T=function(t,e){var n=2*jn(t,e);return n>0?Ol(t,e+4,e+4+n-1):""},xT=_T,TT=function(e,n){var r=jn(e,n);return r>0?W0(e,n+4,n+4+r):""},ET=TT,ST=function(t,e){var n=jn(t,e);return n>0?Ol(t,e+4,e+4+n):""},wT=ST,AT=function(t,e){return ID(t,e)},Gc=AT,X0=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ut&&(gT=function(e,n){if(!Buffer.isBuffer(e))return mT(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yT=function(e,n){if(!Buffer.isBuffer(e))return vT(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},xT=function(e,n){if(!Buffer.isBuffer(e))return _T(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},ET=function(e,n){if(!Buffer.isBuffer(e))return TT(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},wT=function(e,n){if(!Buffer.isBuffer(e))return ST(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Gc=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):AT(e,n)},X0=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var La=function(t,e){return t[e]},al=function(t,e){return t[e+1]*256+t[e]},MD=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},jn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ws=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},OD=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function cl(t,e){var n="",r,s,o=[],l,c,d,f;switch(e){case"dbcs":if(f=this.l,ut&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(al(this,f)),f+=2;t*=2;break;case"utf8":n=Ol(this,this.l,this.l+t);break;case"utf16le":t*=2,n=W0(this,this.l,this.l+t);break;case"wstr":return cl.call(this,t,"dbcs");case"lpstr-ansi":n=gT(this,this.l),t=4+jn(this,this.l);break;case"lpstr-cp":n=yT(this,this.l),t=4+jn(this,this.l);break;case"lpwstr":n=xT(this,this.l),t=4+2*jn(this,this.l);break;case"lpp4":t=4+jn(this,this.l),n=ET(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+jn(this,this.l),n=wT(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=La(this,this.l+t++))!==0;)o.push(lc(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=al(this,this.l+t))!==0;)o.push(lc(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=La(this,f),this.l=f+1,c=cl.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(lc(al(this,f))),f+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=La(this,f),this.l=f+1,c=cl.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(lc(La(this,f))),f+=1}n=o.join("");break;default:switch(t){case 1:return r=La(this,this.l),this.l++,r;case 2:return r=(e==="i"?MD:al)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?ws:OD)(this,this.l),this.l+=4,r):(s=jn(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Gc(this,this.l):s=Gc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=pT(this,this.l,t);break}}return this.l+=t,n}var kD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},LD=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},PD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function UD(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)PD(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kD(this,e,this.l);break;case 8:if(r=8,n==="f"){DD(this,e,this.l);break}case 16:break;case-4:r=4,LD(this,e,this.l);break}return this.l+=r,this}function CT(t,e){var n=pT(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Wn(t,e){t.l=e,t.read_shift=cl,t.chk=CT,t.write_shift=UD}function Vr(t,e){t.l+=e}function fe(t){var e=Ns(t);return Wn(e,0),e}function Ln(){var t=[],e=ut?256:2048,n=function(f){var m=fe(f);return Wn(m,0),m},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},o=function(f){return r&&f<r.length-r.l?r:(s(),r=n(Math.max(f+1,e)))},l=function(){return s(),fn(t)},c=function(f){s(),r=f,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:c,end:l,_bufs:t}}function ye(t,e,n,r){var s=+e,o;if(!isNaN(s)){r||(r=IP[s].p||(n||[]).length||0),o=1+(s>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var l=t.next(o);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&X0(n)&&t.push(n)}}function fl(t,e,n){var r=Un(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function u1(t,e,n){var r=Un(t);return r.s=fl(r.s,e.s,n),r.e=fl(r.e,e.s,n),r}function hl(t,e){if(t.cRel&&t.c<0)for(t=Un(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Un(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=mt(t);return!t.cRel&&t.cRel!=null&&(n=GD(n)),!t.rRel&&t.rRel!=null&&(n=FD(n)),n}function Bd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+yn(t.s.c)+":"+(t.e.cRel?"":"$")+yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+dn(t.s.r)+":"+(t.e.rRel?"":"$")+dn(t.e.r):hl(t.s,e.biff)+":"+hl(t.e,e.biff)}function j0(t){return parseInt(BD(t),10)-1}function dn(t){return""+(t+1)}function FD(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function BD(t){return t.replace(/\$(\d+)$/,"$1")}function Q0(t){for(var e=HD(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function yn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function GD(t){return t.replace(/^([A-Z])/,"$$$1")}function HD(t){return t.replace(/^\$([A-Z])/,"$1")}function VD(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zt(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function mt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Zn(t){var e=t.indexOf(":");return e==-1?{s:Zt(t),e:Zt(t)}:{s:Zt(t.slice(0,e)),e:Zt(t.slice(e+1))}}function $t(t,e){return typeof e>"u"||typeof e=="number"?$t(t.s,t.e):(typeof t!="string"&&(t=mt(t)),typeof e!="string"&&(e=mt(e)),t==e?t:t+":"+e)}function Rt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,o=t.length;for(n=0;r<o&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<o&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===o||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=o&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=o&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function c1(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Wi(t.z,n?Pn(e):e)}catch{}try{return t.w=Wi((t.XF||{}).numFmtId||(n?14:0),n?Pn(e):e)}catch{return""+e}}function di(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?kl[t.v]||t.v:e==null?c1(t,t.v):c1(t,e))}function ks(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function RT(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,o=t||(s?[]:{}),l=0,c=0;if(o&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Zt(r.origin):r.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var m=Rt(o["!ref"]);f.s.c=m.s.c,f.s.r=m.s.r,f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),l==-1&&(f.e.r=l=m.e.r+1)}for(var _=0;_!=e.length;++_)if(e[_]){if(!Array.isArray(e[_]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[_].length;++y)if(!(typeof e[_][y]>"u")){var T={v:e[_][y]},S=l+_,E=c+y;if(f.s.r>S&&(f.s.r=S),f.s.c>E&&(f.s.c=E),f.e.r<S&&(f.e.r=S),f.e.c<E&&(f.e.c=E),e[_][y]&&typeof e[_][y]=="object"&&!Array.isArray(e[_][y])&&!(e[_][y]instanceof Date))T=e[_][y];else if(Array.isArray(T.v)&&(T.f=e[_][y][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||Pt[14],r.cellDates?(T.t="d",T.w=Wi(T.z,Pn(T.v))):(T.t="n",T.v=Pn(T.v),T.w=Wi(T.z,T.v))):T.t="s";if(s)o[S]||(o[S]=[]),o[S][E]&&o[S][E].z&&(T.z=o[S][E].z),o[S][E]=T;else{var A=mt({c:E,r:S});o[A]&&o[A].z&&(T.z=o[A].z),o[A]=T}}}return f.s.c<1e7&&(o["!ref"]=$t(f)),o}function to(t,e){return RT(null,t,e)}function qD(t){return t.read_shift(4,"i")}function Mr(t,e){return e||(e=fe(4)),e.write_shift(4,t),e}function _n(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function en(t,e){var n=!1;return e==null&&(n=!0,e=fe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function zD(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function $D(t,e){return e||(e=fe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Z0(t,e){var n=t.l,r=t.read_shift(1),s=_n(t),o=[],l={t:s,h:s};if((r&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push(zD(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}function JD(t,e){var n=!1;return e==null&&(n=!0,e=fe(15+4*t.t.length)),e.write_shift(1,0),en(t.t,e),n?e.slice(0,e.l):e}var KD=Z0;function YD(t,e){var n=!1;return e==null&&(n=!0,e=fe(23+4*t.t.length)),e.write_shift(1,1),en(t.t,e),e.write_shift(4,1),$D({},e),n?e.slice(0,e.l):e}function vr(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Ls(t,e){return e==null&&(e=fe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ps(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Us(t,e){return e==null&&(e=fe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var WD=_n,bT=en;function ep(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Hc(t,e){var n=!1;return e==null&&(n=!0,e=fe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var XD=_n,g0=ep,tp=Hc;function NT(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?Gc([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ws(e,0)>>2;return n?s/100:s}function IT(t,e){e==null&&(e=fe(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function DT(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function jD(t,e){return e||(e=fe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Fs=DT,no=jD;function ro(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Is(t,e){return(e||fe(8)).write_shift(8,t,"f")}function QD(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var f=oM[s];f&&(e.rgb=T1(f));break;case 2:e.rgb=T1([l,c,d]);break;case 3:e.theme=s;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Vc(t,e){if(e||(e=fe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function ZD(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function eM(t,e){e||(e=fe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var MT=2,Yn=3,hc=11,qc=19,dc=64,tM=65,nM=71,rM=4108,iM=4126,cn=80,f1={1:{n:"CodePage",t:MT},2:{n:"Category",t:cn},3:{n:"PresentationFormat",t:cn},4:{n:"ByteCount",t:Yn},5:{n:"LineCount",t:Yn},6:{n:"ParagraphCount",t:Yn},7:{n:"SlideCount",t:Yn},8:{n:"NoteCount",t:Yn},9:{n:"HiddenCount",t:Yn},10:{n:"MultimediaClipCount",t:Yn},11:{n:"ScaleCrop",t:hc},12:{n:"HeadingPairs",t:rM},13:{n:"TitlesOfParts",t:iM},14:{n:"Manager",t:cn},15:{n:"Company",t:cn},16:{n:"LinksUpToDate",t:hc},17:{n:"CharacterCount",t:Yn},19:{n:"SharedDoc",t:hc},22:{n:"HyperlinksChanged",t:hc},23:{n:"AppVersion",t:Yn,p:"version"},24:{n:"DigSig",t:tM},26:{n:"ContentType",t:cn},27:{n:"ContentStatus",t:cn},28:{n:"Language",t:cn},29:{n:"Version",t:cn},255:{},2147483648:{n:"Locale",t:qc},2147483651:{n:"Behavior",t:qc},1919054434:{}},h1={1:{n:"CodePage",t:MT},2:{n:"Title",t:cn},3:{n:"Subject",t:cn},4:{n:"Author",t:cn},5:{n:"Keywords",t:cn},6:{n:"Comments",t:cn},7:{n:"Template",t:cn},8:{n:"LastAuthor",t:cn},9:{n:"RevNumber",t:cn},10:{n:"EditTime",t:dc},11:{n:"LastPrinted",t:dc},12:{n:"CreatedDate",t:dc},13:{n:"ModifiedDate",t:dc},14:{n:"PageCount",t:Yn},15:{n:"WordCount",t:Yn},16:{n:"CharCount",t:Yn},17:{n:"Thumbnail",t:nM},18:{n:"Application",t:cn},19:{n:"DocSecurity",t:Yn},255:{},2147483648:{n:"Locale",t:qc},2147483651:{n:"Behavior",t:qc},1919054434:{}};function sM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var aM=sM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),oM=Un(aM),kl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function OT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kT(t,e){var n=yD(lM),r=[],s;r[r.length]=Jt,r[r.length]=Ae("Types",null,{xmlns:Qt.CT,"xmlns:xsd":Qt.xsd,"xmlns:xsi":Qt.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ae("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(s=t[d][0],r[r.length]=Ae("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:pc[d][e.bookType]||pc[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(f){r[r.length]=Ae("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:pc[d][e.bookType]||pc[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(f){r[r.length]=Ae("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var at={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function LT(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ja(t){var e=[Jt,Ae("Relationships",null,{xmlns:Qt.RELS})];return pn(t["!id"]).forEach(function(n){e[e.length]=Ae("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dt(t,e,n,r,s,o){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[at.HLINK,at.XPATH,at.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function uM(t){var e=[Jt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function d1(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function cM(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function fM(t){var e=[Jt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(d1(t[n][0],t[n][1])),e.push(cM("",t[n][0]));return e.push(d1("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function PT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kc.version+"</meta:generator></office:meta></office:document-meta>"}var bs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Gd(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=pt(e),r[r.length]=n?Ae(t,e,n):hn(t,e))}function UT(t,e){var n=e||{},r=[Jt,Ae("cp:coreProperties",null,{"xmlns:cp":Qt.CORE_PROPS,"xmlns:dc":Qt.dc,"xmlns:dcterms":Qt.dcterms,"xmlns:dcmitype":Qt.dcmitype,"xmlns:xsi":Qt.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Gd("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:m0(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&Gd("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:m0(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var o=0;o!=bs.length;++o){var l=bs[o],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Gd(l[0],c,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ka=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],FT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function BT(t){var e=[],n=Ae;return t||(t={}),t.Application="SheetJS",e[e.length]=Jt,e[e.length]=Ae("Properties",null,{xmlns:Qt.EXT_PROPS,"xmlns:vt":Qt.vt}),Ka.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=pt(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+pt(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function GT(t){var e=[Jt,Ae("Properties",null,{xmlns:Qt.CUST_PROPS,"xmlns:vt":Qt.vt})];if(!t)return e.join("");var n=1;return pn(t).forEach(function(s){++n,e[e.length]=Ae("property",ND(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:pt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var p1={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hM(t,e){var n=[];return pn(p1).map(function(r){for(var s=0;s<bs.length;++s)if(bs[s][1]==r)return bs[s];for(s=0;s<Ka.length;++s)if(Ka[s][1]==r)return Ka[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(hn(p1[r[1]]||r[1],s))}}),Ae("DocumentProperties",n.join(""),{xmlns:Xn.o})}function dM(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&pn(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<bs.length;++l)if(o==bs[l][1])return;for(l=0;l<Ka.length;++l)if(o==Ka[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),s.push(Ae(t1(o),c,{"dt:dt":d}))}}),e&&pn(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=e[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),s.push(Ae(t1(o),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Xn.o+'">'+s.join("")+"</"+r+">"}function pM(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),s+=o);var l=fe(8);return l.write_shift(4,r),l.write_shift(4,s),l}function m1(t,e){var n=fe(4),r=fe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=fe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=pM(e);break;case 31:case 80:for(r=fe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return fn([n,r])}var HT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mM(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function g1(t,e,n){var r=fe(8),s=[],o=[],l=8,c=0,d=fe(8),f=fe(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),o.push(d),s.push(f),l+=8+d.length,!e){f=fe(8),f.write_shift(4,0),s.unshift(f);var m=[fe(4)];for(m[0].write_shift(4,t.length),c=0;c<t.length;++c){var _=t[c][0];for(d=fe(8+2*(_.length+1)+(_.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,_.length+1),d.write_shift(0,_,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=fn(m),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(HT.indexOf(t[c][0])>-1||FT.indexOf(t[c][0])>-1)&&t[c][1]!=null){var y=t[c][1],T=0;if(e){T=+e[t[c][0]];var S=n[T];if(S.p=="version"&&typeof y=="string"){var E=y.split(".");y=(+E[0]<<16)+(+E[1]||0)}d=m1(S.t,y)}else{var A=mM(y);A==-1&&(A=31,y=String(y)),d=m1(A,y)}o.push(d),f=fe(8),f.write_shift(4,e?T:2+c),s.push(f),l+=8+d.length}var I=8*(o.length+1);for(c=0;c<o.length;++c)s[c].write_shift(4,I),I+=o[c].length;return r.write_shift(4,l),r.write_shift(4,o.length),fn([r].concat(s).concat(o))}function v1(t,e,n,r,s,o){var l=fe(s?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,_t.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,s?68:48);var d=g1(t,n,r);if(c.push(d),s){var f=g1(s,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(f)}return fn(c)}function gM(t,e){e||(e=fe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function vM(t,e){return t.read_shift(e)===1}function An(t,e){return e||(e=fe(2)),e.write_shift(2,+!!t),e}function VT(t){return t.read_shift(2,"u")}function pr(t,e){return e||(e=fe(2)),e.write_shift(2,t),e}function qT(t,e,n){return n||(n=fe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function zT(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var l=r?t.read_shift(r,s):"";return l}function yM(t){var e=t.t||"",n=fe(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=fe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return fn(s)}function _M(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function xM(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):_M(t,r,n)}function TM(t,e,n){if(n.biff>5)return xM(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $T(t,e,n){return n||(n=fe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function y1(t,e){e||(e=fe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function EM(t){var e=fe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),o=s>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)e.write_shift(4,l[n]);if(o==28)r=r.slice(1),y1(r,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));var c=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),o&8&&y1(s>-1?r.slice(s+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Ds(t,e,n,r){return r||(r=fe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function SM(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),o=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[s,o,l]}function wM(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function JT(t,e){return e||(e=fe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function np(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=fe(s);return o.write_shift(2,r),o.write_shift(2,e),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function AM(t,e){var n=!e||e.biff==8,r=fe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function CM(t,e){var n=!e||e.biff>=8?2:1,r=fe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function RM(t,e){var n=fe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=yM(t[s]);var o=fn([n].concat(r));return o.parts=[n.length].concat(r.map(function(l){return l.length})),o}function bM(){var t=fe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function NM(t){var e=fe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function IM(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,o=fe(s);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function DM(t,e,n,r){var s=fe(10);return Ds(t,e,r,s),s.write_shift(4,n),s}function MM(t,e,n,r,s){var o=!s||s.biff==8,l=fe(8+ +o+(1+o)*n.length);return Ds(t,e,r,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function OM(t,e,n,r){var s=n&&n.biff==5;r||(r=fe(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function kM(t,e){var n=e.biff==8||!e.biff?4:2,r=fe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function _1(t,e,n,r){var s=n&&n.biff==5;r||(r=fe(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&s&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function LM(t){var e=fe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function PM(t,e,n,r,s,o){var l=fe(8);return Ds(t,e,r,l),qT(n,o,l),l}function UM(t,e,n,r){var s=fe(14);return Ds(t,e,r,s),Is(n,s),s}function FM(t,e,n){if(n.biff<8)return BM(t,e,n);for(var r=[],s=t.l+e,o=t.read_shift(n.biff>8?4:2);o--!==0;)r.push(SM(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function BM(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=zT(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function GM(t){var e=fe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)JT(t[n],e);return e}function HM(t){var e=fe(24),n=Zt(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return fn([e,EM(t[1])])}function VM(t){var e=t[1].Tooltip,n=fe(10+2*(e.length+1));n.write_shift(2,2048);var r=Zt(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function qM(t){return t||(t=fe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function zM(t,e,n){if(!n.cellStyles)return Vr(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var f={s,e:o,w:l,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(f.level=d>>8&7),f}function $M(t,e){var n=fe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function JM(t){for(var e=fe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function KM(t,e,n){var r=fe(15);return Pl(r,t,e),r.write_shift(8,n,"f"),r}function YM(t,e,n){var r=fe(9);return Pl(r,t,e),r.write_shift(2,n),r}var WM=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=$0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var f=[],m=Ns(1);switch(d.type){case"base64":m=br(hi(c));break;case"binary":m=br(c);break;case"buffer":case"array":m=c;break}Wn(m,0);var _=m.read_shift(1),y=!!(_&136),T=!1,S=!1;switch(_){case 2:break;case 3:break;case 48:T=!0,y=!0;break;case 49:T=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+_.toString(16))}var E=0,A=521;_==2&&(E=m.read_shift(2)),m.l+=3,_!=2&&(E=m.read_shift(4)),E>1048576&&(E=1e6),_!=2&&(A=m.read_shift(2));var I=m.read_shift(2),k=d.codepage||1252;_!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(k=t[m[m.l]]),m.l+=1,m.l+=2),S&&(m.l+=36);for(var b=[],B={},J=Math.min(m.length,_==2?521:A-10-(T?264:0)),W=S?32:11;m.l<J&&m[m.l]!=13;)switch(B={},B.name=Lc.utils.decode(k,m.slice(m.l,m.l+W)).replace(/[\u0000\r\n].*$/g,""),m.l+=W,B.type=String.fromCharCode(m.read_shift(1)),_!=2&&!S&&(B.offset=m.read_shift(4)),B.len=m.read_shift(1),_==2&&(B.offset=m.read_shift(2)),B.dec=m.read_shift(1),B.name.length&&b.push(B),_!=2&&(m.l+=S?13:14),B.type){case"B":(!T||B.len!=8)&&d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(m[m.l]!==13&&(m.l=A-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=A;var P=0,Q=0;for(f[0]=[],Q=0;Q!=b.length;++Q)f[0][Q]=b[Q].name;for(;E-- >0;){if(m[m.l]===42){m.l+=I;continue}for(++m.l,f[++P]=[],Q=0,Q=0;Q!=b.length;++Q){var K=m.slice(m.l,m.l+b[Q].len);m.l+=b[Q].len,Wn(K,0);var ae=Lc.utils.decode(k,K);switch(b[Q].type){case"C":ae.trim().length&&(f[P][Q]=ae.replace(/\s+$/,""));break;case"D":ae.length===8?f[P][Q]=new Date(+ae.slice(0,4),+ae.slice(4,6)-1,+ae.slice(6,8)):f[P][Q]=ae;break;case"F":f[P][Q]=parseFloat(ae.trim());break;case"+":case"I":f[P][Q]=S?K.read_shift(-4,"i")^2147483648:K.read_shift(4,"i");break;case"L":switch(ae.trim().toUpperCase()){case"Y":case"T":f[P][Q]=!0;break;case"N":case"F":f[P][Q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ae+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+_.toString(16));f[P][Q]="##MEMO##"+(S?parseInt(ae.trim(),10):K.read_shift(4));break;case"N":ae=ae.replace(/\u0000/g,"").trim(),ae&&ae!="."&&(f[P][Q]=+ae||0);break;case"@":f[P][Q]=new Date(K.read_shift(-8,"f")-621356832e5);break;case"T":f[P][Q]=new Date((K.read_shift(4)-2440588)*864e5+K.read_shift(4));break;case"Y":f[P][Q]=K.read_shift(4,"i")/1e4+K.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][Q]=-K.read_shift(-8,"f");break;case"B":if(T&&b[Q].len==8){f[P][Q]=K.read_shift(8,"f");break}case"G":case"P":K.l+=b[Q].len;break;case"0":if(b[Q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[Q].type)}}}if(_!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=b,f}function r(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var m=to(n(c,f),f);return m["!cols"]=f.DBF.map(function(_){return{wch:_.len,DBF:_}}),delete f.DBF,m}function s(c,d){try{return ks(r(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&vl(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ln(),_=Yc(c,{header:1,raw:!0,cellDates:!0}),y=_[0],T=_.slice(1),S=c["!cols"]||[],E=0,A=0,I=0,k=1;for(E=0;E<y.length;++E){if(((S[E]||{}).DBF||{}).name){y[E]=S[E].DBF.name,++I;continue}if(y[E]!=null){if(++I,typeof y[E]=="number"&&(y[E]=y[E].toString(10)),typeof y[E]!="string")throw new Error("DBF Invalid column name "+y[E]+" |"+typeof y[E]+"|");if(y.indexOf(y[E])!==E){for(A=0;A<1024;++A)if(y.indexOf(y[E]+"_"+A)==-1){y[E]+="_"+A;break}}}}var b=Rt(c["!ref"]),B=[],J=[],W=[];for(E=0;E<=b.e.c-b.s.c;++E){var P="",Q="",K=0,ae=[];for(A=0;A<T.length;++A)T[A][E]!=null&&ae.push(T[A][E]);if(ae.length==0||y[E]==null){B[E]="?";continue}for(A=0;A<ae.length;++A){switch(typeof ae[A]){case"number":Q="B";break;case"string":Q="C";break;case"boolean":Q="L";break;case"object":Q=ae[A]instanceof Date?"D":"C";break;default:Q="C"}K=Math.max(K,String(ae[A]).length),P=P&&P!=Q?"C":Q}K>250&&(K=250),Q=((S[E]||{}).DBF||{}).type,Q=="C"&&S[E].DBF.len>K&&(K=S[E].DBF.len),P=="B"&&Q=="N"&&(P="N",W[E]=S[E].DBF.dec,K=S[E].DBF.len),J[E]=P=="C"||Q=="N"?K:o[P]||0,k+=J[E],B[E]=P}var ce=m.next(32);for(ce.write_shift(4,318902576),ce.write_shift(4,T.length),ce.write_shift(2,296+32*I),ce.write_shift(2,k),E=0;E<4;++E)ce.write_shift(4,0);for(ce.write_shift(4,0|(+e[Yx]||3)<<8),E=0,A=0;E<y.length;++E)if(y[E]!=null){var me=m.next(32),xe=(y[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);me.write_shift(1,xe,"sbcs"),me.write_shift(1,B[E]=="?"?"C":B[E],"sbcs"),me.write_shift(4,A),me.write_shift(1,J[E]||o[B[E]]||0),me.write_shift(1,W[E]||0),me.write_shift(1,2),me.write_shift(4,0),me.write_shift(1,0),me.write_shift(4,0),me.write_shift(4,0),A+=J[E]||o[B[E]]||0}var Be=m.next(264);for(Be.write_shift(4,13),E=0;E<65;++E)Be.write_shift(4,0);for(E=0;E<T.length;++E){var he=m.next(k);for(he.write_shift(1,0),A=0;A<y.length;++A)if(y[A]!=null)switch(B[A]){case"L":he.write_shift(1,T[E][A]==null?63:T[E][A]?84:70);break;case"B":he.write_shift(8,T[E][A]||0,"f");break;case"N":var Y="0";for(typeof T[E][A]=="number"&&(Y=T[E][A].toFixed(W[A]||0)),I=0;I<J[A]-Y.length;++I)he.write_shift(1,32);he.write_shift(1,Y,"sbcs");break;case"D":T[E][A]?(he.write_shift(4,("0000"+T[E][A].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(T[E][A].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+T[E][A].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(T[E][A]!=null?T[E][A]:"").slice(0,J[A]);for(he.write_shift(1,ue,"sbcs"),I=0;I<J[A]-ue.length;++I)he.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:s,to_sheet:r,from_sheet:l}})(),XM=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+pn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(y,T){var S=t[T];return typeof S=="number"?q_(S):S},r=function(y,T,S){var E=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return E==59?y:q_(E)};t["|"]=254;function s(y,T){switch(T.type){case"base64":return o(hi(y),T);case"binary":return o(y,T);case"buffer":return o(ut&&Buffer.isBuffer(y)?y.toString("binary"):Dl(y),T);case"array":return o(uf(y),T)}throw new Error("Unrecognized type "+T.type)}function o(y,T){var S=y.split(/[\n\r]+/),E=-1,A=-1,I=0,k=0,b=[],B=[],J=null,W={},P=[],Q=[],K=[],ae=0,ce;for(+T.codepage>=0&&vl(+T.codepage);I!==S.length;++I){ae=0;var me=S[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),xe=me.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Be=xe[0],he;if(me.length>0)switch(Be){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":xe[1].charAt(0)=="P"&&B.push(me.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,ue=!1,Se=!1,be=!1,He=-1,V=-1;for(k=1;k<xe.length;++k)switch(xe[k].charAt(0)){case"A":break;case"X":A=parseInt(xe[k].slice(1))-1,ue=!0;break;case"Y":for(E=parseInt(xe[k].slice(1))-1,ue||(A=0),ce=b.length;ce<=E;++ce)b[ce]=[];break;case"K":he=xe[k].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(ui(he))?isNaN(_l(he).getDate())||(he=Cn(he)):(he=ui(he),J!==null&&aT(J)&&(he=cT(he))),Y=!0;break;case"E":be=!0;var N=YO(xe[k].slice(1),{r:E,c:A});b[E][A]=[b[E][A],N];break;case"S":Se=!0,b[E][A]=[b[E][A],"S5S"];break;case"G":break;case"R":He=parseInt(xe[k].slice(1))-1;break;case"C":V=parseInt(xe[k].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+me)}if(Y&&(b[E][A]&&b[E][A].length==2?b[E][A][0]=he:b[E][A]=he,J=null),Se){if(be)throw new Error("SYLK shared formula cannot have own formula");var q=He>-1&&b[He][V];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");b[E][A][1]=WO(q[1],{r:E-He,c:A-V})}break;case"F":var G=0;for(k=1;k<xe.length;++k)switch(xe[k].charAt(0)){case"X":A=parseInt(xe[k].slice(1))-1,++G;break;case"Y":for(E=parseInt(xe[k].slice(1))-1,ce=b.length;ce<=E;++ce)b[ce]=[];break;case"M":ae=parseInt(xe[k].slice(1))/20;break;case"F":break;case"G":break;case"P":J=B[parseInt(xe[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(K=xe[k].slice(1).split(" "),ce=parseInt(K[0],10);ce<=parseInt(K[1],10);++ce)ae=parseInt(K[2],10),Q[ce-1]=ae===0?{hidden:!0}:{wch:ae},rp(Q[ce-1]);break;case"C":A=parseInt(xe[k].slice(1))-1,Q[A]||(Q[A]={});break;case"R":E=parseInt(xe[k].slice(1))-1,P[E]||(P[E]={}),ae>0?(P[E].hpt=ae,P[E].hpx=jT(ae)):ae===0&&(P[E].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+me)}G<1&&(J=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+me)}}return P.length>0&&(W["!rows"]=P),Q.length>0&&(W["!cols"]=Q),T&&T.sheetRows&&(b=b.slice(0,T.sheetRows)),[b,W]}function l(y,T){var S=s(y,T),E=S[0],A=S[1],I=to(E,T);return pn(A).forEach(function(k){I[k]=A[k]}),I}function c(y,T){return ks(l(y,T),T)}function d(y,T,S,E){var A="C;Y"+(S+1)+";X"+(E+1)+";K";switch(y.t){case"n":A+=y.v||0,y.f&&!y.F&&(A+=";E"+sp(y.f,{r:S,c:E}));break;case"b":A+=y.v?"TRUE":"FALSE";break;case"e":A+=y.w||y.v;break;case"d":A+='"'+(y.w||y.v)+'"';break;case"s":A+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function f(y,T){T.forEach(function(S,E){var A="F;W"+(E+1)+" "+(E+1)+" ";S.hidden?A+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=zc(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=$c(S.wpx)),typeof S.wch=="number"&&(A+=Math.round(S.wch))),A.charAt(A.length-1)!=" "&&y.push(A)})}function m(y,T){T.forEach(function(S,E){var A="F;";S.hidden?A+="M0;":S.hpt?A+="M"+20*S.hpt+";":S.hpx&&(A+="M"+20*Jc(S.hpx)+";"),A.length>2&&y.push(A+"R"+(E+1))})}function _(y,T){var S=["ID;PWXL;N;E"],E=[],A=Rt(y["!ref"]),I,k=Array.isArray(y),b=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&f(S,y["!cols"]),y["!rows"]&&m(S,y["!rows"]),S.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var B=A.s.r;B<=A.e.r;++B)for(var J=A.s.c;J<=A.e.c;++J){var W=mt({r:B,c:J});I=k?(y[B]||[])[J]:y[W],!(!I||I.v==null&&(!I.f||I.F))&&E.push(d(I,y,B,J))}return S.join(b)+b+E.join(b)+b+"E"+b}return{to_workbook:c,to_sheet:l,from_sheet:_}})(),jM=(function(){function t(o,l){switch(l.type){case"base64":return e(hi(o),l);case"binary":return e(o,l);case"buffer":return e(ut&&Buffer.isBuffer(o)?o.toString("binary"):Dl(o),l);case"array":return e(uf(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var c=o.split(`
`),d=-1,f=-1,m=0,_=[];m!==c.length;++m){if(c[m].trim()==="BOT"){_[++d]=[],f=0;continue}if(!(d<0)){var y=c[m].trim().split(","),T=y[0],S=y[1];++m;for(var E=c[m]||"";(E.match(/["]/g)||[]).length&1&&m<c.length-1;)E+=`
`+c[++m];switch(E=E.trim(),+T){case-1:if(E==="BOT"){_[++d]=[],f=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?_[d][f]=!0:E==="FALSE"?_[d][f]=!1:isNaN(ui(S))?isNaN(_l(S).getDate())?_[d][f]=S:_[d][f]=Cn(S):_[d][f]=ui(S),++f;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),_[d][f++]=E!==""?E:null;break}if(E==="EOD")break}}return l&&l.sheetRows&&(_=_.slice(0,l.sheetRows)),_}function n(o,l){return to(t(o,l),l)}function r(o,l){return ks(n(o,l),l)}var s=(function(){var o=function(d,f,m,_,y){d.push(f),d.push(m+","+_),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,f,m,_){d.push(f+","+m),d.push(f==1?'"'+_.replace(/"/g,'""')+'"':_)};return function(d){var f=[],m=Rt(d["!ref"]),_,y=Array.isArray(d);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,m.e.r-m.s.r+1,""),o(f,"TUPLES",0,m.e.c-m.s.c+1,""),o(f,"DATA",0,0,"");for(var T=m.s.r;T<=m.e.r;++T){l(f,-1,0,"BOT");for(var S=m.s.c;S<=m.e.c;++S){var E=mt({r:T,c:S});if(_=y?(d[T]||[])[S]:d[E],!_){l(f,1,0,"");continue}switch(_.t){case"n":var A=_.w;!A&&_.v!=null&&(A=_.v),A==null?_.f&&!_.F?l(f,1,0,"="+_.f):l(f,1,0,""):l(f,0,A,"V");break;case"b":l(f,0,_.v?1:0,_.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Wi(_.z||Pt[14],Pn(Cn(_.v)))),l(f,0,_.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var I=`\r
`,k=f.join(I);return k}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),KT=(function(){function t(_){return _.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(_){return _.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(_,y){for(var T=_.split(`
`),S=-1,E=-1,A=0,I=[];A!==T.length;++A){var k=T[A].trim().split(":");if(k[0]==="cell"){var b=Zt(k[1]);if(I.length<=b.r)for(S=I.length;S<=b.r;++S)I[S]||(I[S]=[]);switch(S=b.r,E=b.c,k[2]){case"t":I[S][E]=t(k[3]);break;case"v":I[S][E]=+k[3];break;case"vtf":var B=k[k.length-1];case"vtc":switch(k[3]){case"nl":I[S][E]=!!+k[4];break;default:I[S][E]=+k[4];break}k[2]=="vtf"&&(I[S][E]=[I[S][E],B])}}}return y&&y.sheetRows&&(I=I.slice(0,y.sheetRows)),I}function r(_,y){return to(n(_,y),y)}function s(_,y){return ks(r(_,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(_){if(!_||!_["!ref"])return"";for(var y=[],T=[],S,E="",A=Zn(_["!ref"]),I=Array.isArray(_),k=A.s.r;k<=A.e.r;++k)for(var b=A.s.c;b<=A.e.c;++b)if(E=mt({r:k,c:b}),S=I?(_[k]||[])[b]:_[E],!(!S||S.v==null||S.t==="z")){switch(T=["cell",E,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var B=Pn(Cn(S.v));T[2]="vtc",T[3]="nd",T[4]=""+B,T[5]=S.w||Wi(S.z||Pt[14],B);break;case"e":continue}y.push(T.join(":"))}return y.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(_){return[o,l,c,l,f(_),d].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:m}})(),QM=(function(){function t(m,_,y,T,S){S.raw?_[y][T]=m:m===""||(m==="TRUE"?_[y][T]=!0:m==="FALSE"?_[y][T]=!1:isNaN(ui(m))?isNaN(_l(m).getDate())?_[y][T]=m:_[y][T]=Cn(m):_[y][T]=ui(m))}function e(m,_){var y=_||{},T=[];if(!m||m.length===0)return T;for(var S=m.split(/[\r\n]/),E=S.length-1;E>=0&&S[E].length===0;)--E;for(var A=10,I=0,k=0;k<=E;++k)I=S[k].indexOf(" "),I==-1?I=S[k].length:I++,A=Math.max(A,I);for(k=0;k<=E;++k){T[k]=[];var b=0;for(t(S[k].slice(0,A).trim(),T,k,b,y),b=1;b<=(S[k].length-A)/10+1;++b)t(S[k].slice(A+(b-1)*10,A+b*10).trim(),T,k,b,y)}return y.sheetRows&&(T=T.slice(0,y.sheetRows)),T}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(m){for(var _={},y=!1,T=0,S=0;T<m.length;++T)(S=m.charCodeAt(T))==34?y=!y:!y&&S in n&&(_[S]=(_[S]||0)+1);S=[];for(T in _)Object.prototype.hasOwnProperty.call(_,T)&&S.push([_[T],T]);if(!S.length){_=r;for(T in _)Object.prototype.hasOwnProperty.call(_,T)&&S.push([_[T],T])}return S.sort(function(E,A){return E[0]-A[0]||r[E[1]]-r[A[1]]}),n[S.pop()[1]]||44}function o(m,_){var y=_||{},T="",S=y.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(T=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(T=m.charAt(4),m=m.slice(6)):T=s(m.slice(0,1024)):y&&y.FS?T=y.FS:T=s(m.slice(0,1024));var A=0,I=0,k=0,b=0,B=0,J=T.charCodeAt(0),W=!1,P=0,Q=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var K=y.dateNF!=null?pD(y.dateNF):null;function ae(){var ce=m.slice(b,B),me={};if(ce.charAt(0)=='"'&&ce.charAt(ce.length-1)=='"'&&(ce=ce.slice(1,-1).replace(/""/g,'"')),ce.length===0)me.t="z";else if(y.raw)me.t="s",me.v=ce;else if(ce.trim().length===0)me.t="s",me.v=ce;else if(ce.charCodeAt(0)==61)ce.charCodeAt(1)==34&&ce.charCodeAt(ce.length-1)==34?(me.t="s",me.v=ce.slice(2,-1).replace(/""/g,'"')):XO(ce)?(me.t="n",me.f=ce.slice(1)):(me.t="s",me.v=ce);else if(ce=="TRUE")me.t="b",me.v=!0;else if(ce=="FALSE")me.t="b",me.v=!1;else if(!isNaN(k=ui(ce)))me.t="n",y.cellText!==!1&&(me.w=ce),me.v=k;else if(!isNaN(_l(ce).getDate())||K&&ce.match(K)){me.z=y.dateNF||Pt[14];var xe=0;K&&ce.match(K)&&(ce=mD(ce,y.dateNF,ce.match(K)||[]),xe=1),y.cellDates?(me.t="d",me.v=Cn(ce,xe)):(me.t="n",me.v=Pn(Cn(ce,xe))),y.cellText!==!1&&(me.w=Wi(me.z,me.v instanceof Date?Pn(me.v):me.v)),y.cellNF||delete me.z}else me.t="s",me.v=ce;if(me.t=="z"||(y.dense?(S[A]||(S[A]=[]),S[A][I]=me):S[mt({c:I,r:A})]=me),b=B+1,Q=m.charCodeAt(b),E.e.c<I&&(E.e.c=I),E.e.r<A&&(E.e.r=A),P==J)++I;else if(I=0,++A,y.sheetRows&&y.sheetRows<=A)return!0}e:for(;B<m.length;++B)switch(P=m.charCodeAt(B)){case 34:Q===34&&(W=!W);break;case J:case 10:case 13:if(!W&&ae())break e;break}return B-b>0&&ae(),S["!ref"]=$t(E),S}function l(m,_){return!(_&&_.PRN)||_.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?o(m,_):to(e(m,_),_)}function c(m,_){var y="",T=_.type=="string"?[0,0,0,0]:cU(m,_);switch(_.type){case"base64":y=hi(m);break;case"binary":y=m;break;case"buffer":_.codepage==65001?y=m.toString("utf8"):_.codepage&&typeof Lc<"u"||(y=ut&&Buffer.isBuffer(m)?m.toString("binary"):Dl(m));break;case"array":y=uf(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+_.type)}return T[0]==239&&T[1]==187&&T[2]==191?y=ul(y.slice(3)):_.type!="string"&&_.type!="buffer"&&_.codepage==65001?y=ul(y):_.type=="binary"&&typeof Lc<"u",y.slice(0,19)=="socialcalc:version:"?KT.to_sheet(_.type=="string"?y:ul(y),_):l(y,_)}function d(m,_){return ks(c(m,_),_)}function f(m){for(var _=[],y=Rt(m["!ref"]),T,S=Array.isArray(m),E=y.s.r;E<=y.e.r;++E){for(var A=[],I=y.s.c;I<=y.e.c;++I){var k=mt({r:E,c:I});if(T=S?(m[E]||[])[I]:m[k],!T||T.v==null){A.push("          ");continue}for(var b=(T.w||(di(T),T.w)||"").slice(0,10);b.length<10;)b+=" ";A.push(b+(I===0?" ":""))}_.push(A.join(""))}return _.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}})(),x1=(function(){function t(N,q,G){if(N){Wn(N,N.l||0);for(var z=G.Enum||He;N.l<N.length;){var oe=N.read_shift(2),Ee=z[oe]||z[65535],Oe=N.read_shift(2),Re=N.l+Oe,Ne=Ee.f&&Ee.f(N,Oe,G);if(N.l=Re,q(Ne,Ee,oe))return}}}function e(N,q){switch(q.type){case"base64":return n(br(hi(N)),q);case"binary":return n(br(N),q);case"buffer":case"array":return n(N,q)}throw"Unsupported type "+q.type}function n(N,q){if(!N)return N;var G=q||{},z=G.dense?[]:{},oe="Sheet1",Ee="",Oe=0,Re={},Ne=[],rt=[],je={s:{r:0,c:0},e:{r:0,c:0}},Xt=G.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)G.Enum=He,t(N,function(ke,xn,Bn){switch(Bn){case 0:G.vers=ke,ke>=4096&&(G.qpro=!0);break;case 6:je=ke;break;case 204:ke&&(Ee=ke);break;case 222:Ee=ke;break;case 15:case 51:G.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Bn==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=G.dateNF||Pt[14],G.cellDates&&(ke[1].t="d",ke[1].v=cT(ke[1].v))),G.qpro&&ke[3]>Oe&&(z["!ref"]=$t(je),Re[oe]=z,Ne.push(oe),z=G.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Oe=ke[3],oe=Ee||"Sheet"+(Oe+1),Ee="");var yr=G.dense?(z[ke[0].r]||[])[ke[0].c]:z[mt(ke[0])];if(yr){yr.t=ke[1].t,yr.v=ke[1].v,ke[1].z!=null&&(yr.z=ke[1].z),ke[1].f!=null&&(yr.f=ke[1].f);break}G.dense?(z[ke[0].r]||(z[ke[0].r]=[]),z[ke[0].r][ke[0].c]=ke[1]):z[mt(ke[0])]=ke[1];break}},G);else if(N[2]==26||N[2]==14)G.Enum=V,N[2]==14&&(G.qpro=!0,N.l=0),t(N,function(ke,xn,Bn){switch(Bn){case 204:oe=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>Oe&&(z["!ref"]=$t(je),Re[oe]=z,Ne.push(oe),z=G.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Oe=ke[3],oe="Sheet"+(Oe+1)),Xt>0&&ke[0].r>=Xt)break;G.dense?(z[ke[0].r]||(z[ke[0].r]=[]),z[ke[0].r][ke[0].c]=ke[1]):z[mt(ke[0])]=ke[1],je.e.c<ke[0].c&&(je.e.c=ke[0].c),je.e.r<ke[0].r&&(je.e.r=ke[0].r);break;case 27:ke[14e3]&&(rt[ke[14e3][0]]=ke[14e3][1]);break;case 1537:rt[ke[0]]=ke[1],ke[0]==Oe&&(oe=ke[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(z["!ref"]=$t(je),Re[Ee||oe]=z,Ne.push(Ee||oe),!rt.length)return{SheetNames:Ne,Sheets:Re};for(var Xe={},Fn=[],Tt=0;Tt<rt.length;++Tt)Re[Ne[Tt]]?(Fn.push(rt[Tt]||Ne[Tt]),Xe[rt[Tt]]=Re[rt[Tt]]||Re[Ne[Tt]]):(Fn.push(rt[Tt]),Xe[rt[Tt]]={"!ref":"A1"});return{SheetNames:Fn,Sheets:Xe}}function r(N,q){var G=q||{};if(+G.codepage>=0&&vl(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Ln(),oe=Rt(N["!ref"]),Ee=Array.isArray(N),Oe=[];Ce(z,0,o(1030)),Ce(z,6,d(oe));for(var Re=Math.min(oe.e.r,8191),Ne=oe.s.r;Ne<=Re;++Ne)for(var rt=dn(Ne),je=oe.s.c;je<=oe.e.c;++je){Ne===oe.s.r&&(Oe[je]=yn(je));var Xt=Oe[je]+rt,Xe=Ee?(N[Ne]||[])[je]:N[Xt];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")(Xe.v|0)==Xe.v&&Xe.v>=-32768&&Xe.v<=32767?Ce(z,13,T(Ne,je,Xe.v)):Ce(z,14,E(Ne,je,Xe.v));else{var Fn=di(Xe);Ce(z,15,_(Ne,je,Fn.slice(0,239)))}}return Ce(z,1),z.end()}function s(N,q){var G=q||{};if(+G.codepage>=0&&vl(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Ln();Ce(z,0,l(N));for(var oe=0,Ee=0;oe<N.SheetNames.length;++oe)(N.Sheets[N.SheetNames[oe]]||{})["!ref"]&&Ce(z,27,be(N.SheetNames[oe],Ee++));var Oe=0;for(oe=0;oe<N.SheetNames.length;++oe){var Re=N.Sheets[N.SheetNames[oe]];if(!(!Re||!Re["!ref"])){for(var Ne=Rt(Re["!ref"]),rt=Array.isArray(Re),je=[],Xt=Math.min(Ne.e.r,8191),Xe=Ne.s.r;Xe<=Xt;++Xe)for(var Fn=dn(Xe),Tt=Ne.s.c;Tt<=Ne.e.c;++Tt){Xe===Ne.s.r&&(je[Tt]=yn(Tt));var ke=je[Tt]+Fn,xn=rt?(Re[Xe]||[])[Tt]:Re[ke];if(!(!xn||xn.t=="z"))if(xn.t=="n")Ce(z,23,ae(Xe,Tt,Oe,xn.v));else{var Bn=di(xn);Ce(z,22,P(Xe,Tt,Oe,Bn.slice(0,239)))}}++Oe}}return Ce(z,1),z.end()}function o(N){var q=fe(2);return q.write_shift(2,N),q}function l(N){var q=fe(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var G=0,z=0,oe=0,Ee=0;Ee<N.SheetNames.length;++Ee){var Oe=N.SheetNames[Ee],Re=N.Sheets[Oe];if(!(!Re||!Re["!ref"])){++oe;var Ne=Zn(Re["!ref"]);G<Ne.e.r&&(G=Ne.e.r),z<Ne.e.c&&(z=Ne.e.c)}}return G>8191&&(G=8191),q.write_shift(2,G),q.write_shift(1,oe),q.write_shift(1,z),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function c(N,q,G){var z={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&G.qpro?(z.s.c=N.read_shift(1),N.l++,z.s.r=N.read_shift(2),z.e.c=N.read_shift(1),N.l++,z.e.r=N.read_shift(2),z):(z.s.c=N.read_shift(2),z.s.r=N.read_shift(2),q==12&&G.qpro&&(N.l+=2),z.e.c=N.read_shift(2),z.e.r=N.read_shift(2),q==12&&G.qpro&&(N.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function d(N){var q=fe(8);return q.write_shift(2,N.s.c),q.write_shift(2,N.s.r),q.write_shift(2,N.e.c),q.write_shift(2,N.e.r),q}function f(N,q,G){var z=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(z[0].c=N.read_shift(1),z[3]=N.read_shift(1),z[0].r=N.read_shift(2),N.l+=2):(z[2]=N.read_shift(1),z[0].c=N.read_shift(2),z[0].r=N.read_shift(2)),z}function m(N,q,G){var z=N.l+q,oe=f(N,q,G);if(oe[1].t="s",G.vers==20768){N.l++;var Ee=N.read_shift(1);return oe[1].v=N.read_shift(Ee,"utf8"),oe}return G.qpro&&N.l++,oe[1].v=N.read_shift(z-N.l,"cstr"),oe}function _(N,q,G){var z=fe(7+G.length);z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,N),z.write_shift(1,39);for(var oe=0;oe<z.length;++oe){var Ee=G.charCodeAt(oe);z.write_shift(1,Ee>=128?95:Ee)}return z.write_shift(1,0),z}function y(N,q,G){var z=f(N,q,G);return z[1].v=N.read_shift(2,"i"),z}function T(N,q,G){var z=fe(7);return z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,N),z.write_shift(2,G,"i"),z}function S(N,q,G){var z=f(N,q,G);return z[1].v=N.read_shift(8,"f"),z}function E(N,q,G){var z=fe(13);return z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,N),z.write_shift(8,G,"f"),z}function A(N,q,G){var z=N.l+q,oe=f(N,q,G);if(oe[1].v=N.read_shift(8,"f"),G.qpro)N.l=z;else{var Ee=N.read_shift(2);B(N.slice(N.l,N.l+Ee),oe),N.l+=Ee}return oe}function I(N,q,G){var z=q&32768;return q&=-32769,q=(z?N:0)+(q>=8192?q-16384:q),(z?"":"$")+(G?yn(q):dn(q))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(N,q){Wn(N,0);for(var G=[],z=0,oe="",Ee="",Oe="",Re="";N.l<N.length;){var Ne=N[N.l++];switch(Ne){case 0:G.push(N.read_shift(8,"f"));break;case 1:Ee=I(q[0].c,N.read_shift(2),!0),oe=I(q[0].r,N.read_shift(2),!1),G.push(Ee+oe);break;case 2:{var rt=I(q[0].c,N.read_shift(2),!0),je=I(q[0].r,N.read_shift(2),!1);Ee=I(q[0].c,N.read_shift(2),!0),oe=I(q[0].r,N.read_shift(2),!1),G.push(rt+je+":"+Ee+oe)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(N.read_shift(2));break;case 6:{for(var Xt="";Ne=N[N.l++];)Xt+=String.fromCharCode(Ne);G.push('"'+Xt.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Re=G.pop(),Oe=G.pop(),G.push(["AND","OR"][Ne-20]+"("+Oe+","+Re+")");break;default:if(Ne<32&&b[Ne])Re=G.pop(),Oe=G.pop(),G.push(Oe+b[Ne]+Re);else if(k[Ne]){if(z=k[Ne][1],z==69&&(z=N[N.l++]),z>G.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+G.join("|")+"|");return}var Xe=G.slice(-z);G.length-=z,G.push(k[Ne][0]+"("+Xe.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}G.length==1?q[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function J(N){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=N.read_shift(2),q[3]=N[N.l++],q[0].c=N[N.l++],q}function W(N,q){var G=J(N);return G[1].t="s",G[1].v=N.read_shift(q-4,"cstr"),G}function P(N,q,G,z){var oe=fe(6+z.length);oe.write_shift(2,N),oe.write_shift(1,G),oe.write_shift(1,q),oe.write_shift(1,39);for(var Ee=0;Ee<z.length;++Ee){var Oe=z.charCodeAt(Ee);oe.write_shift(1,Oe>=128?95:Oe)}return oe.write_shift(1,0),oe}function Q(N,q){var G=J(N);G[1].v=N.read_shift(2);var z=G[1].v>>1;if(G[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return G[1].v=z,G}function K(N,q){var G=J(N),z=N.read_shift(4),oe=N.read_shift(4),Ee=N.read_shift(2);if(Ee==65535)return z===0&&oe===3221225472?(G[1].t="e",G[1].v=15):z===0&&oe===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Oe=Ee&32768;return Ee=(Ee&32767)-16446,G[1].v=(1-Oe*2)*(oe*Math.pow(2,Ee+32)+z*Math.pow(2,Ee)),G}function ae(N,q,G,z){var oe=fe(14);if(oe.write_shift(2,N),oe.write_shift(1,G),oe.write_shift(1,q),z==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Ee=0,Oe=0,Re=0,Ne=0;return z<0&&(Ee=1,z=-z),Oe=Math.log2(z)|0,z/=Math.pow(2,Oe-31),Ne=z>>>0,(Ne&2147483648)==0&&(z/=2,++Oe,Ne=z>>>0),z-=Ne,Ne|=2147483648,Ne>>>=0,z*=Math.pow(2,32),Re=z>>>0,oe.write_shift(4,Re),oe.write_shift(4,Ne),Oe+=16383+(Ee?32768:0),oe.write_shift(2,Oe),oe}function ce(N,q){var G=K(N);return N.l+=q-14,G}function me(N,q){var G=J(N),z=N.read_shift(4);return G[1].v=z>>6,G}function xe(N,q){var G=J(N),z=N.read_shift(8,"f");return G[1].v=z,G}function Be(N,q){var G=xe(N);return N.l+=q-10,G}function he(N,q){return N[N.l+q-1]==0?N.read_shift(q,"cstr"):""}function Y(N,q){var G=N[N.l++];G>q-1&&(G=q-1);for(var z="";z.length<G;)z+=String.fromCharCode(N[N.l++]);return z}function ue(N,q,G){if(!(!G.qpro||q<21)){var z=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var oe=N.read_shift(q-21,"cstr");return[z,oe]}}function Se(N,q){for(var G={},z=N.l+q;N.l<z;){var oe=N.read_shift(2);if(oe==14e3){for(G[oe]=[0,""],G[oe][0]=N.read_shift(2);N[N.l];)G[oe][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return G}function be(N,q){var G=fe(5+N.length);G.write_shift(2,14e3),G.write_shift(2,q);for(var z=0;z<N.length;++z){var oe=N.charCodeAt(z);G[G.l++]=oe>127?95:oe}return G[G.l++]=0,G}var He={0:{n:"BOF",f:VT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:K},24:{n:"NUMBER18",f:Q},25:{n:"FORMULA19",f:ce},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:me},38:{n:"??"},39:{n:"NUMBER27",f:xe},40:{n:"FORMULA28",f:Be},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})(),ZM=/^\s|\s$|[\t\n\r]/;function YT(t,e){if(!e.bookSST)return"";var n=[Jt];n[n.length]=Ae("sst",null,{xmlns:eo[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(ZM)&&(o+=' xml:space="preserve"'),o+=">"+pt(s.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function eO(t){return[t.read_shift(4),t.read_shift(4)]}function tO(t,e){return e||(e=fe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var nO=JD;function rO(t){var e=Ln();ye(e,159,tO(t));for(var n=0;n<t.length;++n)ye(e,19,nO(t[n]));return ye(e,160),e.end()}function iO(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function WT(t){var e=0,n,r=iO(t),s=r.length+1,o,l,c,d,f;for(n=Ns(s),n[0]=r.length,o=1;o!=s;++o)n[o]=r[o-1];for(o=s-1;o>=0;--o)l=n[o],c=(e&16384)===0?0:1,d=e<<1&32767,f=c|d,e=f^l;return e^52811}var sO=(function(){function t(s,o){switch(o.type){case"base64":return e(hi(s),o);case"binary":return e(s,o);case"buffer":return e(ut&&Buffer.isBuffer(s)?s.toString("binary"):Dl(s),o);case"array":return e(uf(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){var l=o||{},c=l.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,_){Array.isArray(c)&&(c[_]=[]);for(var y=/\\\w+\b/g,T=0,S,E=-1;S=y.exec(m);){switch(S[0]){case"\\cell":var A=m.slice(T,y.lastIndex-S[0].length);if(A[0]==" "&&(A=A.slice(1)),++E,A.length){var I={v:A,t:"s"};Array.isArray(c)?c[_][E]=I:c[mt({r:_,c:E})]=I}break}T=y.lastIndex}E>f.e.c&&(f.e.c=E)}),c["!ref"]=$t(f),c}function n(s,o){return ks(t(s,o),o)}function r(s){for(var o=["{\\rtf1\\ansi"],l=Rt(s["!ref"]),c,d=Array.isArray(s),f=l.s.r;f<=l.e.r;++f){o.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)o.push("\\cellx"+(m+1));for(o.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var _=mt({r:f,c:m});c=d?(s[f]||[])[m]:s[_],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(di(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function T1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var aO=6,ci=aO;function zc(t){return Math.floor((t+Math.round(128/ci)/256)*ci)}function $c(t){return Math.floor((t-5)/ci*100+.5)/100}function v0(t){return Math.round((t*ci+5)/ci*256)/256}function rp(t){t.width?(t.wpx=zc(t.width),t.wch=$c(t.wpx),t.MDW=ci):t.wpx?(t.wch=$c(t.wpx),t.width=v0(t.wch),t.MDW=ci):typeof t.wch=="number"&&(t.width=v0(t.wch),t.wpx=zc(t.width),t.MDW=ci),t.customWidth&&delete t.customWidth}var oO=96,XT=oO;function Jc(t){return t*96/XT}function jT(t){return t*XT/96}function lO(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Ae("numFmt",null,{numFmtId:r,formatCode:pt(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ae("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function uO(t){var e=[];return e[e.length]=Ae("cellXfs",null),t.forEach(function(n){e[e.length]=Ae("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ae("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function QT(t,e){var n=[Jt,Ae("styleSheet",null,{xmlns:eo[0],"xmlns:vt":Qt.vt})],r;return t.SSF&&(r=lO(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=uO(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function cO(t,e){var n=t.read_shift(2),r=_n(t);return[n,r]}function fO(t,e,n){n||(n=fe(6+4*e.length)),n.write_shift(2,t),en(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function hO(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=ZD(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var o=t.read_shift(2);switch(o===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var c=t.read_shift(1);c>0&&(r.family=c);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=QD(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=_n(t),r}function dO(t,e){e||(e=fe(153)),e.write_shift(2,t.sz*20),eM(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Vc(t.color,e);var r=0;return r=2,e.write_shift(1,r),en(t.name,e),e.length>e.l?e.slice(0,e.l):e}var pO=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Hd,mO=Vr;function E1(t,e){e||(e=fe(84)),Hd||(Hd=$0(pO));var n=Hd[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Vc({auto:1},e),Vc({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function gO(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function ZT(t,e,n){n||(n=fe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function rl(t,e){return e||(e=fe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var vO=Vr;function yO(t,e){return e||(e=fe(51)),e.write_shift(1,0),rl(null,e),rl(null,e),rl(null,e),rl(null,e),rl(null,e),e.length>e.l?e.slice(0,e.l):e}function _O(t,e){return e||(e=fe(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Hc(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function xO(t,e,n){var r=fe(2052);return r.write_shift(4,t),Hc(e,r),Hc(n,r),r.length>r.l?r.slice(0,r.l):r}function TO(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(ye(t,615,Mr(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&ye(t,44,fO(s,e[s]))}),ye(t,616))}}function EO(t){var e=1;ye(t,611,Mr(e)),ye(t,43,dO({sz:12,color:{theme:1},name:"Calibri",family:2})),ye(t,612)}function SO(t){var e=2;ye(t,603,Mr(e)),ye(t,45,E1({patternType:"none"})),ye(t,45,E1({patternType:"gray125"})),ye(t,604)}function wO(t){var e=1;ye(t,613,Mr(e)),ye(t,46,yO()),ye(t,614)}function AO(t){var e=1;ye(t,626,Mr(e)),ye(t,47,ZT({numFmtId:0},65535)),ye(t,627)}function CO(t,e){ye(t,617,Mr(e.length)),e.forEach(function(n){ye(t,47,ZT(n,0))}),ye(t,618)}function RO(t){var e=1;ye(t,619,Mr(e)),ye(t,48,_O({xfId:0,name:"Normal"})),ye(t,620)}function bO(t){var e=0;ye(t,505,Mr(e)),ye(t,506)}function NO(t){var e=0;ye(t,508,xO(e,"TableStyleMedium9","PivotStyleMedium4")),ye(t,509)}function IO(t,e){var n=Ln();return ye(n,278),TO(n,t.SSF),EO(n),SO(n),wO(n),AO(n),CO(n,e.cellXfs),RO(n),bO(n),NO(n),ye(n,279),n.end()}function eE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Jt];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function DO(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:_n(t)}}function MO(t){var e=fe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),en(t.name,e),e.slice(0,e.l)}function OO(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function kO(t){var e=fe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function LO(t,e){var n=fe(8+2*e.length);return n.write_shift(4,t),en(e,n),n.slice(0,n.l)}function PO(t){return t.l+=4,t.read_shift(4)!=0}function UO(t,e){var n=fe(8);return n.write_shift(4,t),n.write_shift(4,1),n}function FO(){var t=Ln();return ye(t,332),ye(t,334,Mr(1)),ye(t,335,MO({name:"XLDAPR",version:12e4,flags:3496657072})),ye(t,336),ye(t,339,LO(1,"XLDAPR")),ye(t,52),ye(t,35,Mr(514)),ye(t,4096,Mr(0)),ye(t,4097,pr(1)),ye(t,36),ye(t,53),ye(t,340),ye(t,337,UO(1)),ye(t,51,kO([[1,0]])),ye(t,338),ye(t,333),t.end()}function tE(){var t=[Jt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function BO(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=mt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Ha=1024;function nE(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Ae("xml",null,{"xmlns:v":Xn.v,"xmlns:o":Xn.o,"xmlns:x":Xn.x,"xmlns:mv":Xn.mv}).replace(/\/>/,">"),Ae("o:shapelayout",Ae("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ae("v:shapetype",[Ae("v:stroke",null,{joinstyle:"miter"}),Ae("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Ha<t*1e3;)Ha+=1e3;return e.forEach(function(o){var l=Zt(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ae("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ae("v:fill",d,c),m={on:"t",obscured:"t"};++Ha,s=s.concat(["<v:shape"+Tl({id:"_x0000_s"+Ha,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ae("v:shadow",null,m),Ae("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",hn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),hn("x:AutoFill","False"),hn("x:Row",String(l.r)),hn("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function rE(t){var e=[Jt,Ae("comments",null,{xmlns:eo[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var o=pt(s.a);n.indexOf(o)==-1&&(n.push(o),e.push("<author>"+o+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(s=n.indexOf(pt(d.a))),o.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),o.length<=1)e.push(hn("t",pt(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;e.push(hn("t",pt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function GO(t,e,n){var r=[Jt,Ae("ThreadedComments",null,{xmlns:Qt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var o="";(s[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Ae("threadedComment",hn("text",l.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function HO(t){var e=[Jt,Ae("personList",null,{xmlns:Qt.TCMNT,"xmlns:x":eo[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Ae("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function VO(t){var e={};e.iauthor=t.read_shift(4);var n=Fs(t);return e.rfx=n.s,e.ref=mt(n.s),t.l+=16,e}function qO(t,e){return e==null&&(e=fe(36)),e.write_shift(4,t[1].iauthor),no(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var zO=_n;function $O(t){return en(t.slice(0,54))}function JO(t){var e=Ln(),n=[];return ye(e,628),ye(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),ye(e,632,$O(s.a)))})}),ye(e,631),ye(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var o={s:Zt(r[0]),e:Zt(r[0])};ye(e,635,qO([o,s])),s.t&&s.t.length>0&&ye(e,637,YD(s)),ye(e,636),delete s.iauthor})}),ye(e,634),ye(e,629),e.end()}function KO(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&_t.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var iE=["xlsb","xlsm","xlam","biff8","xla"],YO=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=e.c:--m,d?f+=e.r:--f,s+(c?"":"$")+yn(m)+(d?"":"$")+dn(f)}return function(s,o){return e=o,s.replace(t,n)}})(),ip=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sp=(function(){return function(e,n){return e.replace(ip,function(r,s,o,l,c,d){var f=Q0(l)-(o?0:n.c),m=j0(d)-(c?0:n.r),_=m==0?"":c?m+1:"["+m+"]",y=f==0?"":o?f+1:"["+f+"]";return s+"R"+_+"C"+y})}})();function WO(t,e){return t.replace(ip,function(n,r,s,o,l,c){return r+(s=="$"?s+o:yn(Q0(o)+e.c))+(l=="$"?l+c:dn(j0(c)+e.r))})}function XO(t){return t.length!=1}function qt(t){t.l+=1}function Xi(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function sE(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return aE(t);n.biff==12&&(r=4)}var s=t.read_shift(r),o=t.read_shift(r),l=Xi(t),c=Xi(t);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function aE(t){var e=Xi(t),n=Xi(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function jO(t,e,n){if(n.biff<8)return aE(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),o=Xi(t),l=Xi(t);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function oE(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return QO(t);var r=t.read_shift(n&&n.biff==12?4:2),s=Xi(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function QO(t){var e=Xi(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function ZO(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function e3(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return t3(t);var s=t.read_shift(r>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;s>524287;)s-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:l,rRel:c}}function t3(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function n3(t,e,n){var r=(t[t.l++]&96)>>5,s=sE(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function r3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=sE(t,o,n);return[r,s,l]}function i3(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function s3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[r,s]}function a3(t,e,n){var r=(t[t.l++]&96)>>5,s=jO(t,e-1,n);return[r,s]}function o3(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function S1(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function l3(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],o=0;o<=r;++o)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function u3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function c3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function f3(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function h3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function lE(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function d3(t){return t.read_shift(2),lE(t)}function p3(t){return t.read_shift(2),lE(t)}function m3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=oE(t,0,n);return[r,s]}function g3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=e3(t,0,n);return[r,s]}function v3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=oE(t,0,n);return[r,s,o]}function y3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[yk[s],fE[s],r]}function _3(t,e,n){var r=t[t.l++],s=t.read_shift(1),o=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:x3(t);return[s,(o[0]===0?fE:vk)[o[1]]]}function x3(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function T3(t,e,n){t.l+=n&&n.biff==2?3:4}function E3(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function S3(t){return t.l++,kl[t.read_shift(1)]}function w3(t){return t.l++,t.read_shift(2)}function A3(t){return t.l++,t.read_shift(1)!==0}function C3(t){return t.l++,ro(t)}function R3(t,e,n){return t.l++,zT(t,e-1,n)}function b3(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=vM(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=kl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ro(t);break;case 2:n[1]=TM(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function N3(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],o=0;o!=r;++o)s.push((n.biff==12?Fs:wM)(t));return s}function I3(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var o=0,l=[];o!=r&&(l[o]=[]);++o)for(var c=0;c!=s;++c)l[o][c]=b3(t,n.biff);return l}function D3(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,o=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,o]}function M3(t,e,n){if(n.biff==5)return O3(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),o=t.read_shift(4);return[r,s,o]}function O3(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function k3(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function L3(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function P3(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function U3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[r,s]}var F3=Vr,B3=Vr,G3=Vr;function Ll(t,e,n){return t.l+=2,[ZO(t)]}function ap(t){return t.l+=6,[]}var H3=Ll,V3=ap,q3=ap,z3=Ll;function uE(t){return t.l+=2,[VT(t),t.read_shift(2)&1]}var $3=Ll,J3=uE,K3=ap,Y3=Ll,W3=Ll,X3=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function j3(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),o=t.read_shift(2),l=X3[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:s,C:o}}function Q3(t){return t.l+=2,[t.read_shift(4)]}function Z3(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function ek(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function tk(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function nk(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function rk(t){return t.l+=4,[0,0]}var w1={1:{n:"PtgExp",f:E3},2:{n:"PtgTbl",f:G3},3:{n:"PtgAdd",f:qt},4:{n:"PtgSub",f:qt},5:{n:"PtgMul",f:qt},6:{n:"PtgDiv",f:qt},7:{n:"PtgPower",f:qt},8:{n:"PtgConcat",f:qt},9:{n:"PtgLt",f:qt},10:{n:"PtgLe",f:qt},11:{n:"PtgEq",f:qt},12:{n:"PtgGe",f:qt},13:{n:"PtgGt",f:qt},14:{n:"PtgNe",f:qt},15:{n:"PtgIsect",f:qt},16:{n:"PtgUnion",f:qt},17:{n:"PtgRange",f:qt},18:{n:"PtgUplus",f:qt},19:{n:"PtgUminus",f:qt},20:{n:"PtgPercent",f:qt},21:{n:"PtgParen",f:qt},22:{n:"PtgMissArg",f:qt},23:{n:"PtgStr",f:R3},26:{n:"PtgSheet",f:Z3},27:{n:"PtgEndSheet",f:ek},28:{n:"PtgErr",f:S3},29:{n:"PtgBool",f:A3},30:{n:"PtgInt",f:w3},31:{n:"PtgNum",f:C3},32:{n:"PtgArray",f:o3},33:{n:"PtgFunc",f:y3},34:{n:"PtgFuncVar",f:_3},35:{n:"PtgName",f:D3},36:{n:"PtgRef",f:m3},37:{n:"PtgArea",f:n3},38:{n:"PtgMemArea",f:k3},39:{n:"PtgMemErr",f:F3},40:{n:"PtgMemNoMem",f:B3},41:{n:"PtgMemFunc",f:L3},42:{n:"PtgRefErr",f:P3},43:{n:"PtgAreaErr",f:i3},44:{n:"PtgRefN",f:g3},45:{n:"PtgAreaN",f:a3},46:{n:"PtgMemAreaN",f:tk},47:{n:"PtgMemNoMemN",f:nk},57:{n:"PtgNameX",f:M3},58:{n:"PtgRef3d",f:v3},59:{n:"PtgArea3d",f:r3},60:{n:"PtgRefErr3d",f:U3},61:{n:"PtgAreaErr3d",f:s3},255:{}},ik={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sk={1:{n:"PtgElfLel",f:uE},2:{n:"PtgElfRw",f:Y3},3:{n:"PtgElfCol",f:H3},6:{n:"PtgElfRwV",f:W3},7:{n:"PtgElfColV",f:z3},10:{n:"PtgElfRadical",f:$3},11:{n:"PtgElfRadicalS",f:K3},13:{n:"PtgElfColS",f:V3},15:{n:"PtgElfColSV",f:q3},16:{n:"PtgElfRadicalLel",f:J3},25:{n:"PtgList",f:j3},29:{n:"PtgSxName",f:Q3},255:{}},ak={0:{n:"PtgAttrNoop",f:rk},1:{n:"PtgAttrSemi",f:h3},2:{n:"PtgAttrIf",f:c3},4:{n:"PtgAttrChoose",f:l3},8:{n:"PtgAttrGoto",f:u3},16:{n:"PtgAttrSum",f:T3},32:{n:"PtgAttrBaxcel",f:S1},33:{n:"PtgAttrBaxcel",f:S1},64:{n:"PtgAttrSpace",f:d3},65:{n:"PtgAttrSpaceSemi",f:p3},128:{n:"PtgAttrIfError",f:f3},255:{}};function ok(t,e,n,r){if(r.biff<8)return Vr(t,e);for(var s=t.l+e,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=I3(t,0,r),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=N3(t,n[l][1],r),o.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=s-t.l,e!==0&&o.push(Vr(t,e)),o}function lk(t,e,n){for(var r=t.l+e,s,o,l=[];r!=t.l;)e=r-t.l,o=t[t.l],s=w1[o]||w1[ik[o]],(o===24||o===25)&&(s=(o===24?sk:ak)[t[t.l+1]]),!s||!s.f?Vr(t,e):l.push([s.n,s.f(t,e,n)]);return l}function uk(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],o=0;o<r.length;++o){var l=r[o];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var ck={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fk(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function cE(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function A1(t,e,n){var r=cE(t,e,n);return r=="#REF"?r:fk(r,n)}function Xa(t,e,n,r,s){var o=s&&s.biff||8,l={s:{c:0,r:0}},c=[],d,f,m,_=0,y=0,T,S="";if(!t[0]||!t[0][0])return"";for(var E=-1,A="",I=0,k=t[0].length;I<k;++I){var b=t[0][I];switch(b[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),E>=0){switch(t[0][E][1][0]){case 0:A=kt(" ",t[0][E][1][1]);break;case 1:A=kt("\r",t[0][E][1][1]);break;default:if(A="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}f=f+A,E=-1}c.push(f+ck[b[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=fl(b[1][1],l,s),c.push(hl(m,o));break;case"PtgRefN":m=n?fl(b[1][1],n,s):b[1][1],c.push(hl(m,o));break;case"PtgRef3d":_=b[1][1],m=fl(b[1][2],l,s),S=A1(r,_,s),c.push(S+"!"+hl(m,o));break;case"PtgFunc":case"PtgFuncVar":var B=b[1][0],J=b[1][1];B||(B=0),B&=127;var W=B==0?[]:c.slice(-B);c.length-=B,J==="User"&&(J=W.shift()),c.push(J+"("+W.join(",")+")");break;case"PtgBool":c.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(b[1]);break;case"PtgNum":c.push(String(b[1]));break;case"PtgStr":c.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(b[1]);break;case"PtgAreaN":T=u1(b[1][1],n?{s:n}:l,s),c.push(Bd(T,s));break;case"PtgArea":T=u1(b[1][1],l,s),c.push(Bd(T,s));break;case"PtgArea3d":_=b[1][1],T=b[1][2],S=A1(r,_,s),c.push(S+"!"+Bd(T,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=b[1][2];var P=(r.names||[])[y-1]||(r[0]||[])[y],Q=P?P.Name:"SH33TJSNAME"+String(y);Q&&Q.slice(0,6)=="_xlfn."&&!s.xlfn&&(Q=Q.slice(6)),c.push(Q);break;case"PtgNameX":var K=b[1][1];y=b[1][2];var ae;if(s.biff<=5)K<0&&(K=-K),r[K]&&(ae=r[K][y]);else{var ce="";if(((r[K]||[])[0]||[])[0]==14849||(((r[K]||[])[0]||[])[0]==1025?r[K][y]&&r[K][y].itab>0&&(ce=r.SheetNames[r[K][y].itab-1]+"!"):ce=r.SheetNames[y-1]+"!"),r[K]&&r[K][y])ce+=r[K][y].Name;else if(r[0]&&r[0][y])ce+=r[0][y].Name;else{var me=(cE(r,K,s)||"").split(";;");me[y-1]?ce=me[y-1]:ce+="SH33TJSERRX"}c.push(ce);break}ae||(ae={Name:"SH33TJSERRY"}),c.push(ae.Name);break;case"PtgParen":var xe="(",Be=")";if(E>=0){switch(A="",t[0][E][1][0]){case 2:xe=kt(" ",t[0][E][1][1])+xe;break;case 3:xe=kt("\r",t[0][E][1][1])+xe;break;case 4:Be=kt(" ",t[0][E][1][1])+Be;break;case 5:Be=kt("\r",t[0][E][1][1])+Be;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}E=-1}c.push(xe+c.pop()+Be);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:b[1][1],r:b[1][0]};var he={c:n.c,r:n.r};if(r.sharedf[mt(m)]){var Y=r.sharedf[mt(m)];c.push(Xa(Y,l,he,r,s))}else{var ue=!1;for(d=0;d!=r.arrayf.length;++d)if(f=r.arrayf[d],!(m.c<f[0].s.c||m.c>f[0].e.c)&&!(m.r<f[0].s.r||m.r>f[0].e.r)){c.push(Xa(f[1],l,he,r,s)),ue=!0;break}ue||c.push(b[1])}break;case"PtgArray":c.push("{"+uk(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&E>=0&&Se.indexOf(t[0][I][0])==-1){b=t[0][E];var be=!0;switch(b[1][0]){case 4:be=!1;case 0:A=kt(" ",b[1][1]);break;case 5:be=!1;case 1:A=kt("\r",b[1][1]);break;default:if(A="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}c.push((be?A:"")+c.pop()+(be?"":A)),E=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function hk(t){if(t==null){var e=fe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Is(t);return Is(0)}function dk(t,e,n,r,s){var o=Ds(e,n,s),l=hk(t.v),c=fe(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=fe(t.bf.length),m=0;m<t.bf.length;++m)f[m]=t.bf[m];var _=fn([o,l,c,f]);return _}function cf(t,e,n){var r=t.read_shift(4),s=lk(t,r,n),o=t.read_shift(4),l=o>0?ok(t,o,s,n):null;return[s,l]}var pk=cf,ff=cf,mk=cf,gk=cf,vk={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yk={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _k(t){var e="of:="+t.replace(ip,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function xk(t){return t.replace(/\./,"!")}var dl=typeof Map<"u";function op(t,e,n){var r=0,s=t.length;if(n){if(dl?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var o=dl?n.get(e):n[e];r<o.length;++r)if(t[o[r]].t===e)return t.Count++,o[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(dl?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function hf(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ci=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=$c(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=v0(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function hE(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Zi(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,o=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){oT(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=o;++s)if(t[s].numFmtId===r)return s;return t[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function Tk(t,e,n){if(t&&t["!ref"]){var r=Rt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Ek(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+$t(t[n])+'"/>';return e+"</mergeCells>"}function Sk(t,e,n,r,s){var o=!1,l={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}o=!0,l.codeName=xl(pt(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+Ae("outlinePr",null,f)}!o&&!c||(s[s.length]=Ae("sheetPr",c,l))}var wk=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ak=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ck(t){var e={sheet:1};return wk.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Ak.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=WT(t.password).toString(16).toUpperCase()),Ae("sheetProtection",null,e)}function Rk(t){return hE(t),Ae("pageMargins",null,t)}function bk(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Ae("col",null,hf(s,r)));return n[n.length]="</cols>",n.join("")}function Nk(t,e,n,r){var s=typeof t.ref=="string"?t.ref:$t(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Zn(s);l.s.r==l.e.r&&(l.e.r=Zn(e["!ref"]).e.r,s=$t(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ae("autoFilter",null,{ref:s})}function Ik(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ae("sheetViews",Ae("sheetView",null,s),{})}function Dk(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=kl[t.v];break;case"d":r&&r.cellDates?s=Cn(t.v,-1).toISOString():(t=Un(t),t.t="n",s=""+(t.v=Pn(Cn(t.v)))),typeof t.z>"u"&&(t.z=Pt[14]);break;default:s=t.v;break}var c=hn("v",pt(s)),d={r:e},f=Zi(r.cellXfs,t,r);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=hn("v",""+op(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Ae("f",pt(t.f),m)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),Ae("c",c,d)}function Mk(t,e,n,r){var s=[],o=[],l=Rt(t["!ref"]),c="",d,f="",m=[],_=0,y=0,T=t["!rows"],S=Array.isArray(t),E={r:f},A,I=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=yn(y);for(_=l.s.r;_<=l.e.r;++_){for(o=[],f=dn(_),y=l.s.c;y<=l.e.c;++y){d=m[y]+f;var k=S?(t[_]||[])[y]:t[d];k!==void 0&&(c=Dk(k,d,t,e))!=null&&o.push(c)}(o.length>0||T&&T[_])&&(E={r:f},T&&T[_]&&(A=T[_],A.hidden&&(E.hidden=1),I=-1,A.hpx?I=Jc(A.hpx):A.hpt&&(I=A.hpt),I>-1&&(E.ht=I,E.customHeight=1),A.level&&(E.outlineLevel=A.level)),s[s.length]=Ae("row",o.join(""),E))}if(T)for(;_<T.length;++_)T&&T[_]&&(E={r:_+1},A=T[_],A.hidden&&(E.hidden=1),I=-1,A.hpx?I=Jc(A.hpx):A.hpt&&(I=A.hpt),I>-1&&(E.ht=I,E.customHeight=1),A.level&&(E.outlineLevel=A.level),s[s.length]=Ae("row","",E));return s.join("")}function dE(t,e,n,r){var s=[Jt,Ae("worksheet",null,{xmlns:eo[0],"xmlns:r":Qt.r})],o=n.SheetNames[t],l=0,c="",d=n.Sheets[o];d==null&&(d={});var f=d["!ref"]||"A1",m=Rt(f);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),f=$t(m)}r||(r={}),d["!comments"]=[];var _=[];Sk(d,n,t,e,s),s[s.length]=Ae("dimension",null,{ref:f}),s[s.length]=Ik(d,e,t,n),e.sheetFormat&&(s[s.length]=Ae("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=bk(d,d["!cols"])),s[l=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=Mk(d,e),c.length>0&&(s[s.length]=c)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),d["!protect"]&&(s[s.length]=Ck(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=Nk(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=Ek(d["!merges"]));var y=-1,T,S=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(E){E[1].Target&&(T={ref:E[0]},E[1].Target.charAt(0)!="#"&&(S=dt(r,-1,pt(E[1].Target).replace(/#.*$/,""),at.HLINK),T["r:id"]="rId"+S),(y=E[1].Target.indexOf("#"))>-1&&(T.location=pt(E[1].Target.slice(y+1))),E[1].Tooltip&&(T.tooltip=pt(E[1].Tooltip)),s[s.length]=Ae("hyperlink",null,T))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=Rk(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=hn("ignoredErrors",Ae("ignoredError",null,{numberStoredAsText:1,sqref:f}))),_.length>0&&(S=dt(r,-1,"../drawings/drawing"+(t+1)+".xml",at.DRAW),s[s.length]=Ae("drawing",null,{"r:id":"rId"+S}),d["!drawing"]=_),d["!comments"].length>0&&(S=dt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",at.VML),s[s.length]=Ae("legacyDrawing",null,{"r:id":"rId"+S}),d["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Ok(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=r,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=s/20),n}function kk(t,e,n){var r=fe(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var o=320;s.hpx?o=Jc(s.hpx)*20:s.hpt&&(o=s.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,d=r.l;r.l+=4;for(var f={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var _=-1,y=-1,T=m<<10;T<m+1<<10;++T){f.c=T;var S=Array.isArray(n)?(n[f.r]||[])[f.c]:n[mt(f)];S&&(_<0&&(_=T),y=T)}_<0||(++c,r.write_shift(4,_),r.write_shift(4,y))}var E=r.l;return r.l=d,r.write_shift(4,c),r.l=E,r.length>r.l?r.slice(0,r.l):r}function Lk(t,e,n,r){var s=kk(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&ye(t,0,s)}var Pk=Fs,Uk=no;function Fk(){}function Bk(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=WD(t),n}function Gk(t,e,n){n==null&&(n=fe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return Vc({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),bT(t,n),n.slice(0,n.l)}function Hk(t){var e=vr(t);return[e]}function Vk(t,e,n){return n==null&&(n=fe(8)),Ls(e,n)}function qk(t){var e=Ps(t);return[e]}function zk(t,e,n){return n==null&&(n=fe(4)),Us(e,n)}function $k(t){var e=vr(t),n=t.read_shift(1);return[e,n,"b"]}function Jk(t,e,n){return n==null&&(n=fe(9)),Ls(e,n),n.write_shift(1,t.v?1:0),n}function Kk(t){var e=Ps(t),n=t.read_shift(1);return[e,n,"b"]}function Yk(t,e,n){return n==null&&(n=fe(5)),Us(e,n),n.write_shift(1,t.v?1:0),n}function Wk(t){var e=vr(t),n=t.read_shift(1);return[e,n,"e"]}function Xk(t,e,n){return n==null&&(n=fe(9)),Ls(e,n),n.write_shift(1,t.v),n}function jk(t){var e=Ps(t),n=t.read_shift(1);return[e,n,"e"]}function Qk(t,e,n){return n==null&&(n=fe(8)),Us(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Zk(t){var e=vr(t),n=t.read_shift(4);return[e,n,"s"]}function eL(t,e,n){return n==null&&(n=fe(12)),Ls(e,n),n.write_shift(4,e.v),n}function tL(t){var e=Ps(t),n=t.read_shift(4);return[e,n,"s"]}function nL(t,e,n){return n==null&&(n=fe(8)),Us(e,n),n.write_shift(4,e.v),n}function rL(t){var e=vr(t),n=ro(t);return[e,n,"n"]}function iL(t,e,n){return n==null&&(n=fe(16)),Ls(e,n),Is(t.v,n),n}function sL(t){var e=Ps(t),n=ro(t);return[e,n,"n"]}function aL(t,e,n){return n==null&&(n=fe(12)),Us(e,n),Is(t.v,n),n}function oL(t){var e=vr(t),n=NT(t);return[e,n,"n"]}function lL(t,e,n){return n==null&&(n=fe(12)),Ls(e,n),IT(t.v,n),n}function uL(t){var e=Ps(t),n=NT(t);return[e,n,"n"]}function cL(t,e,n){return n==null&&(n=fe(8)),Us(e,n),IT(t.v,n),n}function fL(t){var e=vr(t),n=Z0(t);return[e,n,"is"]}function hL(t){var e=vr(t),n=_n(t);return[e,n,"str"]}function dL(t,e,n){return n==null&&(n=fe(12+4*t.v.length)),Ls(e,n),en(t.v,n),n.length>n.l?n.slice(0,n.l):n}function pL(t){var e=Ps(t),n=_n(t);return[e,n,"str"]}function mL(t,e,n){return n==null&&(n=fe(8+4*t.v.length)),Us(e,n),en(t.v,n),n.length>n.l?n.slice(0,n.l):n}function gL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=t.read_shift(1),l=[s,o,"b"];if(n.cellFormula){t.l+=2;var c=ff(t,r-t.l,n);l[3]=Xa(c,null,s,n.supbooks,n)}else t.l=r;return l}function vL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=t.read_shift(1),l=[s,o,"e"];if(n.cellFormula){t.l+=2;var c=ff(t,r-t.l,n);l[3]=Xa(c,null,s,n.supbooks,n)}else t.l=r;return l}function yL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=ro(t),l=[s,o,"n"];if(n.cellFormula){t.l+=2;var c=ff(t,r-t.l,n);l[3]=Xa(c,null,s,n.supbooks,n)}else t.l=r;return l}function _L(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=_n(t),l=[s,o,"str"];if(n.cellFormula){t.l+=2;var c=ff(t,r-t.l,n);l[3]=Xa(c,null,s,n.supbooks,n)}else t.l=r;return l}var xL=Fs,TL=no;function EL(t,e){return e==null&&(e=fe(4)),e.write_shift(4,t),e}function SL(t,e){var n=t.l+e,r=Fs(t),s=ep(t),o=_n(t),l=_n(t),c=_n(t);t.l=n;var d={rfx:r,relId:s,loc:o,display:c};return l&&(d.Tooltip=l),d}function wL(t,e){var n=fe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));no({s:Zt(t[0]),e:Zt(t[0])},n),tp("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return en(s||"",n),en(t[1].Tooltip||"",n),en("",n),n.slice(0,n.l)}function AL(){}function CL(t,e,n){var r=t.l+e,s=DT(t),o=t.read_shift(1),l=[s];if(l[2]=o,n.cellFormula){var c=pk(t,r-t.l,n);l[1]=c}else t.l=r;return l}function RL(t,e,n){var r=t.l+e,s=Fs(t),o=[s];if(n.cellFormula){var l=gk(t,r-t.l,n);o[1]=l,t.l=r}else t.l=r;return o}function bL(t,e,n){n==null&&(n=fe(18));var r=hf(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var pE=["left","right","top","bottom","header","footer"];function NL(t){var e={};return pE.forEach(function(n){e[n]=ro(t)}),e}function IL(t,e){return e==null&&(e=fe(48)),hE(t),pE.forEach(function(n){Is(t[n],e)}),e}function DL(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ML(t,e,n){n==null&&(n=fe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function OL(t){var e=fe(24);return e.write_shift(4,4),e.write_shift(4,1),no(t,e),e}function kL(t,e){return e==null&&(e=fe(66)),e.write_shift(2,t.password?WT(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function LL(){}function PL(){}function UL(t,e,n,r,s,o,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Un(e),e.z=e.z||Pt[14],e.v=Pn(Cn(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r:n,c:r};switch(d.s=Zi(s.cellXfs,e,s),e.l&&o["!links"].push([mt(d),e.l]),e.c&&o["!comments"].push([mt(d),e.c]),e.t){case"s":case"str":return s.bookSST?(c=op(s.Strings,e.v,s.revStrings),d.t="s",d.v=c,l?ye(t,18,nL(e,d)):ye(t,7,eL(e,d))):(d.t="str",l?ye(t,17,mL(e,d)):ye(t,6,dL(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?ye(t,13,cL(e,d)):ye(t,2,lL(e,d)):l?ye(t,16,aL(e,d)):ye(t,5,iL(e,d)),!0;case"b":return d.t="b",l?ye(t,15,Yk(e,d)):ye(t,4,Jk(e,d)),!0;case"e":return d.t="e",l?ye(t,14,Qk(e,d)):ye(t,3,Xk(e,d)),!0}return l?ye(t,12,zk(e,d)):ye(t,1,Vk(e,d)),!0}function FL(t,e,n,r){var s=Rt(e["!ref"]||"A1"),o,l="",c=[];ye(t,145);var d=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var m=s.s.r;m<=f;++m){l=dn(m),Lk(t,e,s,m);var _=!1;if(m<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){m===s.s.r&&(c[y]=yn(y)),o=c[y]+l;var T=d?(e[m]||[])[y]:e[o];if(!T){_=!1;continue}_=UL(t,T,m,y,r,e,_)}}ye(t,146)}function BL(t,e){!e||!e["!merges"]||(ye(t,177,EL(e["!merges"].length)),e["!merges"].forEach(function(n){ye(t,176,TL(n))}),ye(t,178))}function GL(t,e){!e||!e["!cols"]||(ye(t,390),e["!cols"].forEach(function(n,r){n&&ye(t,60,bL(r,n))}),ye(t,391))}function HL(t,e){!e||!e["!ref"]||(ye(t,648),ye(t,649,OL(Rt(e["!ref"]))),ye(t,650))}function VL(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=dt(n,-1,r[1].Target.replace(/#.*$/,""),at.HLINK);ye(t,494,wL(r,s))}}),delete e["!links"]}function qL(t,e,n,r){if(e["!comments"].length>0){var s=dt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",at.VML);ye(t,551,tp("rId"+s)),e["!legacy"]=s}}function zL(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],o=typeof s.ref=="string"?s.ref:$t(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Zn(o);c.s.r==c.e.r&&(c.e.r=Zn(e["!ref"]).e.r,o=$t(c));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),ye(t,161,no(Rt(o))),ye(t,162)}}function $L(t,e,n){ye(t,133),ye(t,137,ML(e,n)),ye(t,138),ye(t,134)}function JL(t,e){e["!protect"]&&ye(t,535,kL(e["!protect"]))}function KL(t,e,n,r){var s=Ln(),o=n.SheetNames[t],l=n.Sheets[o]||{},c=o;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var d=Rt(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ye(s,129),(n.vbaraw||l["!outline"])&&ye(s,147,Gk(c,l["!outline"])),ye(s,148,Uk(d)),$L(s,l,n.Workbook),GL(s,l),FL(s,l,t,e),JL(s,l),zL(s,l,n,t),BL(s,l),VL(s,l,r),l["!margins"]&&ye(s,476,IL(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&HL(s,l),qL(s,l,t,r),ye(s,130),s.end()}function YL(t,e){t.l+=10;var n=_n(t);return{name:n}}var WL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function XL(t){return!t.Workbook||!t.Workbook.WBProps?"false":RD(t.Workbook.WBProps.date1904)?"true":"false"}var jL="][*?/\\".split("");function mE(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return jL.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function QL(t,e,n){t.forEach(function(r,s){mE(r);for(var o=0;o<s;++o)if(r==t[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var l=e&&e[s]&&e[s].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function ZL(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];QL(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)Tk(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function gE(t){var e=[Jt];e[e.length]=Ae("workbook",null,{xmlns:eo[0],"xmlns:r":Qt.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(WL.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ae("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:pt(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Ae("sheet",null,l)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=Ae("definedName",pt(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function eP(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=g0(t),n.name=_n(t),n}function tP(t,e){return e||(e=fe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),tp(t.strRelID,e),en(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function nP(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?_n(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function rP(t,e){e||(e=fe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),bT(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function iP(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),o=XD(t),l=mk(t,0,n),c=ep(t);t.l=r;var d={Name:o,Ptg:l};return s<268435455&&(d.Sheet=s),c&&(d.Comment=c),d}function sP(t,e){ye(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};ye(t,156,tP(s))}ye(t,144)}function aP(t,e){e||(e=fe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return en("SheetJS",e),en(kc.version,e),en(kc.version,e),en("7262",e),e.length>e.l?e.slice(0,e.l):e}function oP(t,e){e||(e=fe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function lP(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&o==-1&&(o=r);o>s||(ye(t,135),ye(t,158,oP(s)),ye(t,136))}}function uP(t,e){var n=Ln();return ye(n,131),ye(n,128,aP()),ye(n,153,rP(t.Workbook&&t.Workbook.WBProps||null)),lP(n,t),sP(n,t),ye(n,132),n.end()}function cP(t,e,n){return(e.slice(-4)===".bin"?uP:gE)(t)}function fP(t,e,n,r,s){return(e.slice(-4)===".bin"?KL:dE)(t,n,r,s)}function hP(t,e,n){return(e.slice(-4)===".bin"?IO:QT)(t,n)}function dP(t,e,n){return(e.slice(-4)===".bin"?rO:YT)(t,n)}function pP(t,e,n){return(e.slice(-4)===".bin"?JO:rE)(t)}function mP(t){return(t.slice(-4)===".bin"?FO:tE)()}function gP(t,e){var n=[];return t.Props&&n.push(hM(t.Props,e)),t.Custprops&&n.push(dM(t.Props,t.Custprops)),n.join("")}function vP(){return""}function yP(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var o=[];o.push(Ae("NumberFormat",null,{"ss:Format":pt(Pt[r.numFmtId])}));var l={"ss:ID":"s"+(21+s)};n.push(Ae("Style",o.join(""),l))}),Ae("Styles",n.join(""))}function vE(t){return Ae("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+sp(t.Ref,{r:0,c:0})})}function _P(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(vE(s)))}return Ae("Names",n.join(""))}function xP(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,o=[],l=0;l<s.length;++l){var c=s[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||o.push(vE(c)))}return o.join("")}function TP(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ae("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ae("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ae("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Ae("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(hn("ProtectContents","True")),t["!protect"].objects&&s.push(hn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(hn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(hn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(hn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":Ae("WorksheetOptions",s.join(""),{xmlns:Xn.x})}function EP(t){return t.map(function(e){var n=CD(e.t||""),r=Ae("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ae("Comment",r,{"ss:Author":e.a})}).join("")}function SP(t,e,n,r,s,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+pt(sp(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=Zt(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=pt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=pt(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],m=0;m!=f.length;++m)f[m].s.c!=l.c||f[m].s.r!=l.r||(f[m].e.c>f[m].s.c&&(c["ss:MergeAcross"]=f[m].e.c-f[m].s.c),f[m].e.r>f[m].s.r&&(c["ss:MergeDown"]=f[m].e.r-f[m].s.r));var _="",y="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":_="Number",y=String(t.v);break;case"b":_="Boolean",y=t.v?"1":"0";break;case"e":_="Error",y=kl[t.v];break;case"d":_="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Pt[14]);break;case"s":_="String",y=AD(t.v||"");break}var T=Zi(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+T),c["ss:Index"]=l.c+1;var S=t.v!=null?y:"",E=t.t=="z"?"":'<Data ss:Type="'+_+'">'+S+"</Data>";return(t.c||[]).length>0&&(E+=EP(t.c)),Ae("Cell",E,c)}function wP(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=jT(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function AP(t,e,n,r){if(!t["!ref"])return"";var s=Rt(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(A,I){rp(A);var k=!!A.width,b=hf(I,A),B={"ss:Index":I+1};k&&(B["ss:Width"]=zc(b.width)),A.hidden&&(B["ss:Hidden"]="1"),c.push(Ae("Column",null,B))});for(var d=Array.isArray(t),f=s.s.r;f<=s.e.r;++f){for(var m=[wP(f,(t["!rows"]||[])[f])],_=s.s.c;_<=s.e.c;++_){var y=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>_)&&!(o[l].s.r>f)&&!(o[l].e.c<_)&&!(o[l].e.r<f)){(o[l].s.c!=_||o[l].s.r!=f)&&(y=!0);break}if(!y){var T={r:f,c:_},S=mt(T),E=d?(t[f]||[])[_]:t[S];m.push(SP(E,S,t,e,n,r,T))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function CP(t,e,n){var r=[],s=n.SheetNames[t],o=n.Sheets[s],l=o?xP(o,e,t,n):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=o?AP(o,e,t,n):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(TP(o,e,t,n)),r.join("")}function RP(t,e){e||(e={}),t.SSF||(t.SSF=Un(Pt)),t.SSF&&(of(),af(t.SSF),e.revssf=lf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(gP(t,e)),n.push(vP()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Ae("Worksheet",CP(r,e,t),{"ss:Name":pt(t.SheetNames[r])}));return n[2]=yP(t,e),n[3]=_P(t),Jt+Ae("Workbook",n.join(""),{xmlns:Xn.ss,"xmlns:o":Xn.o,"xmlns:x":Xn.x,"xmlns:ss":Xn.ss,"xmlns:dt":Xn.dt,"xmlns:html":Xn.html})}var Vd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bP(t,e){var n=[],r=[],s=[],o=0,l,c=Q_(f1,"n"),d=Q_(h1,"n");if(t.Props)for(l=pn(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:s).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=pn(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:s).push([l[o],t.Custprops[l[o]]]);var f=[];for(o=0;o<s.length;++o)HT.indexOf(s[o][0])>-1||FT.indexOf(s[o][0])>-1||s[o][1]!=null&&f.push(s[o]);r.length&&_t.utils.cfb_add(e,"/SummaryInformation",v1(r,Vd.SI,d,h1)),(n.length||f.length)&&_t.utils.cfb_add(e,"/DocumentSummaryInformation",v1(n,Vd.DSI,c,f1,f.length?f:null,Vd.UDI))}function NP(t,e){var n=e||{},r=_t.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return _t.utils.cfb_add(r,s,yE(t,n)),n.biff==8&&(t.Props||t.Custprops)&&bP(t,r),n.biff==8&&t.vbaraw&&KO(r,_t.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var IP={0:{f:Ok},1:{f:Hk},2:{f:oL},3:{f:Wk},4:{f:$k},5:{f:rL},6:{f:hL},7:{f:Zk},8:{f:_L},9:{f:yL},10:{f:gL},11:{f:vL},12:{f:qk},13:{f:uL},14:{f:jk},15:{f:Kk},16:{f:sL},17:{f:pL},18:{f:tL},19:{f:Z0},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:iP},40:{},42:{},43:{f:hO},44:{f:cO},45:{f:mO},46:{f:vO},47:{f:gO},48:{},49:{f:qD},50:{},51:{f:OO},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zM},62:{f:fL},63:{f:BO},64:{f:LL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:DL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Bk},148:{f:Pk,p:16},151:{f:AL},152:{},153:{f:nP},154:{},155:{},156:{f:eP},157:{},158:{},159:{T:1,f:eO},160:{T:-1},161:{T:1,f:Fs},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DO},336:{T:-1},337:{f:PO,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:g0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CL},427:{f:RL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Fk},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:SL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:g0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zO},633:{T:1},634:{T:-1},635:{T:1,f:VO},636:{T:-1},637:{f:KD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:YL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:PL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ce(t,e,n,r){var s=e;if(!isNaN(s)){var o=r||(n||[]).length||0,l=t.next(4);l.write_shift(2,s),l.write_shift(2,o),o>0&&X0(n)&&t.push(n)}}function DP(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return Ce(t,e,n,s);var o=e;if(!isNaN(o)){for(var l=n.parts||[],c=0,d=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var m=t.next(4);for(m.write_shift(2,o),m.write_shift(2,f),t.push(n.slice(d,d+f)),d+=f;d<s;){for(m=t.next(4),m.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;m.write_shift(2,f),t.push(n.slice(d,d+f)),d+=f}}}function Pl(t,e,n){return t||(t=fe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function MP(t,e,n,r){var s=fe(9);return Pl(s,t,e),qT(n,r||"b",s),s}function OP(t,e,n){var r=fe(8+2*n.length);return Pl(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kP(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Pn(Cn(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Ce(t,2,YM(n,r,s)):Ce(t,3,KM(n,r,s));return;case"b":case"e":Ce(t,5,MP(n,r,e.v,e.t));return;case"s":case"str":Ce(t,4,OP(n,r,(e.v||"").slice(0,255)));return}Ce(t,1,Pl(null,n,r))}function LP(t,e,n,r){var s=Array.isArray(e),o=Rt(e["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=$t(o)}for(var f=o.s.r;f<=o.e.r;++f){c=dn(f);for(var m=o.s.c;m<=o.e.c;++m){f===o.s.r&&(d[m]=yn(m)),l=d[m]+c;var _=s?(e[f]||[])[m]:e[l];_&&kP(t,_,f,m)}}}function PP(t,e){for(var n=e||{},r=Ln(),s=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(s=o);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ce(r,n.biff==4?1033:n.biff==3?521:9,np(t,16,n)),LP(r,t.Sheets[t.SheetNames[s]],s,n),Ce(r,10),r.end()}function UP(t,e,n){Ce(t,49,IM({sz:12,name:"Arial"},n))}function FP(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Ce(t,1054,OM(s,e[s],n))})}function BP(t,e){var n=fe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ce(t,2151,n),n=fe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),JT(Rt(e["!ref"]||"A1"),n),n.write_shift(4,4),Ce(t,2152,n)}function GP(t,e){for(var n=0;n<16;++n)Ce(t,224,_1({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ce(t,224,_1(r,0,e))})}function HP(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ce(t,440,HM(r)),r[1].Tooltip&&Ce(t,2048,VM(r))}delete e["!links"]}function VP(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&Ce(t,125,$M(hf(s,r),s))})}}function qP(t,e,n,r,s){var o=16+Zi(s.cellXfs,e,s);if(e.v==null&&!e.bf){Ce(t,513,Ds(n,r,o));return}if(e.bf)Ce(t,6,dk(e,n,r,s,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?Pn(Cn(e.v)):e.v;Ce(t,515,UM(n,r,l,o));break;case"b":case"e":Ce(t,517,PM(n,r,e.v,o,s,e.t));break;case"s":case"str":if(s.bookSST){var c=op(s.Strings,e.v,s.revStrings);Ce(t,253,DM(n,r,c,o))}else Ce(t,516,MM(n,r,(e.v||"").slice(0,255),o,s));break;default:Ce(t,513,Ds(n,r,o))}}function zP(t,e,n){var r=Ln(),s=n.SheetNames[t],o=n.Sheets[s]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),f=e.biff==8,m,_="",y=[],T=Rt(o["!ref"]||"A1"),S=f?65536:16384;if(T.e.c>255||T.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,S-1)}Ce(r,2057,np(n,16,e)),Ce(r,13,pr(1)),Ce(r,12,pr(100)),Ce(r,15,An(!0)),Ce(r,17,An(!1)),Ce(r,16,Is(.001)),Ce(r,95,An(!0)),Ce(r,42,An(!1)),Ce(r,43,An(!1)),Ce(r,130,pr(1)),Ce(r,128,LM()),Ce(r,131,An(!1)),Ce(r,132,An(!1)),f&&VP(r,o["!cols"]),Ce(r,512,kM(T,e)),f&&(o["!links"]=[]);for(var E=T.s.r;E<=T.e.r;++E){_=dn(E);for(var A=T.s.c;A<=T.e.c;++A){E===T.s.r&&(y[A]=yn(A)),m=y[A]+_;var I=d?(o[E]||[])[A]:o[m];I&&(qP(r,I,E,A,e),f&&I.l&&o["!links"].push([m,I.l]))}}var k=c.CodeName||c.name||s;return f&&Ce(r,574,NM((l.Views||[])[0])),f&&(o["!merges"]||[]).length&&Ce(r,229,GM(o["!merges"])),f&&HP(r,o),Ce(r,442,$T(k)),f&&BP(r,o),Ce(r,10),r.end()}function $P(t,e,n){var r=Ln(),s=(t||{}).Workbook||{},o=s.Sheets||[],l=s.WBProps||{},c=n.biff==8,d=n.biff==5;if(Ce(r,2057,np(t,5,n)),n.bookType=="xla"&&Ce(r,135),Ce(r,225,c?pr(1200):null),Ce(r,193,gM(2)),d&&Ce(r,191),d&&Ce(r,192),Ce(r,226),Ce(r,92,AM("SheetJS",n)),Ce(r,66,pr(c?1200:1252)),c&&Ce(r,353,pr(0)),c&&Ce(r,448),Ce(r,317,JM(t.SheetNames.length)),c&&t.vbaraw&&Ce(r,211),c&&t.vbaraw){var f=l.CodeName||"ThisWorkbook";Ce(r,442,$T(f))}Ce(r,156,pr(17)),Ce(r,25,An(!1)),Ce(r,18,An(!1)),Ce(r,19,pr(0)),c&&Ce(r,431,An(!1)),c&&Ce(r,444,pr(0)),Ce(r,61,bM()),Ce(r,64,An(!1)),Ce(r,141,pr(0)),Ce(r,34,An(XL(t)=="true")),Ce(r,14,An(!0)),c&&Ce(r,439,An(!1)),Ce(r,218,pr(0)),UP(r,t,n),FP(r,t.SSF,n),GP(r,n),c&&Ce(r,352,An(!1));var m=r.end(),_=Ln();c&&Ce(_,140,qM()),c&&n.Strings&&DP(_,252,RM(n.Strings)),Ce(_,10);var y=_.end(),T=Ln(),S=0,E=0;for(E=0;E<t.SheetNames.length;++E)S+=(c?12:11)+(c?2:1)*t.SheetNames[E].length;var A=m.length+S+y.length;for(E=0;E<t.SheetNames.length;++E){var I=o[E]||{};Ce(T,133,CM({pos:A,hs:I.Hidden||0,dt:0,name:t.SheetNames[E]},n)),A+=e[E].length}var k=T.end();if(S!=k.length)throw new Error("BS8 "+S+" != "+k.length);var b=[];return m.length&&b.push(m),k.length&&b.push(k),y.length&&b.push(y),fn(b)}function JP(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Un(Pt)),t&&t.SSF&&(of(),af(t.SSF),n.revssf=lf(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,lp(n),n.cellXfs=[],Zi(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=zP(s,n,t);return r.unshift($P(t,r,n)),fn(r)}function yE(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Zn(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return JP(t,e);case 4:case 3:case 2:return PP(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function KP(t,e,n,r){for(var s=t["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,d=0,f=0;f<s.length;++f)if(!(s[f].s.r>n||s[f].s.c>l)&&!(s[f].e.r<n||s[f].e.c<l)){if(s[f].s.r<n||s[f].s.c<l){c=-1;break}c=s[f].e.r-s[f].s.r+1,d=s[f].e.c-s[f].s.c+1;break}if(!(c<0)){var m=mt({r:n,c:l}),_=r.dense?(t[n]||[])[l]:t[m],y=_&&_.v!=null&&(_.h||wD(_.w||(di(_),_.w)||""))||"",T={};c>1&&(T.rowspan=c),d>1&&(T.colspan=d),r.editable?y='<span contenteditable="true">'+y+"</span>":_&&(T["data-t"]=_&&_.t||"z",_.v!=null&&(T["data-v"]=_.v),_.z!=null&&(T["data-z"]=_.z),_.l&&(_.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+_.l.Target+'">'+y+"</a>")),T.id=(r.id||"sjs")+"-"+m,o.push(Ae("td",y,T))}}var S="<tr>";return S+o.join("")+"</tr>"}var YP='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',WP="</body></html>";function XP(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function _E(t,e){var n=e||{},r=n.header!=null?n.header:YP,s=n.footer!=null?n.footer:WP,o=[r],l=Zn(t["!ref"]);n.dense=Array.isArray(t),o.push(XP(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)o.push(KP(t,l,c,n));return o.push("</table>"+s),o.join("")}function xE(t,e,n){var r=n||{},s=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Zt(r.origin):r.origin;s=l.r,o=l.c}var c=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:s,c:o}};if(t["!ref"]){var m=Zn(t["!ref"]);f.s.r=Math.min(f.s.r,m.s.r),f.s.c=Math.min(f.s.c,m.s.c),f.e.r=Math.max(f.e.r,m.e.r),f.e.c=Math.max(f.e.c,m.e.c),s==-1&&(f.e.r=s=m.e.r+1)}var _=[],y=0,T=t["!rows"]||(t["!rows"]=[]),S=0,E=0,A=0,I=0,k=0,b=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&E<d;++S){var B=c[S];if(C1(B)){if(r.display)continue;T[E]={hidden:!0}}var J=B.children;for(A=I=0;A<J.length;++A){var W=J[A];if(!(r.display&&C1(W))){var P=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):bD(W.innerHTML),Q=W.getAttribute("data-z")||W.getAttribute("z");for(y=0;y<_.length;++y){var K=_[y];K.s.c==I+o&&K.s.r<E+s&&E+s<=K.e.r&&(I=K.e.c+1-o,y=-1)}b=+W.getAttribute("colspan")||1,((k=+W.getAttribute("rowspan")||1)>1||b>1)&&_.push({s:{r:E+s,c:I+o},e:{r:E+s+(k||1)-1,c:I+o+(b||1)-1}});var ae={t:"s",v:P},ce=W.getAttribute("data-t")||W.getAttribute("t")||"";P!=null&&(P.length==0?ae.t=ce||"z":r.raw||P.trim().length==0||ce=="s"||(P==="TRUE"?ae={t:"b",v:!0}:P==="FALSE"?ae={t:"b",v:!1}:isNaN(ui(P))?isNaN(_l(P).getDate())||(ae={t:"d",v:Cn(P)},r.cellDates||(ae={t:"n",v:Pn(ae.v)}),ae.z=r.dateNF||Pt[14]):ae={t:"n",v:ui(P)})),ae.z===void 0&&Q!=null&&(ae.z=Q);var me="",xe=W.getElementsByTagName("A");if(xe&&xe.length)for(var Be=0;Be<xe.length&&!(xe[Be].hasAttribute("href")&&(me=xe[Be].getAttribute("href"),me.charAt(0)!="#"));++Be);me&&me.charAt(0)!="#"&&(ae.l={Target:me}),r.dense?(t[E+s]||(t[E+s]=[]),t[E+s][I+o]=ae):t[mt({c:I+o,r:E+s})]=ae,f.e.c<I+o&&(f.e.c=I+o),I+=b}}++E}return _.length&&(t["!merges"]=(t["!merges"]||[]).concat(_)),f.e.r=Math.max(f.e.r,E-1+s),t["!ref"]=$t(f),E>=d&&(t["!fullref"]=$t((f.e.r=c.length-S+E-1+s,f))),t}function TE(t,e){var n=e||{},r=n.dense?[]:{};return xE(r,t,e)}function jP(t,e){return ks(TE(t,e),e)}function C1(t){var e="",n=QP(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function QP(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ZP=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Tl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Jt+e}})(),R1=(function(){var t=function(o){return pt(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(o,l,c){var d=[];d.push('      <table:table table:name="'+pt(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,m=0,_=Zn(o["!ref"]||"A1"),y=o["!merges"]||[],T=0,S=Array.isArray(o);if(o["!cols"])for(m=0;m<=_.e.c;++m)d.push("        <table:table-column"+(o["!cols"][m]?' table:style-name="co'+o["!cols"][m].ods+'"':"")+`></table:table-column>
`);var E="",A=o["!rows"]||[];for(f=0;f<_.s.r;++f)E=A[f]?' table:style-name="ro'+A[f].ods+'"':"",d.push("        <table:table-row"+E+`></table:table-row>
`);for(;f<=_.e.r;++f){for(E=A[f]?' table:style-name="ro'+A[f].ods+'"':"",d.push("        <table:table-row"+E+`>
`),m=0;m<_.s.c;++m)d.push(e);for(;m<=_.e.c;++m){var I=!1,k={},b="";for(T=0;T!=y.length;++T)if(!(y[T].s.c>m)&&!(y[T].s.r>f)&&!(y[T].e.c<m)&&!(y[T].e.r<f)){(y[T].s.c!=m||y[T].s.r!=f)&&(I=!0),k["table:number-columns-spanned"]=y[T].e.c-y[T].s.c+1,k["table:number-rows-spanned"]=y[T].e.r-y[T].s.r+1;break}if(I){d.push(n);continue}var B=mt({r:f,c:m}),J=S?(o[f]||[])[m]:o[B];if(J&&J.f&&(k["table:formula"]=pt(_k(J.f)),J.F&&J.F.slice(0,B.length)==B)){var W=Zn(J.F);k["table:number-matrix-columns-spanned"]=W.e.c-W.s.c+1,k["table:number-matrix-rows-spanned"]=W.e.r-W.s.r+1}if(!J){d.push(e);continue}switch(J.t){case"b":b=J.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=J.v?"true":"false";break;case"n":b=J.w||String(J.v||0),k["office:value-type"]="float",k["office:value"]=J.v||0;break;case"s":case"str":b=J.v==null?"":J.v,k["office:value-type"]="string";break;case"d":b=J.w||Cn(J.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Cn(J.v).toISOString(),k["table:style-name"]="ce1";break;default:d.push(e);continue}var P=t(b);if(J.l&&J.l.Target){var Q=J.l.Target;Q=Q.charAt(0)=="#"?"#"+xk(Q.slice(1)):Q,Q.charAt(0)!="#"&&!Q.match(/^\w+:/)&&(Q="../"+Q),P=Ae("text:a",P,{"xlink:href":Q.replace(/&/g,"&amp;")})}d.push("          "+Ae("table:table-cell",Ae("text:p",P,{}),k)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var m=0;m<f["!cols"].length;++m)if(f["!cols"][m]){var _=f["!cols"][m];if(_.width==null&&_.wpx==null&&_.wch==null)continue;rp(_),_.ods=c;var y=f["!cols"][m].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var m=0;m<f["!rows"].length;++m)if(f["!rows"][m]){f["!rows"][m].ods=d;var _=f["!rows"][m].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+_+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[Jt],f=Tl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Tl({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+m+`>
`),d.push(PT().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),s(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var _=0;_!=l.SheetNames.length;++_)d.push(r(l.Sheets[l.SheetNames[_]],l,_));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function EE(t,e){if(e.bookType=="fods")return R1(t,e);var n=J0(),r="",s=[],o=[];return r="mimetype",We(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",We(n,r,R1(t,e)),s.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",We(n,r,ZP(t,e)),s.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",We(n,r,Jt+PT()),s.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",We(n,r,fM(o)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",We(n,r,uM(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):br(xl(t))}function tU(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ji(t){var e=t.reduce(function(s,o){return s+o.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function nU(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var o=0;s>=1;++o,s/=256)t[e+o]=s&255;t[e+15]|=n>=0?0:128}function El(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function ht(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Ya(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Wt(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=El(t,n),o=s&7;s=Math.floor(s/8);var l=0,c;if(s==0)break;switch(o){case 0:{for(var d=n[0];t[n[0]++]>=128;);c=t.slice(d,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=El(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(r))}var f={data:c,type:o};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function ln(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(ht(r*8+s.type)),s.type==2&&e.push(ht(s.data.length)),e.push(s.data))})}),ji(e)}function Sr(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=El(t,r),o=Wt(t.slice(r[0],r[0]+s));r[0]+=s;var l={id:Ya(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=Wt(c.data),f=Ya(d[3][0].data);l.messages.push({meta:d,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=o[3])!=null&&e[0]&&(l.merge=Ya(o[3][0].data)>>>0>0),n.push(l)}return n}function Ca(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:ht(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:ht(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:ht(l.data.length)}],r[2].push({data:ln(l.meta),type:2})});var o=ln(r);e.push(ht(o.length)),e.push(o),s.forEach(function(l){return e.push(l)})}),ji(e)}function rU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=El(e,n),s=[];n[0]<e.length;){var o=e[n[0]]&3;if(o==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}s.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,f=0;if(o==1?(f=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,o==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[ji(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(s.push(s[0].slice(-d)),f-=d;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-d,-d+f))}}var m=ji(s);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function wr(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(rU(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ji(e)}function Ra(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var o=ht(r),l=o.length;e.push(o),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),l+=r,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,n+=r}return ji(e)}function qd(t,e){var n=new Uint8Array(32),r=Kc(n),s=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,nU(n,s,t.v),o|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),o|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,o,!0),n.slice(0,s)}function zd(t,e){var n=new Uint8Array(32),r=Kc(n),s=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),o|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),o|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,o,!0),n.slice(0,s)}function qi(t){var e=Wt(t);return El(e[1][0].data)}function iU(t,e,n){var r,s,o,l;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Ya(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=Kc(t[7][0].data),m=0,_=[],y=Kc(t[4][0].data),T=0,S=[],E=0;E<e.length;++E){if(e[E]==null){f.setUint16(E*2,65535,!0),y.setUint16(E*2,65535);continue}f.setUint16(E*2,m,!0),y.setUint16(E*2,T,!0);var A,I;switch(typeof e[E]){case"string":A=qd({t:"s",v:e[E]},n),I=zd({t:"s",v:e[E]},n);break;case"number":A=qd({t:"n",v:e[E]},n),I=zd({t:"n",v:e[E]},n);break;case"boolean":A=qd({t:"b",v:e[E]},n),I=zd({t:"b",v:e[E]},n);break;default:throw new Error("Unsupported value "+e[E])}_.push(A),m+=A.length,S.push(I),T+=I.length,++d}for(t[2][0].data=ht(d);E<t[7][0].data.length/2;++E)f.setUint16(E*2,65535,!0),y.setUint16(E*2,65535,!0);return t[6][0].data=ji(_),t[3][0].data=ji(S),d}function sU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Zn(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat($t(r)));var o=Yc(n,{range:r,header:1}),l=["~Sh33tJ5~"];o.forEach(function(q){return q.forEach(function(G){typeof G=="string"&&l.push(G)})});var c={},d=[],f=_t.read(e.numbers,{type:"base64"});f.FileIndex.map(function(q,G){return[q,f.FullPaths[G]]}).forEach(function(q){var G=q[0],z=q[1];if(G.type==2&&G.name.match(/\.iwa/)){var oe=G.content,Ee=wr(oe),Oe=Sr(Ee);Oe.forEach(function(Re){d.push(Re.id),c[Re.id]={deps:[],location:z,type:Ya(Re.messages[0].meta[1][0].data)}})}}),d.sort(function(q,G){return q-G});var m=d.filter(function(q){return q>1}).map(function(q){return[q,ht(q)]});f.FileIndex.map(function(q,G){return[q,f.FullPaths[G]]}).forEach(function(q){var G=q[0];if(q[1],!!G.name.match(/\.iwa/)){var z=Sr(wr(G.content));z.forEach(function(oe){oe.messages.forEach(function(Ee){m.forEach(function(Oe){oe.messages.some(function(Re){return Ya(Re.meta[1][0].data)!=11006&&tU(Re.data,Oe[1])})&&c[Oe[0]].deps.push(oe.id)})})})}});for(var _=_t.find(f,c[1].location),y=Sr(wr(_.content)),T,S=0;S<y.length;++S){var E=y[S];E.id==1&&(T=E)}var A=qi(Wt(T.messages[0].data)[1][0].data);for(_=_t.find(f,c[A].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==A&&(T=E);for(A=qi(Wt(T.messages[0].data)[2][0].data),_=_t.find(f,c[A].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==A&&(T=E);for(A=qi(Wt(T.messages[0].data)[2][0].data),_=_t.find(f,c[A].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==A&&(T=E);var I=Wt(T.messages[0].data);{I[6][0].data=ht(r.e.r+1),I[7][0].data=ht(r.e.c+1);var k=qi(I[46][0].data),b=_t.find(f,c[k].location),B=Sr(wr(b.content));{for(var J=0;J<B.length&&B[J].id!=k;++J);if(B[J].id!=k)throw"Bad ColumnRowUIDMapArchive";var W=Wt(B[J].messages[0].data);W[1]=[],W[2]=[],W[3]=[];for(var P=0;P<=r.e.c;++P){var Q=[];Q[1]=Q[2]=[{type:0,data:ht(P+420690)}],W[1].push({type:2,data:ln(Q)}),W[2].push({type:0,data:ht(P)}),W[3].push({type:0,data:ht(P)})}W[4]=[],W[5]=[],W[6]=[];for(var K=0;K<=r.e.r;++K)Q=[],Q[1]=Q[2]=[{type:0,data:ht(K+726270)}],W[4].push({type:2,data:ln(Q)}),W[5].push({type:0,data:ht(K)}),W[6].push({type:0,data:ht(K)});B[J].messages[0].data=ln(W)}b.content=Ra(Ca(B)),b.size=b.content.length,delete I[46];var ae=Wt(I[4][0].data);{ae[7][0].data=ht(r.e.r+1);var ce=Wt(ae[1][0].data),me=qi(ce[2][0].data);b=_t.find(f,c[me].location),B=Sr(wr(b.content));{if(B[0].id!=me)throw"Bad HeaderStorageBucket";var xe=Wt(B[0].messages[0].data);for(K=0;K<o.length;++K){var Be=Wt(xe[2][0].data);Be[1][0].data=ht(K),Be[4][0].data=ht(o[K].length),xe[2][K]={type:xe[2][0].type,data:ln(Be)}}B[0].messages[0].data=ln(xe)}b.content=Ra(Ca(B)),b.size=b.content.length;var he=qi(ae[2][0].data);b=_t.find(f,c[he].location),B=Sr(wr(b.content));{if(B[0].id!=he)throw"Bad HeaderStorageBucket";for(xe=Wt(B[0].messages[0].data),P=0;P<=r.e.c;++P)Be=Wt(xe[2][0].data),Be[1][0].data=ht(P),Be[4][0].data=ht(r.e.r+1),xe[2][P]={type:xe[2][0].type,data:ln(Be)};B[0].messages[0].data=ln(xe)}b.content=Ra(Ca(B)),b.size=b.content.length;var Y=qi(ae[4][0].data);(function(){for(var q=_t.find(f,c[Y].location),G=Sr(wr(q.content)),z,oe=0;oe<G.length;++oe){var Ee=G[oe];Ee.id==Y&&(z=Ee)}var Oe=Wt(z.messages[0].data);{Oe[3]=[];var Re=[];l.forEach(function(je,Xt){Re[1]=[{type:0,data:ht(Xt)}],Re[2]=[{type:0,data:ht(1)}],Re[3]=[{type:2,data:eU(je)}],Oe[3].push({type:2,data:ln(Re)})})}z.messages[0].data=ln(Oe);var Ne=Ca(G),rt=Ra(Ne);q.content=rt,q.size=q.content.length})();var ue=Wt(ae[3][0].data);{var Se=ue[1][0];delete ue[2];var be=Wt(Se.data);{var He=qi(be[2][0].data);(function(){for(var q=_t.find(f,c[He].location),G=Sr(wr(q.content)),z,oe=0;oe<G.length;++oe){var Ee=G[oe];Ee.id==He&&(z=Ee)}var Oe=Wt(z.messages[0].data);{delete Oe[6],delete ue[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ne=0,rt=0;rt<=r.e.r;++rt){var je=Wt(Re);Ne+=iU(je,o[rt],l),je[1][0].data=ht(rt),Oe[5].push({data:ln(je),type:2})}Oe[1]=[{type:0,data:ht(r.e.c+1)}],Oe[2]=[{type:0,data:ht(r.e.r+1)}],Oe[3]=[{type:0,data:ht(Ne)}],Oe[4]=[{type:0,data:ht(r.e.r+1)}]}z.messages[0].data=ln(Oe);var Xt=Ca(G),Xe=Ra(Xt);q.content=Xe,q.size=q.content.length})()}Se.data=ln(be)}ae[3][0].data=ln(ue)}I[4][0].data=ln(ae)}T.messages[0].data=ln(I);var V=Ca(y),N=Ra(V);return _.content=N,_.size=_.content.length,f}function aU(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function lp(t){aU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function oU(t,e){return e.bookType=="ods"?EE(t,e):e.bookType=="numbers"?sU(t,e):e.bookType=="xlsb"?lU(t,e):uU(t,e)}function lU(t,e){Ha=1024,t&&!t.SSF&&(t.SSF=Un(Pt)),t&&t.SSF&&(of(),af(t.SSF),e.revssf=lf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=iE.indexOf(e.bookType)>-1,s=OT();lp(e=e||{});var o=J0(),l="",c=0;if(e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",We(o,l,UT(t.Props,e)),s.coreprops.push(l),dt(e.rels,2,l,at.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,We(o,l,BT(t.Props)),s.extprops.push(l),dt(e.rels,3,l,at.EXT_PROPS),t.Custprops!==t.Props&&pn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",We(o,l,GT(t.Custprops)),s.custprops.push(l),dt(e.rels,4,l,at.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},_=t.Sheets[t.SheetNames[c-1]],y=(_||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,We(o,l,fP(c-1,l,e,t,m)),s.sheets.push(l),dt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,at.WS[0])}if(_){var T=_["!comments"],S=!1,E="";T&&T.length>0&&(E="xl/comments"+c+"."+n,We(o,E,pP(T,E)),s.comments.push(E),dt(m,-1,"../comments"+c+"."+n,at.CMNT),S=!0),_["!legacy"]&&S&&We(o,"xl/drawings/vmlDrawing"+c+".vml",nE(c,_["!comments"])),delete _["!comments"],delete _["!legacy"]}m["!id"].rId1&&We(o,LT(l),Ja(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,We(o,l,dP(e.Strings,l,e)),s.strs.push(l),dt(e.wbrels,-1,"sharedStrings."+n,at.SST)),l="xl/workbook."+n,We(o,l,cP(t,l)),s.workbooks.push(l),dt(e.rels,1,l,at.WB),l="xl/theme/theme1.xml",We(o,l,eE(t.Themes,e)),s.themes.push(l),dt(e.wbrels,-1,"theme/theme1.xml",at.THEME),l="xl/styles."+n,We(o,l,hP(t,l,e)),s.styles.push(l),dt(e.wbrels,-1,"styles."+n,at.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",We(o,l,t.vbaraw),s.vba.push(l),dt(e.wbrels,-1,"vbaProject.bin",at.VBA)),l="xl/metadata."+n,We(o,l,mP(l)),s.metadata.push(l),dt(e.wbrels,-1,"metadata."+n,at.XLMETA),We(o,"[Content_Types].xml",kT(s,e)),We(o,"_rels/.rels",Ja(e.rels)),We(o,"xl/_rels/workbook."+n+".rels",Ja(e.wbrels)),delete e.revssf,delete e.ssf,o}function uU(t,e){Ha=1024,t&&!t.SSF&&(t.SSF=Un(Pt)),t&&t.SSF&&(of(),af(t.SSF),e.revssf=lf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=iE.indexOf(e.bookType)>-1,s=OT();lp(e=e||{});var o=J0(),l="",c=0;if(e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",We(o,l,UT(t.Props,e)),s.coreprops.push(l),dt(e.rels,2,l,at.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,We(o,l,BT(t.Props)),s.extprops.push(l),dt(e.rels,3,l,at.EXT_PROPS),t.Custprops!==t.Props&&pn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",We(o,l,GT(t.Custprops)),s.custprops.push(l),dt(e.rels,4,l,at.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var _={"!id":{}},y=t.Sheets[t.SheetNames[c-1]],T=(y||{})["!type"]||"sheet";switch(T){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,We(o,l,dE(c-1,e,t,_)),s.sheets.push(l),dt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,at.WS[0])}if(y){var S=y["!comments"],E=!1,A="";if(S&&S.length>0){var I=!1;S.forEach(function(k){k[1].forEach(function(b){b.T==!0&&(I=!0)})}),I&&(A="xl/threadedComments/threadedComment"+c+"."+n,We(o,A,GO(S,m,e)),s.threadedcomments.push(A),dt(_,-1,"../threadedComments/threadedComment"+c+"."+n,at.TCMNT)),A="xl/comments"+c+"."+n,We(o,A,rE(S)),s.comments.push(A),dt(_,-1,"../comments"+c+"."+n,at.CMNT),E=!0}y["!legacy"]&&E&&We(o,"xl/drawings/vmlDrawing"+c+".vml",nE(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}_["!id"].rId1&&We(o,LT(l),Ja(_))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,We(o,l,YT(e.Strings,e)),s.strs.push(l),dt(e.wbrels,-1,"sharedStrings."+n,at.SST)),l="xl/workbook."+n,We(o,l,gE(t)),s.workbooks.push(l),dt(e.rels,1,l,at.WB),l="xl/theme/theme1.xml",We(o,l,eE(t.Themes,e)),s.themes.push(l),dt(e.wbrels,-1,"theme/theme1.xml",at.THEME),l="xl/styles."+n,We(o,l,QT(t,e)),s.styles.push(l),dt(e.wbrels,-1,"styles."+n,at.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",We(o,l,t.vbaraw),s.vba.push(l),dt(e.wbrels,-1,"vbaProject.bin",at.VBA)),l="xl/metadata."+n,We(o,l,tE()),s.metadata.push(l),dt(e.wbrels,-1,"metadata."+n,at.XLMETA),m.length>1&&(l="xl/persons/person.xml",We(o,l,HO(m)),s.people.push(l),dt(e.wbrels,-1,"persons/person.xml",at.PEOPLE)),We(o,"[Content_Types].xml",kT(s,e)),We(o,"_rels/.rels",Ja(e.rels)),We(o,"xl/_rels/workbook."+n+".rels",Ja(e.wbrels)),delete e.revssf,delete e.ssf,o}function cU(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=hi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function SE(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ml(e.file,_t.write(t,{type:ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return _t.write(t,e)}function fU(t,e){var n=Un(e||{}),r=oU(t,n);return hU(r,n)}function hU(t,e){var n={},r=ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?_t.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(sf(s))}return e.password&&typeof encrypt_agile<"u"?SE(encrypt_agile(s,e.password),e):e.type==="file"?Ml(e.file,s):e.type=="string"?ul(s):s}function dU(t,e){var n=e||{},r=NP(t,n);return SE(r,n)}function Hr(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return yl(xl(r));case"binary":return xl(r);case"string":return t;case"file":return Ml(e.file,r,"utf8");case"buffer":return ut?gi(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Hr(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function pU(t,e){switch(e.type){case"base64":return yl(t);case"binary":return t;case"string":return t;case"file":return Ml(e.file,t,"binary");case"buffer":return ut?gi(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function mc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?yl(n):e.type=="string"?ul(n):n;case"file":return Ml(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function wE(t,e){V4(),ZL(t);var n=Un(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=wE(t,n);return n.type="array",sf(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Hr(RP(t,n),n);case"slk":case"sylk":return Hr(XM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Hr(_E(t.Sheets[t.SheetNames[s]],n),n);case"txt":return pU(AE(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Hr(up(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return Hr(jM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return mc(WM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Hr(QM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Hr(sO.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Hr(KT.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Hr(EE(t,n),n);case"wk1":return mc(x1.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return mc(x1.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),mc(yE(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),dU(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fU(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function mU(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function gU(t,e,n){var r={};return r.type="file",r.file=e,mU(r),wE(t,r)}function vU(t,e,n,r,s,o,l,c){var d=dn(n),f=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),_=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:n,enumerable:!1})}catch{y.__rowNum__=n}else y.__rowNum__=n;if(!l||t[n])for(var T=e.s.c;T<=e.e.c;++T){var S=l?t[n][T]:t[r[T]+d];if(S===void 0||S.t===void 0){if(f===void 0)continue;o[T]!=null&&(y[o[T]]=f);continue}var E=S.v;switch(S.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[T]!=null){if(E==null)if(S.t=="e"&&E===null)y[o[T]]=null;else if(f!==void 0)y[o[T]]=f;else if(m&&E===null)y[o[T]]=null;else continue;else y[o[T]]=m&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?E:di(S,E,c);E!=null&&(_=!1)}}return{row:y,isempty:_}}function Yc(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},m=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof m){case"string":d=Rt(m);break;case"number":d=Rt(t["!ref"]),d.s.r=m;break;default:d=m}r>0&&(s=0);var _=dn(d.s.r),y=[],T=[],S=0,E=0,A=Array.isArray(t),I=d.s.r,k=0,b={};A&&!t[I]&&(t[I]=[]);var B=f.skipHidden&&t["!cols"]||[],J=f.skipHidden&&t["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(B[k]||{}).hidden)switch(y[k]=yn(k),n=A?t[I][k]:t[y[k]+_],r){case 1:o[k]=k-d.s.c;break;case 2:o[k]=y[k];break;case 3:o[k]=f.header[k-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=di(n,null,f),E=b[l]||0,!E)b[l]=1;else{do c=l+"_"+E++;while(b[c]);b[l]=E,b[c]=1}o[k]=c}for(I=d.s.r+s;I<=d.e.r;++I)if(!(J[I]||{}).hidden){var W=vU(t,d,I,y,r,o,A,f);(W.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(T[S++]=W.row)}return T.length=S,T}var b1=/"/g;function yU(t,e,n,r,s,o,l,c){for(var d=!0,f=[],m="",_=dn(n),y=e.s.c;y<=e.e.c;++y)if(r[y]){var T=c.dense?(t[n]||[])[y]:t[r[y]+_];if(T==null)m="";else if(T.v!=null){d=!1,m=""+(c.rawNumbers&&T.t=="n"?T.v:di(T,null,c));for(var S=0,E=0;S!==m.length;++S)if((E=m.charCodeAt(S))===s||E===o||E===34||c.forceQuotes){m='"'+m.replace(b1,'""')+'"';break}m=="ID"&&(m='"ID"')}else T.f!=null&&!T.F?(d=!1,m="="+T.f,m.indexOf(",")>=0&&(m='"'+m.replace(b1,'""')+'"')):m="";f.push(m)}return c.blankrows===!1&&d?null:f.join(l)}function up(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Rt(t["!ref"]),o=r.FS!==void 0?r.FS:",",l=o.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),m="",_=[];r.dense=Array.isArray(t);for(var y=r.skipHidden&&t["!cols"]||[],T=r.skipHidden&&t["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(y[S]||{}).hidden||(_[S]=yn(S));for(var E=0,A=s.s.r;A<=s.e.r;++A)(T[A]||{}).hidden||(m=yU(t,s,A,_,l,d,o,r),m!=null&&(r.strip&&(m=m.replace(f,"")),(m||r.blankrows!==!1)&&n.push((E++?c:"")+m)));return delete r.dense,n.join("")}function AE(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=up(t,e);return n}function _U(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Rt(t["!ref"]),o="",l=[],c,d=[],f=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)l[c]=yn(c);for(var m=s.s.r;m<=s.e.r;++m)for(o=dn(m),c=s.s.c;c<=s.e.c;++c)if(e=l[c]+o,n=f?(t[m]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function CE(t,e,n){var r=n||{},s=+!r.skipHeader,o=t||{},l=0,c=0;if(o&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Zt(r.origin):r.origin;l=d.r,c=d.c}var f,m={s:{c:0,r:0},e:{c,r:l+e.length-1+s}};if(o["!ref"]){var _=Rt(o["!ref"]);m.e.c=Math.max(m.e.c,_.e.c),m.e.r=Math.max(m.e.r,_.e.r),l==-1&&(l=_.e.r+1,m.e.r=l+e.length-1+s)}else l==-1&&(l=0,m.e.r=e.length-1+s);var y=r.header||[],T=0;e.forEach(function(E,A){pn(E).forEach(function(I){(T=y.indexOf(I))==-1&&(y[T=y.length]=I);var k=E[I],b="z",B="",J=mt({c:c+T,r:l+A+s});f=Sl(o,J),k&&typeof k=="object"&&!(k instanceof Date)?o[J]=k:(typeof k=="number"?b="n":typeof k=="boolean"?b="b":typeof k=="string"?b="s":k instanceof Date?(b="d",r.cellDates||(b="n",k=Pn(k)),B=r.dateNF||Pt[14]):k===null&&r.nullError&&(b="e",k=0),f?(f.t=b,f.v=k,delete f.w,delete f.R,B&&(f.z=B)):o[J]=f={t:b,v:k},B&&(f.z=B))})}),m.e.c=Math.max(m.e.c,c+y.length-1);var S=dn(l);if(s)for(T=0;T<y.length;++T)o[yn(T+c)+S]={t:"s",v:y[T]};return o["!ref"]=$t(m),o}function xU(t,e){return CE(null,t,e)}function Sl(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Zt(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Sl(t,mt(e)):Sl(t,mt({r:e,c:n||0}))}function TU(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function EU(){return{SheetNames:[],Sheets:{}}}function SU(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var l=o&&o[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=l+s)!=-1;++s);}if(mE(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function wU(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=TU(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function AU(t,e){return t.z=e,t}function RE(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function CU(t,e,n){return RE(t,"#"+e,n)}function RU(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function bU(t,e,n,r){for(var s=typeof e!="string"?e:Rt(e),o=typeof e=="string"?e:$t(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var d=Sl(t,l,c);d.t="n",d.F=o,delete d.v,l==s.s.r&&c==s.s.c&&(d.f=n,r&&(d.D=!0))}return t}var $d={encode_col:yn,encode_row:dn,encode_cell:mt,encode_range:$t,decode_col:Q0,decode_row:j0,split_cell:VD,decode_cell:Zt,decode_range:Zn,format_cell:di,sheet_add_aoa:RT,sheet_add_json:CE,sheet_add_dom:xE,aoa_to_sheet:to,json_to_sheet:xU,table_to_sheet:TE,table_to_book:jP,sheet_to_csv:up,sheet_to_txt:AE,sheet_to_json:Yc,sheet_to_html:_E,sheet_to_formulae:_U,sheet_to_row_object_array:Yc,sheet_get_cell:Sl,book_new:EU,book_append_sheet:SU,book_set_sheet_visibility:wU,cell_set_number_format:AU,cell_set_hyperlink:RE,cell_set_internal_link:CU,cell_add_comment:RU,sheet_set_array_formula:bU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const NU=t=>{try{if(!t||t.length===0){console.warn("  ."),alert("  .");return}const e=t.map(l=>({:l.name,:l.locationPath,:l.category,:l.notes.join(", ")," ":new Date(l.updatedAt).toLocaleString("ko-KR")})),n=$d.json_to_sheet(e),r=[{wch:20},{wch:30},{wch:15},{wch:40},{wch:25}];n["!cols"]=r;const s=$d.book_new();$d.book_append_sheet(s,n,"  ");const o=new Date().toISOString().slice(0,10);gU(s,`MemoryWhisp_Items_${o}.xlsx`),console.log("[Success]    ")}catch(e){console.error("    :",e),alert("     .")}},N1={exportToJson:t=>{const e={...t,exportedAt:new Date().toISOString()},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`whereisit_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),console.log("  :",e.exportedAt)},validateAndSanitize:t=>{try{if(!t||typeof t!="object"||!Array.isArray(t.items))return null;const e=t.items.map(s=>({id:s.id||Date.now().toString()+Math.random(),name:s.name||" ",locationPath:s.locationPath||" ",category:s.category||"",imageUrls:Array.isArray(s.imageUrls)?s.imageUrls:[],notes:Array.isArray(s.notes)?s.notes:[],updatedAt:typeof s.updatedAt=="number"?s.updatedAt:Date.now()})),n=t.config||{},r={locTypes:Array.isArray(n.locTypes)?n.locTypes:[],homeLocs:Array.isArray(n.homeLocs)?n.homeLocs:[],officeLocs:Array.isArray(n.officeLocs)?n.officeLocs:[],digitalLocs:Array.isArray(n.digitalLocs)?n.digitalLocs:[],categories:Array.isArray(n.categories)?n.categories:[]};return{items:e,config:r,version:t.version||1,exportedAt:t.exportedAt||new Date().toISOString()}}catch(e){return console.error("    :",e),null}}};function df(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IU(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{f(r.next(m))}catch(_){l(_)}}function d(m){try{f(r.throw(m))}catch(_){l(_)}}function f(m){m.done?o(m.value):s(m.value).then(c,d)}f((r=r.apply(t,e||[])).next())})}const DU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class cp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class MU extends cp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class I1 extends cp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class D1 extends cp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var y0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(y0||(y0={}));class OU{constructor(e,{headers:n={},customFetch:r,region:s=y0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=DU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return IU(this,arguments,void 0,function*(n,r={}){var s;let o,l;try{const{headers:c,method:d,body:f,signal:m,timeout:_}=r;let y={},{region:T}=r;T||(T=this.region);const S=new URL(`${this.url}/${n}`);T&&T!=="any"&&(y["x-region"]=T,S.searchParams.set("forceFunctionRegion",T));let E;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(y["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(y["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let A=m;_&&(l=new AbortController,o=setTimeout(()=>l.abort(),_),m?(A=l.signal,m.addEventListener("abort",()=>l.abort())):A=l.signal);const I=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:E,signal:A}).catch(J=>{throw new MU(J)}),k=I.headers.get("x-relay-error");if(k&&k==="true")throw new I1(I);if(!I.ok)throw new D1(I);let b=((s=I.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),B;return b==="application/json"?B=yield I.json():b==="application/octet-stream"||b==="application/pdf"?B=yield I.blob():b==="text/event-stream"?B=I:b==="multipart/form-data"?B=yield I.formData():B=yield I.text(),{data:B,error:null,response:I}}catch(c){return{data:null,error:c,response:c instanceof D1||c instanceof I1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var kU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},LU=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,f=o.status,m=o.statusText;if(o.ok){var _,y;if(n.method!=="HEAD"){var T;const I=await o.text();I===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((T=n.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?c=I:c=JSON.parse(I))}const E=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),A=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");E&&A&&A.length>1&&(d=parseInt(A[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,f=200,m="OK")}catch{o.status===404&&E===""?(f=204,m="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,f=200,m="OK"),l&&n.shouldThrowOnError)throw new kU(l)}return{error:l,data:c,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",f="";const m=o==null?void 0:o.cause;if(m){var _,y,T,S;const I=(_=m==null?void 0:m.message)!==null&&_!==void 0?_:"",k=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";c=`${(T=o==null?void 0:o.name)!==null&&T!==void 0?T:"FetchError"}: ${o==null?void 0:o.message}`,c+=`

Caused by: ${(S=m==null?void 0:m.name)!==null&&S!==void 0?S:"Error"}: ${I}`,k&&(c+=` (${k})`),m!=null&&m.stack&&(c+=`
${m.stack}`)}else{var E;c=(E=o==null?void 0:o.stack)!==null&&E!==void 0?E:""}const A=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((m==null?void 0:m.name)==="HeadersOverflowError"||(m==null?void 0:m.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(d+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:c,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},PU=class extends LU{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const M1=new RegExp("[,()]");var Pa=class extends PU{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&M1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&M1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},UU=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Pa({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Pa({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((m,_)=>m.concat(Object.keys(_)),[]);if(f.length>0){const m=[...new Set(f)].map(_=>`"${_}"`);c.searchParams.set("columns",m.join(","))}}return new Pa({method:l,url:c,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Pa({method:r,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Pa({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function FU(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BU(t){var e=FU(t,"string");return wl(e)=="symbol"?e:e+""}function GU(t,e,n){return(e=BU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){GU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var HU=class bE{constructor(e,{headers:n={},schema:r,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,f)=>{const m=new AbortController,_=setTimeout(()=>m.abort(),o),y=f==null?void 0:f.signal;if(y){if(y.aborted)return clearTimeout(_),c(d,f);const T=()=>{clearTimeout(_),m.abort()};return y.addEventListener("abort",T,{once:!0}),c(d,gc(gc({},f),{},{signal:m.signal})).finally(()=>{clearTimeout(_),y.removeEventListener("abort",T)})}return c(d,gc(gc({},f),{},{signal:m.signal})).finally(()=>clearTimeout(_))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new UU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new bE(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;const m=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(m)),_=r&&Object.values(n).some(m);_?(c="POST",f=n):r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([T,S])=>S!==void 0).map(([T,S])=>[T,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([T,S])=>{d.searchParams.append(T,S)})):(c="POST",f=n);const y=new Headers(this.headers);return _?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new Pa({method:c,url:d,headers:y,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class VU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qU="2.95.3",zU=`realtime-js/${qU}`,$U="1.0.0",NE="2.0.0",k1=NE,_0=1e4,JU=1e3,KU=100;var zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zi||(zi={}));var Yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yt||(Yt={}));var Rr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rr||(Rr={}));var x0;(function(t){t.websocket="websocket"})(x0||(x0={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class YU{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,r){var s,o;const l=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+_.length,T=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(T),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,c.length),S.setUint8(E++,l.length),S.setUint8(E++,f.length),S.setUint8(E++,_.length),S.setUint8(E++,n),Array.from(d,I=>S.setUint8(E++,I.charCodeAt(0))),Array.from(c,I=>S.setUint8(E++,I.charCodeAt(0))),Array.from(l,I=>S.setUint8(E++,I.charCodeAt(0))),Array.from(f,I=>S.setUint8(E++,I.charCodeAt(0))),Array.from(_,I=>S.setUint8(E++,I.charCodeAt(0)));var A=new Uint8Array(T.byteLength+r.byteLength);return A.set(new Uint8Array(T),0),A.set(new Uint8Array(r),T.byteLength),A.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,l,c,d]=r;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+s));d=d+s;const m=r.decode(e.slice(d,d+o));d=d+o;const _=r.decode(e.slice(d,d+l));d=d+l;const y=e.slice(d,e.byteLength),T=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:m,payload:T};return l>0&&(S.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class IE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const L1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=WU(l,t,e,s),o),{}):{}},WU=(t,e,n,r)=>{const s=e.find(c=>c.name===t),o=s==null?void 0:s.type,l=n[t];return o&&!r.includes(o)?DE(o,l):T0(l)},DE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZU(e,n)}switch(t){case wt.bool:return XU(e);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return jU(e);case wt.json:case wt.jsonb:return QU(e);case wt.timestamp:return eF(e);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return T0(e);default:return T0(e)}},T0=t=>t,XU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},QU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ZU=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>DE(e,c))}return t},eF=t=>typeof t=="string"?t.replace(" ","T"):t,ME=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jd{constructor(e,n,r={},s=_0){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var P1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(P1||(P1={}));class pl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pl.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=pl.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pl.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(o,(f,m)=>{l[f]||(d[f]=m)}),this.map(l,(f,m)=>{const _=o[f];if(_){const y=m.map(A=>A.presence_ref),T=_.map(A=>A.presence_ref),S=m.filter(A=>T.indexOf(A.presence_ref)<0),E=_.filter(A=>y.indexOf(A.presence_ref)<0);S.length>0&&(c[f]=S),E.length>0&&(d[f]=E)}else c[f]=m}),this.syncDiff(o,{joins:c,leaves:d},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var f;const m=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),m.length>0){const _=e[c].map(T=>T.presence_ref),y=m.filter(T=>_.indexOf(T.presence_ref)<0);e[c].unshift(...y)}r(c,m,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const m=d.map(_=>_.presence_ref);f=f.filter(_=>m.indexOf(_.presence_ref)<0),e[c]=f,s(c,f,d),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(U1||(U1={}));var ml;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ml||(ml={}));var oi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class Va{constructor(e,n={config:{}},r){var s,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jd(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new IE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new pl(this),this.broadcastEndpointURL=ME(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[ml.PRESENCE]&&this.bindings[ml.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>e==null?void 0:e(oi.CHANNEL_ERROR,T)),this._onClose(()=>e==null?void 0:e(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:T})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){e==null||e(oi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,I=[];for(let k=0;k<A;k++){const b=E[k],{filter:{event:B,schema:J,table:W,filter:P}}=b,Q=T&&T[k];if(Q&&Q.event===B&&Va.isFilterValueEqual(Q.schema,J)&&Va.isFilterValueEqual(Q.table,W)&&Va.isFilterValueEqual(Q.filter,P))I.push(Object.assign(Object.assign({},b),{id:Q.id}));else{this.unsubscribe(),this.state=Yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(oi.SUBSCRIBED);return}}).receive("error",T=>{this.state=Yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Yt.joined&&e===ml.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Jd(this,Rr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jd(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>KU){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=Rr;if(r&&[c,d,f,m].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(T=>{var S,E,A;return((S=T.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(E=T.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(T=>T.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(T=>{var S,E,A,I,k,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in T){const B=T.id,J=(S=T.filter)===null||S===void 0?void 0:S.event;return B&&((E=n.ids)===null||E===void 0?void 0:E.includes(B))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const B=(k=(I=T==null?void 0:T.filter)===null||I===void 0?void 0:I.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return B==="*"||B===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===l}).map(T=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:E,table:A,commit_timestamp:I,type:k,errors:b}=S;y=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:I,eventType:k,new:{},old:{},errors:b}),this._getPayloadRecords(S))}T.callback(y,r)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Va.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rr.close,{},e)}_onError(e){this._on(Rr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=L1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=L1(e.columns,e.old_record)),n}}const Kd=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tF=[1e3,2e3,5e3,1e4],nF=1e4,rF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_0,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kd,this.ref=0,this.reconnectTimer=null,this.vsn=k1,this.logger=Kd,this.conn=null,this.sendBuffer=[],this.serializer=new YU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${x0.websocket}`,this.httpEndpoint=ME(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zi.connecting:return As.Connecting;case zi.open:return As.Open;case zi.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Va(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(JU,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zi.open||this.conn.readyState===zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:zU};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new IE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,o,l,c,d,f,m,_,y,T;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:_0,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:vc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Kd,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:k1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(S=>tF[S-1]||nF),this.vsn){case $U:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((S,E)=>E(JSON.stringify(S))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((S,E)=>E(JSON.parse(S)));break;case NE:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(T=e==null?void 0:e.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Al=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sF(t,e,n){const r=new URL(e,t);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function aF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function oF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:l}){const c=sF(t.baseUrl,r,s),d=await aF(t.auth),f=await e(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),m=await f.text(),_=(f.headers.get("content-type")||"").includes("application/json"),y=_&&m?JSON.parse(m):m;if(!f.ok){const T=_?y:void 0,S=T==null?void 0:T.error;throw new Al((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:T})}return{status:f.status,headers:f.headers,data:y}}}}function yc(t){return t.join("")}var lF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yc(t.namespace)}`}),!0}catch(e){if(e instanceof Al&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Al&&n.status===409)return;throw n}}};function ba(t){return t.join("")}var uF=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ba(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Al&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Al&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},cF=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=oF({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new lF(this.client,e),this.tableOps=new uF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},pf=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function mf(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var _c=class extends pf{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OE=class extends pf{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const fF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},E0=t=>{if(Array.isArray(t))return t.map(n=>E0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=E0(r)}),e},dF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function pF(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mF(t){var e=pF(t,"string");return Cl(e)=="symbol"?e:e+""}function gF(t,e,n){return(e=mF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){gF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const B1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vF=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new _c(B1(l),o,c,r))}).catch(()=>{if(r==="vectors"){const l=o+"";e(new _c(s.statusText||`HTTP ${o} error`,o,l,r))}else{const l=o+"";e(new _c(s.statusText||`HTTP ${o} error`,o,l,r))}});else{const l=o+"";e(new _c(s.statusText||`HTTP ${o} error`,o,l,r))}}else e(new OE(B1(t),t,r))},yF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?ze(ze({},s),n):(hF(r)?(s.headers=ze({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),ze(ze({},s),n))};async function il(t,e,n,r,s,o,l){return new Promise((c,d)=>{t(n,yF(e,r,s,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(l==="vectors"){const m=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!m||!m.includes("application/json"))return{}}return f.json()}).then(f=>c(f)).catch(f=>vF(f,d,r,l))})}function kE(t="storage"){return{get:async(e,n,r,s)=>il(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,o)=>il(e,"POST",n,s,o,r,t),put:async(e,n,r,s,o)=>il(e,"PUT",n,s,o,r,t),head:async(e,n,r,s)=>il(e,"HEAD",n,ze(ze({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,o)=>il(e,"DELETE",n,s,o,r,t)}}const _F=kE("storage"),{get:Rl,post:Cr,put:S0,head:xF,remove:fp}=_F,Qn=kE("vectors");var io=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=fF(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mf(n))return{data:null,error:n};throw n}}},TF=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mf(e))return{data:null,error:e};throw e}}};let LE;LE=Symbol.toStringTag;var EF=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[LE]="BlobDownloadBuilder",this.promise=null}asStream(){return new TF(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mf(e))return{data:null,error:e};throw e}}};const SF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wF=class extends io{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let o;const l=ze(ze({},G1),r);let c=ze(ze({},s.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(c=ze(ze({},c),r.headers));const f=s._removeEmptyFolders(e),m=s._getFinalPath(f),_=await(t=="PUT"?S0:Cr)(s.fetch,`${s.url}/object/${m}`,o,ze({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:f,id:_.Id,fullPath:_.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const o=s._removeEmptyFolders(t),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let d;const f=ze({upsert:G1.upsert},r),m=ze(ze({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{path:o,fullPath:(await S0(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=ze({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await Cr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new pf("No token returned by API");return{signedUrl:l.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Cr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Cr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),o=await Cr(r.fetch,`${r.url}/object/sign/${s}`,ze({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await Cr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>ze(ze({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Rl(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new EF(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>E0(await Rl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await xF(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mf(r)&&r instanceof OE){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await fp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=ze(ze(ze({},SF),e),{},{prefix:t||""});return await Cr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=ze({},t);return await Cr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const AF="2.95.3",Ul={"X-Client-Info":`storage-js/${AF}`};var CF=class extends io{constructor(t,e={},n,r){const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=ze(ze({},Ul),e);super(o,l,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Rl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Rl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Cr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await S0(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await fp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},RF=class extends io{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Ul),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Rl(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await fp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!dF(t))throw new pf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new cF({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},bF=class extends io{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Ul),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Qn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Qn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},NF=class extends io{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Ul),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},IF=class extends io{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Ul),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Qn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},DF=class extends IF{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new MF(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},MF=class extends bF{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new OF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},OF=class extends NF{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},kF=class extends CF{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new wF(this.url,this.headers,t,this.fetch)}get vectors(){return new DF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RF(this.url+"/iceberg",this.headers,this.fetch)}};const PE="2.95.3",Ua=30*1e3,w0=3,Yd=w0*Ua,LF="http://localhost:9999",PF="supabase.auth.token",UF={"X-Client-Info":`gotrue-js/${PE}`},A0="X-Supabase-Api-Version",UE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BF=600*1e3;class bl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GF extends bl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function HF(t){return Fe(t)&&t.name==="AuthApiError"}class Cs extends bl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vi extends bl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Kn extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wd(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class Na extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends vi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tc extends vi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VF(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class H1 extends vi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qF extends vi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class C0 extends vi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xd(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class V1 extends vi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class R0 extends vi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),q1=` 	
\r=`.split(""),zF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<q1.length;e+=1)t[q1[e].charCodeAt(0)]=-2;for(let e=0;e<Wc.length;e+=1)t[Wc[e].charCodeAt(0)]=e;return t})();function z1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Wc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Wc[r]),e.queuedBits-=6}}function FE(t,e,n){const r=zF[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $1(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{KF(l,r,n)};for(let l=0;l<t.length;l+=1)FE(t.charCodeAt(l),s,o);return e.join("")}function $F(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function JF(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$F(r,e)}}function KF(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Wa(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)FE(t.charCodeAt(s),n,r);return new Uint8Array(e)}function YF(t){const e=[];return JF(t,n=>e.push(n)),new Uint8Array(e)}function Rs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>z1(s,n,r)),z1(null,n,r),e.join("")}function WF(t){return Math.round(Date.now()/1e3)+t}function XF(){return Symbol("auth-callback")}const un=()=>typeof window<"u"&&typeof document<"u",xs={tested:!1,writable:!1},BE=()=>{if(!un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xs.tested)return xs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xs.tested=!0,xs.writable=!0}catch{xs.tested=!0,xs.writable=!1}return xs.writable};function jF(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const GE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ts=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(t,e)=>{await t.removeItem(e)};class gf{constructor(){this.promise=new gf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gf.promiseConstructor=Promise;function Ec(t){const e=t.split(".");if(e.length!==3)throw new R0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!FF.test(e[r]))throw new R0("JWT not in base64url format");return{header:JSON.parse($1(e[0])),payload:JSON.parse($1(e[1])),signature:Wa(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e8(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function t8(t){return("0"+t.toString(16)).substr(-2)}function n8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,t8).join("")}async function r8(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function i8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await r8(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ia(t,e,n=!1){const r=n8();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Fa(t,`${e}-code-verifier`,s);const o=await i8(r);return[o,r===o?"plain":"s256"]}const s8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a8(t){const e=t.headers.get(A0);if(!e||!e.match(s8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function o8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function l8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!u8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function c8(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function J1(t){return JSON.parse(JSON.stringify(t))}const Ss=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),f8=[502,503,504];async function K1(t){var e;if(!QF(t))throw new C0(Ss(t),0);if(f8.includes(t.status))throw new C0(Ss(t),t.status);let n;try{n=await t.json()}catch(o){throw new Cs(Ss(o),o)}let r;const s=a8(t);if(s&&s.getTime()>=UE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new V1(Ss(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Kn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new V1(Ss(n),t.status,n.weak_password.reasons);throw new GF(Ss(n),t.status||500,r)}const h8=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function qe(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[A0]||(o[A0]=UE["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await d8(t,e,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function d8(t,e,n,r,s,o){const l=h8(e,r,s,o);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new C0(Ss(d),0)}if(c.ok||await K1(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await K1(d)}}function Ar(t){var e;let n=null;g8(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=WF(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Y1(t){const e=Ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p8(t){return{data:t,error:null}}function m8(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,l=df(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function W1(t){return t}function g8(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qd=["global","local","others"];class v8{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=GE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Qd[0]){if(Qd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$i})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=df(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W1});if(m.error)throw m.error;const _=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,T=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(Fe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Da(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Da(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$i})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Da(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$i})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Da(e.userId);try{const{data:n,error:r}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,o,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W1});if(m.error)throw m.error;const _=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,T=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(Fe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}function X1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ma={debug:!!(globalThis&&BE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class y8 extends HE{}async function _8(t,e,n){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ma.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function x8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function VE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function T8(t){return parseInt(t,16)}function E8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function S8(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:m,uri:_,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const T=VE(t.address),S=m?`${m}://${r}`:r,E=t.statement?`${t.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${T}

${E}`;let I=`URI: ${_}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),c&&(I+=`
Not Before: ${c.toISOString()}`),d&&(I+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const b of f){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);k+=`
- ${b}`}I+=k}return`${A}
${I}`}class zt extends Error{constructor({message:e,code:n,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Xc extends zt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function w8({error:t,options:e}){var n,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new zt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(qE(l)){if(o.rp.id!==l)return new zt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function A8({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new zt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(qE(r)){if(n.rpId!==r)return new zt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class C8{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R8=new C8;function b8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=df(t,["challenge","user","excludeCredentials"]),o=Wa(e).buffer,l=Object.assign(Object.assign({},n),{id:Wa(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Wa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function N8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=df(t,["challenge","allowCredentials"]),s=Wa(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Wa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function I8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function D8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rs(new Uint8Array(s.authenticatorData)),clientDataJSON:Rs(new Uint8Array(s.clientDataJSON)),signature:Rs(new Uint8Array(s.signature)),userHandle:s.userHandle?Rs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function j1(){var t,e;return!!(un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function M8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:w8({error:e,options:t})}}}async function O8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:A8({error:e,options:t})}}}const k8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=jc(c,l):r[o]=jc(l)}else r[o]=l}return r}function P8(t,e){return jc(k8,t,e||{})}function U8(t,e){return jc(L8,t,e||{})}class F8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const f=s??R8.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const _=r;if(_)m.name=`${m.id}:${_}`;else{const T=(await this.client.getUser()).data.user,S=((l=T==null?void 0:T.user_metadata)===null||l===void 0?void 0:l.name)||(T==null?void 0:T.email)||(T==null?void 0:T.id)||"User";m.name=`${m.id}:${S}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=P8(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:_,error:y}=await M8({publicKey:m,signal:f});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}case"request":{const m=U8(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:_,error:y}=await O8(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new Cs("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new bl("rpId is required for WebAuthn authentication")};try{if(!j1())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Fe(l)?{data:null,error:l}:{data:null,error:new Cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new bl("rpId is required for WebAuthn registration")};try{if(!j1())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var _;return(_=m.data)===null||_===void 0?void 0:_.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Fe(l)?{data:null,error:l}:{data:null,error:new Cs("Unexpected error in register",l)}}}}x8();const B8={url:LF,storageKey:PF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Q1(t,e,n){return await n()}const Oa={};class Nl{get jwks(){var e,n;return(n=(e=Oa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},B8),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Nl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Nl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&un()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new v8({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=GE(o.fetch),this.lock=o.lock||Q1,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&un()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_8:this.lock=Q1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:BE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=X1(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=X1(this.memoryStorage)),un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(un()&&(n=jF(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),un()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),VF(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?this._returnResult({error:n}):this._returnResult({error:new Cs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:m,password:_,options:y}=e;let T=null,S=null;this.flowType==="pkce"&&([T,S]=await Ia(this.storage,this.storageKey)),o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:_,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:T,code_challenge_method:S},xform:Ar})}else if("phone"in e){const{phone:m,password:_,options:y}=e;o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:_,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ar})}else throw new xc("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await on(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Y1})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Y1})}else throw new xc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Na;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,o,l,c,d,f,m,_,y;let T,S;if("message"in e)T=e.message,S=e.signature;else{const{chain:E,wallet:A,statement:I,options:k}=e;let b;if(un())if(typeof A=="object")b=A;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")b=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=A}const B=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),J=await b.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=VE(J[0]);let P=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const K=await b.request({method:"eth_chainId"});P=T8(K)}const Q={domain:B.host,address:W,statement:I,uri:B.href,version:"1",chainId:P,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.resources};T=S8(Q),S=await b.request({method:"personal_sign",params:[E8(T),W]})}try{const{data:E,error:A}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:S},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ar});if(A)throw A;if(!E||!E.session||!E.user){const I=new Na;return this._returnResult({data:{user:null,session:null},error:I})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(Fe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,s,o,l,c,d,f,m,_,y,T;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:A,wallet:I,statement:k,options:b}=e;let B;if(un())if(typeof I=="object")B=I;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=I}const J=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),k?{statement:k}:null));let P;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")P=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)P=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),E=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((f=b==null?void 0:b.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((_=(m=b==null?void 0:b.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||_===void 0)&&_.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const W=await B.signMessage(new TextEncoder().encode(S),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=W}}try{const{data:A,error:I}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Rs(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Ar});if(I)throw I;if(!A||!A.session||!A.user){const k=new Na;return this._returnResult({data:{user:null,session:null},error:k})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:I})}catch(A){if(Fe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const n=await Ts(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qF;const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ar});if(await on(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Na;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=e,c=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ar}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Na;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,o,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ia(this.storage,this.storageKey));const{error:_}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:m}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new xc("You must provide either an email or phone number.")}catch(c){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ar});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ia(this.storage,this.storageKey));const f=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:p8});return!((o=f.data)===null||o===void 0)&&o.url&&un()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Kn;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:c}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new xc("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Yd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Ts(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=jd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=c8(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async n=>{var r,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:$i})})}catch(n){if(Fe(n))return Wd(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Kn;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ia(this.storage,this.storageKey));const{data:f,error:m}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:$i});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=Ec(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Kn;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!un())throw new Tc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new H1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new H1("No code detected.");const{data:k,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!o||!c||!l||!f)throw new Tc("No session defined in URL");const m=Math.round(Date.now()/1e3),_=parseInt(c);let y=m+_;d&&(y=parseInt(d));const T=y-m;T*1e3<=Ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const S=y-_;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:E,error:A}=await this._getUser(o);if(A)throw A;const I={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:_,expires_at:y,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:e.type},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o&&!Wd(o))return this._returnResult({error:o});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(HF(c)&&(c.status===404||c.status===401||c.status===403)||Wd(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=XF(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ia(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,c,d,f,m;const{data:_,error:y}=o;if(y)throw y;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",T,{headers:this.headers,jwt:(m=(f=_.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return un()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:f,nonce:m}=e,_=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ar}),{data:y,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Na}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:T}))}catch(s){if(await on(this.storage,`${this.storageKey}-code-verifier`),Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e8(async s=>(s>0&&await ZF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ar})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Xd(o)&&Date.now()+l-r<Ua})}catch(r){if(this._debug(n,"error",r),Fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ts(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Fa(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:jd()}else if(s&&!s.user&&!s.user){const l=await Ts(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await on(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,s)):s.user=jd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Yd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Xd(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Kn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Fe(o)){const l={data:null,error:o};return Xd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await on(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=J1(s);await Fa(this.storage,this.storageKey,o)}else{const s=J1(n);await Fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ua);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ua}ms, refresh threshold is ${w0} ticks`),s<=w0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof HE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ia(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?I8(e.webauthn.credential_response):D8(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:b8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:N8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,o;if(e)try{const{payload:T}=Ec(e);let S=null;T.aal&&(S=T.aal);let E=S;const{data:{user:A},error:I}=await this.getUser(e);if(I)return this._returnResult({data:null,error:I});((r=(n=A==null?void 0:A.factors)===null||n===void 0?void 0:n.filter(B=>B.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const b=T.amr||[];return{data:{currentLevel:S,nextLevel:E,currentAuthenticationMethods:b},error:null}}catch(T){if(Fe(T))return this._returnResult({data:null,error:T});throw T}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ec(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(T=>T.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kn});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&un()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kn});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&un()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(e){if(Fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kn})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+BF>s)return r;const{data:o,error:l}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:T,error:S}=await this.getSession();if(S||!T.session)return this._returnResult({data:null,error:S});r=T.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=Ec(r);n!=null&&n.allowExpired||o8(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:o,header:s,signature:l},error:null}}const m=l8(s.alg),_=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,l,YF(`${c}.${d}`)))throw new R0("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}}Nl.nextInstanceID={};const G8=Nl,H8="2.95.3";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const V8={"X-Client-Info":`supabase-js-${ol}/${H8}`},q8={headers:V8},z8={schema:"public"},$8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J8={};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function K8(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y8(t){var e=K8(t,"string");return Il(e)=="symbol"?e:e+""}function W8(t,e,n){return(e=Y8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){W8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const X8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),j8=()=>Headers,Q8=(t,e,n)=>{const r=X8(n),s=j8();return async(o,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Ot(Ot({},l),{},{headers:f}))}};function Z8(t){return t.endsWith("/")?t:t+"/"}function e6(t,e){var n,r;const{db:s,auth:o,realtime:l,global:c}=t,{db:d,auth:f,realtime:m,global:_}=e,y={db:Ot(Ot({},d),s),auth:Ot(Ot({},f),o),realtime:Ot(Ot({},m),l),storage:{},global:Ot(Ot(Ot({},_),c),{},{headers:Ot(Ot({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function t6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var n6=class extends G8{constructor(t){super(t)}},r6=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const o=t6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:z8,realtime:J8,auth:Ot(Ot({},$8),{},{storageKey:l}),global:q8},d=e6(n??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=Q8(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new HU(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new kF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new OU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:f},m,_){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n6({url:this.authUrl.href,headers:Ot(Ot({},y),m),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:f,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iF(this.realtimeUrl.href,Ot(Ot({},t),{},{params:Ot(Ot({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const i6=(t,e,n)=>new r6(t,e,n);function s6(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}s6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a6="https://ydnipmigaantoysqywka.supabase.co",o6="sb_publishable_iQyNnjBbm0VOOqikFmiZIA_SFyZjXSr";let b0;try{b0=i6(a6,o6)}catch(t){console.error("Failed to initialize Supabase client:",t),b0={from:()=>({select:()=>({order:()=>Promise.resolve({data:[],error:{message:"Supabase client failed to initialize"}})}),insert:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}}),update:()=>({eq:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}})}),delete:()=>({eq:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}})})})}}const Sc=b0,Cc={fetchItems:async()=>{const{data:t,error:e}=await Sc.from("items").select("*").order("updated_at",{ascending:!1});return e?(console.error("Error fetching items:",e),[]):t.map(n=>({id:n.id,name:n.name,locationPath:n.location_path,category:n.category,imageUrls:n.image_urls||[],notes:n.notes||[],updatedAt:n.updated_at}))},addItem:async t=>{const{error:e}=await Sc.from("items").insert({id:t.id,name:t.name,location_path:t.locationPath,category:t.category,image_urls:t.imageUrls,notes:t.notes,updated_at:t.updatedAt});if(e)throw console.error("Error adding item:",e),e},updateItem:async t=>{const{error:e}=await Sc.from("items").update({name:t.name,location_path:t.locationPath,category:t.category,image_urls:t.imageUrls,notes:t.notes,updated_at:t.updatedAt}).eq("id",t.id);if(e)throw console.error("Error updating item:",e),e},deleteItem:async t=>{const{error:e}=await Sc.from("items").delete().eq("id",t);if(e)throw console.error("Error deleting item:",e),e}},l6=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:Cc},Symbol.toStringTag,{value:"Module"})),u6=()=>{const{state:t,dispatch:e}=Lt.useContext(Os),{items:n,searchTerm:r,sortOption:s,isAdding:o,selectedItem:l,isEditMode:c,formState:d,isAnalyzing:f,aiSearchResults:m,isSearchingAI:_,config:y,isSettingsOpen:T}=t;Lt.useEffect(()=>{},[]),Lt.useEffect(()=>{r||e({type:"SET_AI_SEARCH_RESULTS",payload:null})},[r,e]);const S=async he=>{he.preventDefault();const Y=`${d.locType} > ${d.locDetail}`,ue={id:Date.now().toString(),name:d.itemName,locationPath:Y,category:d.itemCat,notes:d.itemNotes.split(`
`).map(be=>be.trim()).filter(be=>be),imageUrls:d.itemImages,updatedAt:Date.now()},Se=[ue,...n];e({type:"SET_ITEMS",payload:Se}),e({type:"TOGGLE_ADDING",payload:!1}),e({type:"RESET_FORM"});try{await Cc.addItem(ue)}catch(be){console.error("Failed to save to Supabase",be),alert(`  . ( )

 : ${be.message||JSON.stringify(be)}`)}},E=async he=>{if(he.preventDefault(),!l)return;const Y=`${d.locType} > ${d.locDetail}`,ue={...l,name:d.itemName,locationPath:Y,category:d.itemCat,notes:d.itemNotes.split(`
`).map(be=>be.trim()).filter(be=>be),imageUrls:d.itemImages,updatedAt:Date.now()},Se=n.map(be=>be.id===l.id?ue:be);e({type:"SET_ITEMS",payload:Se}),e({type:"SET_SELECTED_ITEM",payload:ue}),e({type:"TOGGLE_EDIT_MODE",payload:!1});try{await Cc.updateItem(ue)}catch(be){console.error("Failed to update in Supabase",be),alert(`  . ( )

 : ${be.message||JSON.stringify(be)}`)}},A=()=>{e({type:"RESET_FORM"})},I=()=>{if(!l)return;const he=l.locationPath.split(" > "),Y=he.length===2&&y.locTypes.includes(he[0])?he[0]:y.locTypes[0]||"",ue=he.length===2&&y.locTypes.includes(he[0])?he[1]:l.locationPath;e({type:"UPDATE_FORM",payload:{itemName:l.name,locType:Y,locDetail:ue,itemCat:l.category,itemNotes:l.notes.join(`
`),itemImages:l.imageUrls}}),e({type:"TOGGLE_EDIT_MODE",payload:!0})},k=async he=>{e({type:"SET_IS_ANALYZING",payload:!0});try{const Y=await I4(he),ue={};Y.name&&(ue.itemName=Y.name),Y.category&&(ue.itemCat=Y.category),Y.notes&&Y.notes.length>0&&(ue.itemNotes=d.itemNotes?`${d.itemNotes}
${Y.notes.join(`
`)}`:Y.notes.join(`
`)),e({type:"UPDATE_FORM",payload:ue})}catch(Y){console.error("AI Analysis failed",Y)}finally{e({type:"SET_IS_ANALYZING",payload:!1})}},b=async()=>{if(d.itemName.trim()){e({type:"SET_IS_ANALYZING",payload:!0});try{const he=await N4(d.itemName),Y={};he.category&&(Y.itemCat=he.category),he.notes&&he.notes.length>0&&(Y.itemNotes=d.itemNotes?`${d.itemNotes}
${he.notes.join(`
`)}`:he.notes.join(`
`)),e({type:"UPDATE_FORM",payload:Y})}catch(he){console.error("AI Suggestion failed",he)}finally{e({type:"SET_IS_ANALYZING",payload:!1})}}},B=(he,Y=400,ue=.6)=>new Promise(Se=>{const be=new Image;be.src=he,be.onload=()=>{let He=be.width,V=be.height;He>V?He>Y&&(V*=Y/He,He=Y):V>Y&&(He*=Y/V,V=Y);const N=document.createElement("canvas");N.width=He,N.height=V;const q=N.getContext("2d");q?(q.drawImage(be,0,0,He,V),Se(N.toDataURL("image/jpeg",ue))):Se(he)},be.onerror=()=>Se(he)}),J=(he,Y)=>{var be;const ue=(be=he.target.files)==null?void 0:be[0];if(!ue)return;const Se=new FileReader;Se.onloadend=async()=>{const He=Se.result;if(He)try{const V=await B(He,400,.6),N=[...d.itemImages];N[Y]=V,e({type:"UPDATE_FORM",payload:{itemImages:N}}),Y===0&&k(V)}catch(V){console.error("   :",V),alert("    .")}},Se.onerror=()=>alert("    ."),Se.readAsDataURL(ue),he.target.value=""},W=he=>{const Y=[...d.itemImages];Y.splice(he,1),e({type:"UPDATE_FORM",payload:{itemImages:Y}})},P=Lt.useMemo(()=>{let he=n;if(r)if(m)he=n.filter(Y=>m.includes(Y.name));else{const Y=r.toLowerCase();he=n.filter(ue=>ue.name.toLowerCase().includes(Y)||ue.notes.some(Se=>Se.toLowerCase().includes(Y))||ue.locationPath.toLowerCase().includes(Y))}return[...he].sort((Y,ue)=>s==="name"?Y.name.localeCompare(ue.name):s==="category"?Y.category.localeCompare(ue.category):ue.updatedAt-Y.updatedAt)},[n,r,s,m]),Q=async he=>{if(confirm(D0)){e({type:"SET_ITEMS",payload:n.filter(Y=>Y.id!==he)}),(l==null?void 0:l.id)===he&&e({type:"SET_SELECTED_ITEM",payload:null});try{await Cc.deleteItem(he)}catch(Y){console.error("Failed to delete from Supabase",Y),alert(`  .

 : ${Y.message||JSON.stringify(Y)}`)}}},K=()=>{N1.exportToJson({items:n,config:y,version:1})},ae=()=>{NU(n)},ce=he=>{var Se;const Y=(Se=he.target.files)==null?void 0:Se[0];if(!Y)return;const ue=new FileReader;ue.onload=be=>{var He;try{const V=JSON.parse((He=be.target)==null?void 0:He.result),N=N1.validateAndSanitize(V);if(N){const q=N.items.length>0?` ${N.items.length}  .
       ?`:"   . ?";confirm(q)&&(e({type:"SET_ITEMS",payload:N.items}),N.config&&e({type:"UPDATE_CONFIG",payload:N.config}),alert("  ."),e({type:"TOGGLE_SETTINGS",payload:!1}))}else alert("    .")}catch(V){console.error("  :",V),alert("    . JSON   .")}},ue.readAsText(Y),he.target.value=""},me=[{id:"latest",label:"",icon:"fa-clock"},{id:"name",label:"",icon:"fa-font"},{id:"category",label:"",icon:"fa-tag"}],xe=Lt.useMemo(()=>{const he={};return n.forEach(Y=>{he[Y.category]=(he[Y.category]||0)+1}),Object.entries(he).sort((Y,ue)=>ue[1]-Y[1]).slice(0,3)},[n]),Be=Lt.useMemo(()=>{const he={};return n.forEach(Y=>{const ue=Y.locationPath.split(" > ")[0]||"";he[ue]=(he[ue]||0)+1}),Object.entries(he).sort((Y,ue)=>ue[1]-Y[1]).slice(0,3)},[n]);return D.jsxs("div",{className:"fixed inset-0 flex flex-col safe-top safe-bottom",style:{background:"linear-gradient(180deg, #f8fafc 0%, #eef2ff 30%, #f1f5f9 100%)"},children:[D.jsxs("header",{className:"shrink-0 safe-left safe-right z-50 relative overflow-hidden",style:{minHeight:"33vh",background:"linear-gradient(160deg, #6366f1 0%, #818cf8 35%, #a78bfa 70%, #c4b5fd 100%)"},children:[D.jsxs("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2",children:[n.length>0&&D.jsxs("div",{className:"px-2.5 py-1 rounded-lg text-[11px] font-bold text-white/90 bg-white/20 backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[" ",n.length,""]}),D.jsx("button",{onClick:()=>e({type:"TOGGLE_SETTINGS",payload:!0}),className:"w-9 h-9 rounded-xl bg-white/15 backdrop-blur-sm border border-white/20 text-white/80 hover:bg-white/25 transition-all flex items-center justify-center touch-feedback",children:D.jsx("i",{className:"fas fa-cog text-sm"})})]}),D.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[D.jsx("div",{className:"absolute w-40 h-40 rounded-full bg-white/[0.06]",style:{top:"-15%",left:"-10%"}}),D.jsx("div",{className:"absolute w-56 h-56 rounded-full bg-white/[0.04]",style:{bottom:"-25%",right:"-15%"}}),D.jsx("div",{className:"absolute w-24 h-24 rounded-full bg-white/[0.06]",style:{top:"20%",right:"10%"}})]}),D.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[D.jsx("span",{className:"absolute text-2xl animate-float",style:{top:"15%",left:"8%",animationDelay:"0s"},children:""}),D.jsx("span",{className:"absolute text-xl animate-float",style:{top:"25%",right:"12%",animationDelay:"0.8s"},children:""}),D.jsx("span",{className:"absolute text-2xl animate-float",style:{bottom:"25%",left:"15%",animationDelay:"1.5s"},children:""}),D.jsx("span",{className:"absolute text-lg animate-float",style:{top:"12%",right:"32%",animationDelay:"0.4s"},children:""}),D.jsx("span",{className:"absolute text-xl animate-float",style:{bottom:"18%",right:"8%",animationDelay:"1.2s"},children:""}),D.jsx("span",{className:"absolute text-base animate-float",style:{bottom:"35%",left:"5%",animationDelay:"2s"},children:""}),D.jsx("span",{className:"absolute text-lg animate-float",style:{top:"40%",right:"25%",animationDelay:"0.6s"},children:""})]}),D.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-6 py-6",style:{minHeight:"33vh"},children:[D.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm border-2 border-white/30 flex items-center justify-center mb-4 shadow-lg animate-bounce-in",children:D.jsx("span",{className:"text-3xl",children:""})}),D.jsx("h1",{className:"text-3xl font-black text-white tracking-tight mb-1.5 animate-fade-in",children:"WhereIsIt"}),D.jsx("p",{className:"text-base font-semibold text-white/90 text-center mb-2 animate-fade-in",style:{animationDelay:"0.1s",animationFillMode:"both"},children:'"  ?"    !'}),D.jsxs("p",{className:"text-xs text-white/60 text-center font-medium max-w-[260px] leading-relaxed animate-fade-in",style:{animationDelay:"0.2s",animationFillMode:"both"},children:["     !",D.jsx("br",{}),"AI    "]})]})]}),D.jsx("div",{className:"px-5 pt-3 pb-1 shrink-0 safe-left safe-right",children:D.jsx(P4,{})}),D.jsx("div",{className:"flex-1 overflow-y-auto mobile-scroll px-5 pb-28 safe-left safe-right",children:n.length===0&&!r?D.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[65vh] animate-fade-in-scale",children:[D.jsxs("div",{className:"relative mb-8",children:[D.jsx("div",{className:"w-32 h-32 rounded-[2rem] gradient-primary flex items-center justify-center shadow-glow-lg animate-float",children:D.jsx("i",{className:"fas fa-map-marker-alt text-white text-5xl"})}),D.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 rounded-xl bg-accent-400 flex items-center justify-center shadow-lg animate-bounce-in stagger-2",children:D.jsx("i",{className:"fas fa-box text-white text-sm"})}),D.jsx("div",{className:"absolute -bottom-2 -left-4 w-8 h-8 rounded-lg bg-warn-400 flex items-center justify-center shadow-lg animate-bounce-in stagger-3",children:D.jsx("i",{className:"fas fa-key text-white text-xs"})}),D.jsx("div",{className:"absolute top-1/2 -right-6 w-7 h-7 rounded-full bg-danger-400 flex items-center justify-center shadow-lg animate-bounce-in stagger-4",children:D.jsx("i",{className:"fas fa-headphones text-white text-[10px]"})})]}),D.jsx("h2",{className:"text-2xl font-black text-surface-800 mb-2 tracking-tight text-center",children:"  "}),D.jsxs("p",{className:"text-sm text-surface-400 font-medium text-center max-w-[280px] leading-relaxed mb-8",children:["     ,",D.jsx("br",{}),"   ."]}),D.jsx("div",{className:"w-full max-w-sm space-y-3 mb-8",children:[{icon:"fa-camera",color:"bg-primary-500",title:" ",desc:"   "},{icon:"fa-brain",color:"bg-accent-500",title:"AI  ",desc:"  AI  "},{icon:"fa-magnifying-glass",color:"bg-warn-500",title:" ",desc:"  "}].map((he,Y)=>D.jsxs("div",{className:`card p-4 flex items-center gap-4 animate-fade-in-scale stagger-${Y+2}`,children:[D.jsx("div",{className:`w-11 h-11 rounded-xl ${he.color} flex items-center justify-center shrink-0`,children:D.jsx("i",{className:`fas ${he.icon} text-white text-base`})}),D.jsxs("div",{children:[D.jsx("p",{className:"font-bold text-surface-800 text-sm",children:he.title}),D.jsx("p",{className:"text-xs text-surface-400 font-medium",children:he.desc})]})]},Y))}),D.jsxs("button",{onClick:()=>{A(),e({type:"TOGGLE_ADDING",payload:!0})},className:"btn-primary flex items-center gap-2 text-base px-8 animate-bounce-in stagger-5",children:[D.jsx("i",{className:"fas fa-plus"}),"   "]})]}):D.jsxs(D.Fragment,{children:[n.length>0&&!r&&D.jsx("div",{className:"mt-3 mb-5 animate-fade-in",children:D.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[D.jsxs("div",{className:"card p-3 text-center",children:[D.jsx("p",{className:"text-2xl font-black gradient-text",children:n.length}),D.jsx("p",{className:"text-[10px] font-bold text-surface-400 mt-0.5",children:" "})]}),D.jsxs("div",{className:"card p-3 text-center",children:[D.jsx("p",{className:"text-2xl font-black text-accent-500",children:Be.length}),D.jsx("p",{className:"text-[10px] font-bold text-surface-400 mt-0.5",children:" "})]}),D.jsxs("div",{className:"card p-3 text-center",children:[D.jsx("p",{className:"text-2xl font-black text-warn-500",children:xe.length}),D.jsx("p",{className:"text-[10px] font-bold text-surface-400 mt-0.5",children:""})]})]})}),D.jsxs("div",{className:"flex justify-between items-center mb-4 mt-2",children:[D.jsx("h3",{className:"font-extrabold text-surface-700 text-base",children:r?D.jsxs("span",{className:"flex items-center gap-2",children:[D.jsx("i",{className:"fas fa-search text-primary-400 text-sm"})," ",D.jsx("span",{className:"badge badge-primary",children:P.length})]}):" "}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("div",{className:"flex bg-surface-100 rounded-xl p-0.5 border border-surface-200",children:me.map(he=>D.jsxs("button",{onClick:()=>e({type:"SET_SORT_OPTION",payload:he.id}),className:`toggle-chip text-[11px] px-2.5 py-1.5 rounded-lg font-semibold flex items-center gap-1 ${s===he.id?"active":"text-surface-400"}`,children:[D.jsx("i",{className:`fas ${he.icon} text-[9px]`}),he.label]},he.id))}),D.jsxs("div",{className:"flex bg-surface-100 rounded-xl p-0.5 border border-surface-200",children:[D.jsx("button",{onClick:()=>e({type:"SET_VIEW_MODE",payload:"card"}),className:`toggle-chip w-8 h-8 rounded-lg flex items-center justify-center text-sm ${t.viewMode==="card"?"active":"text-surface-400"}`,children:D.jsx("i",{className:"fas fa-th-large text-xs"})}),D.jsx("button",{onClick:()=>e({type:"SET_VIEW_MODE",payload:"table"}),className:`toggle-chip w-8 h-8 rounded-lg flex items-center justify-center text-sm ${t.viewMode==="table"?"active":"text-surface-400"}`,children:D.jsx("i",{className:"fas fa-list text-xs"})})]})]})]}),D.jsx(U4,{items:P})]})}),n.length>0&&D.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center pointer-events-none z-40 safe-bottom",children:D.jsx("button",{onClick:()=>{A(),e({type:"TOGGLE_ADDING",payload:!0})},className:"pointer-events-auto w-14 h-14 rounded-2xl gradient-primary flex items-center justify-center text-white text-xl fab-shadow touch-feedback",children:D.jsx("i",{className:"fas fa-plus"})})}),o&&D.jsx("div",{className:"fullscreen-modal animate-fade-in",onClick:()=>e({type:"TOGGLE_ADDING",payload:!1}),children:D.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-[2rem] animate-slide-up flex flex-col safe-bottom safe-left safe-right",style:{maxHeight:"92vh",boxShadow:"0 -10px 40px rgba(0,0,0,0.12)"},onClick:he=>he.stopPropagation(),children:[D.jsx("div",{className:"flex justify-center pt-3 pb-1",children:D.jsx("div",{className:"w-10 h-1 rounded-full bg-surface-200"})}),D.jsxs("div",{className:"flex justify-between items-center px-6 pb-4",children:[D.jsx("button",{onClick:()=>e({type:"TOGGLE_ADDING",payload:!1}),className:"w-10 h-10 rounded-xl bg-surface-100 text-surface-400 flex items-center justify-center hover:bg-surface-200 transition-all touch-feedback",children:D.jsx("i",{className:"fas fa-times text-lg"})}),D.jsxs("h2",{className:"text-lg font-extrabold text-surface-800 flex items-center gap-2",children:[D.jsx("i",{className:"fas fa-plus-circle text-primary-400"}),"  "]}),D.jsx("div",{className:"w-10"})]}),D.jsx("div",{className:"overflow-y-auto flex-1 px-6 pb-6 mobile-scroll",children:D.jsx(V_,{onSubmit:S,submitLabel:"",isAnalyzing:f,performNameAnalysis:b,removeImage:W,handleImageUpload:J})})]})}),l&&D.jsx("div",{className:"fullscreen-modal animate-fade-in",onClick:()=>{e({type:"SET_SELECTED_ITEM",payload:null}),e({type:"TOGGLE_EDIT_MODE",payload:!1})},children:D.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-[2rem] animate-slide-up flex flex-col safe-bottom safe-left safe-right",style:{maxHeight:"92vh",boxShadow:"0 -10px 40px rgba(0,0,0,0.12)"},onClick:he=>he.stopPropagation(),children:[D.jsx("div",{className:"flex justify-center pt-3 pb-1",children:D.jsx("div",{className:"w-10 h-1 rounded-full bg-surface-200"})}),D.jsxs("div",{className:"flex justify-between items-center px-6 pb-4",children:[D.jsx("button",{onClick:()=>{e({type:"SET_SELECTED_ITEM",payload:null}),e({type:"TOGGLE_EDIT_MODE",payload:!1})},className:"w-10 h-10 rounded-xl bg-surface-100 text-surface-400 flex items-center justify-center hover:bg-surface-200 transition-all touch-feedback",children:D.jsx("i",{className:"fas fa-chevron-left text-lg"})}),D.jsx("h2",{className:"text-lg font-extrabold text-surface-800 flex items-center gap-2",children:c?D.jsxs(D.Fragment,{children:[D.jsx("i",{className:"fas fa-pen text-primary-400"})," "]}):D.jsxs(D.Fragment,{children:[D.jsx("i",{className:"fas fa-info-circle text-primary-400"}),"  "]})}),D.jsx("div",{className:"w-10"})]}),D.jsx("div",{className:"overflow-y-auto flex-1 px-6 pb-6 mobile-scroll",children:c?D.jsx(V_,{onSubmit:E,submitLabel:" ",isAnalyzing:f,performNameAnalysis:b,removeImage:W,handleImageUpload:J}):D.jsx(F4,{item:l,onEdit:I,onDelete:()=>Q(l.id)})})]})}),D.jsx(B4,{isOpen:T,onClose:()=>e({type:"TOGGLE_SETTINGS",payload:!1}),handleExportData:K,handleExportExcel:ae,handleImportData:ce})]})},zE=document.getElementById("root");if(!zE)throw new Error("Could not find root element to mount to");class c6 extends tx.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e,n;return this.state.hasError?D.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[D.jsx("h1",{children:"Something went wrong."}),D.jsx("pre",{children:(e=this.state.error)==null?void 0:e.toString()}),D.jsx("pre",{children:(n=this.state.error)==null?void 0:n.stack})]}):this.props.children}}const f6=lA.createRoot(zE);f6.render(D.jsx(tx.StrictMode,{children:D.jsx(c6,{children:D.jsx(L4,{children:D.jsx(u6,{})})})}));
