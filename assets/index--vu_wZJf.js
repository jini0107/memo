(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function tT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Id={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function jw(){if(jv)return el;jv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return el.Fragment=e,el.jsx=n,el.jsxs=n,el}var Zv;function Zw(){return Zv||(Zv=1,Id.exports=jw()),Id.exports}var K=Zw(),Dd={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function eA(){if(ey)return Je;ey=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function x(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function R(J,I,q){this.props=J,this.context=I,this.refs=w,this.updater=q||S}R.prototype.isReactComponent={},R.prototype.setState=function(J,I){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,I,"setState")},R.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function O(){}O.prototype=R.prototype;function N(J,I,q){this.props=J,this.context=I,this.refs=w,this.updater=q||S}var F=N.prototype=new O;F.constructor=N,E(F,R.prototype),F.isPureReactComponent=!0;var V=Array.isArray;function ne(){}var U={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function z(J,I,q){var B=q.ref;return{$$typeof:t,type:J,key:I,ref:B!==void 0?B:null,props:q}}function ae(J,I){return z(J.type,I,J.props)}function ce(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function me(J){var I={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(q){return I[q]})}var ue=/\/+/g;function ye(J,I){return typeof J=="object"&&J!==null&&J.key!=null?me(""+J.key):I.toString(36)}function Ee(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(ne,ne):(J.status="pending",J.then(function(I){J.status==="pending"&&(J.status="fulfilled",J.value=I)},function(I){J.status==="pending"&&(J.status="rejected",J.reason=I)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function X(J,I,q,B,G){var oe=typeof J;(oe==="undefined"||oe==="boolean")&&(J=null);var Se=!1;if(J===null)Se=!0;else switch(oe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(J.$$typeof){case t:case e:Se=!0;break;case m:return Se=J._init,X(Se(J._payload),I,q,B,G)}}if(Se)return G=G(J),Se=B===""?"."+ye(J,0):B,V(G)?(q="",Se!=null&&(q=Se.replace(ue,"$&/")+"/"),X(G,I,q,"",function(Ne){return Ne})):G!=null&&(ce(G)&&(G=ae(G,q+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace(ue,"$&/")+"/")+Se)),I.push(G)),1;Se=0;var Oe=B===""?".":B+":";if(V(J))for(var Re=0;Re<J.length;Re++)B=J[Re],oe=Oe+ye(B,Re),Se+=X(B,I,q,oe,G);else if(Re=x(J),typeof Re=="function")for(J=Re.call(J),Re=0;!(B=J.next()).done;)B=B.value,oe=Oe+ye(B,Re++),Se+=X(B,I,q,oe,G);else if(oe==="object"){if(typeof J.then=="function")return X(Ee(J),I,q,B,G);throw I=String(J),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Se}function fe(J,I,q){if(J==null)return J;var B=[],G=0;return X(J,B,"","",function(oe){return I.call(q,oe,G++)}),B}function be(J){if(J._status===-1){var I=J._result;I=I(),I.then(function(q){(J._status===0||J._status===-1)&&(J._status=1,J._result=q)},function(q){(J._status===0||J._status===-1)&&(J._status=2,J._result=q)}),J._status===-1&&(J._status=0,J._result=I)}if(J._status===1)return J._result.default;throw J._result}var ke=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},He={map:fe,forEach:function(J,I,q){fe(J,function(){I.apply(this,arguments)},q)},count:function(J){var I=0;return fe(J,function(){I++}),I},toArray:function(J){return fe(J,function(I){return I})||[]},only:function(J){if(!ce(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Je.Activity=_,Je.Children=He,Je.Component=R,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=N,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Je.__COMPILER_RUNTIME={__proto__:null,c:function(J){return U.H.useMemoCache(J)}},Je.cache=function(J){return function(){return J.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(J,I,q){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var B=E({},J.props),G=J.key;if(I!=null)for(oe in I.key!==void 0&&(G=""+I.key),I)!Z.call(I,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&I.ref===void 0||(B[oe]=I[oe]);var oe=arguments.length-2;if(oe===1)B.children=q;else if(1<oe){for(var Se=Array(oe),Oe=0;Oe<oe;Oe++)Se[Oe]=arguments[Oe+2];B.children=Se}return z(J.type,G,B)},Je.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},Je.createElement=function(J,I,q){var B,G={},oe=null;if(I!=null)for(B in I.key!==void 0&&(oe=""+I.key),I)Z.call(I,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(G[B]=I[B]);var Se=arguments.length-2;if(Se===1)G.children=q;else if(1<Se){for(var Oe=Array(Se),Re=0;Re<Se;Re++)Oe[Re]=arguments[Re+2];G.children=Oe}if(J&&J.defaultProps)for(B in Se=J.defaultProps,Se)G[B]===void 0&&(G[B]=Se[B]);return z(J,oe,G)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(J){return{$$typeof:c,render:J}},Je.isValidElement=ce,Je.lazy=function(J){return{$$typeof:m,_payload:{_status:-1,_result:J},_init:be}},Je.memo=function(J,I){return{$$typeof:h,type:J,compare:I===void 0?null:I}},Je.startTransition=function(J){var I=U.T,q={};U.T=q;try{var B=J(),G=U.S;G!==null&&G(q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(ne,ke)}catch(oe){ke(oe)}finally{I!==null&&q.types!==null&&(I.types=q.types),U.T=I}},Je.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Je.use=function(J){return U.H.use(J)},Je.useActionState=function(J,I,q){return U.H.useActionState(J,I,q)},Je.useCallback=function(J,I){return U.H.useCallback(J,I)},Je.useContext=function(J){return U.H.useContext(J)},Je.useDebugValue=function(){},Je.useDeferredValue=function(J,I){return U.H.useDeferredValue(J,I)},Je.useEffect=function(J,I){return U.H.useEffect(J,I)},Je.useEffectEvent=function(J){return U.H.useEffectEvent(J)},Je.useId=function(){return U.H.useId()},Je.useImperativeHandle=function(J,I,q){return U.H.useImperativeHandle(J,I,q)},Je.useInsertionEffect=function(J,I){return U.H.useInsertionEffect(J,I)},Je.useLayoutEffect=function(J,I){return U.H.useLayoutEffect(J,I)},Je.useMemo=function(J,I){return U.H.useMemo(J,I)},Je.useOptimistic=function(J,I){return U.H.useOptimistic(J,I)},Je.useReducer=function(J,I,q){return U.H.useReducer(J,I,q)},Je.useRef=function(J){return U.H.useRef(J)},Je.useState=function(J){return U.H.useState(J)},Je.useSyncExternalStore=function(J,I,q){return U.H.useSyncExternalStore(J,I,q)},Je.useTransition=function(){return U.H.useTransition()},Je.version="19.2.4",Je}var ty;function D0(){return ty||(ty=1,Dd.exports=eA()),Dd.exports}var gn=D0();const Ba=tT(gn);var Md={exports:{}},tl={},Od={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function tA(){return ny||(ny=1,(function(t){function e(X,fe){var be=X.length;X.push(fe);e:for(;0<be;){var ke=be-1>>>1,He=X[ke];if(0<s(He,fe))X[ke]=fe,X[be]=He,be=ke;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var fe=X[0],be=X.pop();if(be!==fe){X[0]=be;e:for(var ke=0,He=X.length,J=He>>>1;ke<J;){var I=2*(ke+1)-1,q=X[I],B=I+1,G=X[B];if(0>s(q,be))B<He&&0>s(G,q)?(X[ke]=G,X[B]=be,ke=B):(X[ke]=q,X[I]=be,ke=I);else if(B<He&&0>s(G,be))X[ke]=G,X[B]=be,ke=B;else break e}}return fe}function s(X,fe){var be=X.sortIndex-fe.sortIndex;return be!==0?be:X.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,_=null,y=3,x=!1,S=!1,E=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function F(X){for(var fe=n(h);fe!==null;){if(fe.callback===null)r(h);else if(fe.startTime<=X)r(h),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(h)}}function V(X){if(E=!1,F(X),!S)if(n(d)!==null)S=!0,ne||(ne=!0,me());else{var fe=n(h);fe!==null&&Ee(V,fe.startTime-X)}}var ne=!1,U=-1,Z=5,z=-1;function ae(){return w?!0:!(t.unstable_now()-z<Z)}function ce(){if(w=!1,ne){var X=t.unstable_now();z=X;var fe=!0;try{e:{S=!1,E&&(E=!1,O(U),U=-1),x=!0;var be=y;try{t:{for(F(X),_=n(d);_!==null&&!(_.expirationTime>X&&ae());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,y=_.priorityLevel;var He=ke(_.expirationTime<=X);if(X=t.unstable_now(),typeof He=="function"){_.callback=He,F(X),fe=!0;break t}_===n(d)&&r(d),F(X)}else r(d);_=n(d)}if(_!==null)fe=!0;else{var J=n(h);J!==null&&Ee(V,J.startTime-X),fe=!1}}break e}finally{_=null,y=be,x=!1}fe=void 0}}finally{fe?me():ne=!1}}}var me;if(typeof N=="function")me=function(){N(ce)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ye=ue.port2;ue.port1.onmessage=ce,me=function(){ye.postMessage(null)}}else me=function(){R(ce,0)};function Ee(X,fe){U=R(function(){X(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var be=y;y=fe;try{return X()}finally{y=be}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(X,fe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=y;y=X;try{return fe()}finally{y=be}},t.unstable_scheduleCallback=function(X,fe,be){var ke=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ke+be:ke):be=ke,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=be+He,X={id:m++,callback:fe,priorityLevel:X,startTime:be,expirationTime:He,sortIndex:-1},be>ke?(X.sortIndex=be,e(h,X),n(d)===null&&X===n(h)&&(E?(O(U),U=-1):E=!0,Ee(V,be-ke))):(X.sortIndex=He,e(d,X),S||x||(S=!0,ne||(ne=!0,me()))),X},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(X){var fe=y;return function(){var be=y;y=fe;try{return X.apply(this,arguments)}finally{y=be}}}})(kd)),kd}var ry;function nA(){return ry||(ry=1,Od.exports=tA()),Od.exports}var Ld={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function rA(){if(iy)return mn;iy=1;var t=D0();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},mn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},mn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},mn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},mn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,_=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},mn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,_=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},mn.requestFormReset=function(d){r.d.r(d)},mn.unstable_batchedUpdates=function(d,h){return d(h)},mn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},mn.useFormStatus=function(){return l.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var sy;function iA(){if(sy)return Ld.exports;sy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=rA(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function sA(){if(ay)return tl;ay=1;var t=nA(),e=D0(),n=iA();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,f=a;;){var v=u.return;if(v===null)break;var T=v.alternate;if(T===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===u)return d(v),i;if(T===f)return d(v),a;T=T.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=T;else{for(var A=!1,b=v.child;b;){if(b===u){A=!0,u=v,f=T;break}if(b===f){A=!0,f=v,u=T;break}b=b.sibling}if(!A){for(b=T.child;b;){if(b===u){A=!0,u=T,f=v;break}if(b===f){A=!0,f=T,u=v;break}b=b.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ue?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case V:return"Suspense";case ne:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case N:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return a=i.displayName||null,a!==null?a:ye(i.type)||"Memo";case Z:a=i._payload,i=i._init;try{return ye(i(a))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},ke=[],He=-1;function J(i){return{current:i}}function I(i){0>He||(i.current=ke[He],ke[He]=null,He--)}function q(i,a){He++,ke[He]=i.current,i.current=a}var B=J(null),G=J(null),oe=J(null),Se=J(null);function Oe(i,a){switch(q(oe,a),q(G,i),q(B,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?xv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=xv(a),i=Ev(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}I(B),q(B,i)}function Re(){I(B),I(G),I(oe)}function Ne(i){i.memoizedState!==null&&q(Se,i);var a=B.current,u=Ev(a,i.type);a!==u&&(q(G,i),q(B,u))}function rt(i){G.current===i&&(I(B),I(G)),Se.current===i&&(I(Se),Xo._currentValue=be)}var Qe,Wt;function Xe(i){if(Qe===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Qe=a&&a[1]||"",Wt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+Wt}var Fn=!1;function xt(i,a){if(!i||Fn)return"";Fn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var ie=le}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(le){ie=le}i.call(ve.prototype)}}else{try{throw Error()}catch(le){ie=le}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),A=T[0],b=T[1];if(A&&b){var H=A.split(`
`),j=b.split(`
`);for(v=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;v<j.length&&!j[v].includes("DetermineComponentFrameRoot");)v++;if(f===H.length||v===j.length)for(f=H.length-1,v=j.length-1;1<=f&&0<=v&&H[f]!==j[v];)v--;for(;1<=f&&0<=v;f--,v--)if(H[f]!==j[v]){if(f!==1||v!==1)do if(f--,v--,0>v||H[f]!==j[v]){var de=`
`+H[f].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=f&&0<=v);break}}}finally{Fn=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Xe(u):""}function Le(i,a){switch(i.tag){case 26:case 27:case 5:return Xe(i.type);case 16:return Xe("Lazy");case 13:return i.child!==a&&a!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return xt(i.type,!1);case 11:return xt(i.type.render,!1);case 1:return xt(i.type,!0);case 31:return Xe("Activity");default:return""}}function Tn(i){try{var a="",u=null;do a+=Le(i,u),u=i,i=i.return;while(i);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Bn=Object.prototype.hasOwnProperty,yr=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,Bl=t.unstable_shouldYield,ao=t.unstable_requestPaint,Rt=t.unstable_now,Bs=t.unstable_getCurrentPriorityLevel,Hs=t.unstable_ImmediatePriority,Gs=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,_f=t.unstable_LowPriority,oo=t.unstable_IdlePriority,Hl=t.log,Gl=t.unstable_setDisableYieldValue,yi=null,pn=null;function _r(i){if(typeof Hl=="function"&&Gl(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(yi,i)}catch{}}var xn=Math.clz32?Math.clz32:ql,Tf=Math.log,Vl=Math.LN2;function ql(i){return i>>>=0,i===0?32:31-(Tf(i)/Vl|0)|0}var es=256,Vs=262144,qs=4194304;function tr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zs(i,a,u){var f=i.pendingLanes;if(f===0)return 0;var v=0,T=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var b=f&134217727;return b!==0?(f=b&~T,f!==0?v=tr(f):(A&=b,A!==0?v=tr(A):u||(u=b&~i,u!==0&&(v=tr(u))))):(b=f&~T,b!==0?v=tr(b):A!==0?v=tr(A):u||(u=f&~i,u!==0&&(v=tr(u)))),v===0?0:a!==0&&a!==v&&(a&T)===0&&(T=v&-v,u=a&-a,T>=u||T===32&&(u&4194048)!==0)?a:v}function ts(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function xf(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zl(){var i=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),i}function lo(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function ns(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ef(i,a,u,f,v,T){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var b=i.entanglements,H=i.expirationTimes,j=i.hiddenUpdates;for(u=A&~u;0<u;){var de=31-xn(u),ve=1<<de;b[de]=0,H[de]=-1;var ie=j[de];if(ie!==null)for(j[de]=null,de=0;de<ie.length;de++){var le=ie[de];le!==null&&(le.lane&=-536870913)}u&=~ve}f!==0&&$l(i,f,0),T!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=T&~(A&~a))}function $l(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-xn(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|u&261930}function $s(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var f=31-xn(u),v=1<<f;v&a|i[f]&a&&(i[f]|=a),u&=~v}}function Jl(i,a){var u=a&-a;return u=(u&42)!==0?1:uo(u),(u&(i.suspendedLanes|a))!==0?0:u}function uo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function co(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function C(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:$v(i.type))}function L(i,a){var u=fe.p;try{return fe.p=i,a()}finally{fe.p=u}}var D=Math.random().toString(36).slice(2),M="__reactFiber$"+D,k="__reactProps$"+D,P="__reactContainer$"+D,ee="__reactEvents$"+D,pe="__reactListeners$"+D,te="__reactHandles$"+D,re="__reactResources$"+D,se="__reactMarker$"+D;function Te(i){delete i[M],delete i[k],delete i[ee],delete i[pe],delete i[te]}function we(i){var a=i[M];if(a)return a;for(var u=i.parentNode;u;){if(a=u[P]||u[M]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=Nv(i);i!==null;){if(u=i[M])return u;i=Nv(i)}return a}i=u,u=i.parentNode}return null}function De(i){if(i=i[M]||i[P]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function xe(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ie(i){var a=i[re];return a||(a=i[re]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ue(i){i[se]=!0}var Et=new Set,St={};function Nt(i,a){nr(i,a),nr(i+"Capture",a)}function nr(i,a){for(St[i]=a,i=0;i<a.length;i++)Et.add(a[i])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_i={},Lr={};function fo(i){return Bn.call(Lr,i)?!0:Bn.call(_i,i)?!1:rs.test(i)?Lr[i]=!0:(_i[i]=!0,!1)}function Rn(i,a,u){if(fo(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function Yl(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function qr(i,a,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+f)}}function rr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dp(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $E(i,a,u){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,T=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){u=""+A,T.call(this,A)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Sf(i){if(!i._valueTracker){var a=dp(i)?"checked":"value";i._valueTracker=$E(i,a,""+i[a])}}function pp(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return i&&(f=dp(i)?i.checked?"true":"false":i.value),i=f,i!==u?(a.setValue(i),!0):!1}function Kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var JE=/[\n"\\]/g;function ir(i){return i.replace(JE,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wf(i,a,u,f,v,T,A,b){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),a!=null?A==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+rr(a)):i.value!==""+rr(a)&&(i.value=""+rr(a)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),a!=null?Af(i,A,rr(a)):u!=null?Af(i,A,rr(u)):f!=null&&i.removeAttribute("value"),v==null&&T!=null&&(i.defaultChecked=!!T),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+rr(b):i.removeAttribute("name")}function mp(i,a,u,f,v,T,A,b){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.type=T),a!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||a!=null)){Sf(i);return}u=u!=null?""+rr(u):"",a=a!=null?""+rr(a):u,b||a===i.value||(i.value=a),i.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=b?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Sf(i)}function Af(i,a,u){a==="number"&&Kl(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Js(i,a,u,f){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&f&&(i[u].defaultSelected=!0)}else{for(u=""+rr(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function gp(i,a,u){if(a!=null&&(a=""+rr(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+rr(u):""}function vp(i,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(Ee(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=rr(a),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f),Sf(i)}function Ys(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var YE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yp(i,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,u):typeof u!="number"||u===0||YE.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function _p(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&yp(i,v,f)}else for(var T in a)a.hasOwnProperty(T)&&yp(i,T,a[T])}function Cf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(i){return WE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zr(){}var bf=null;function Rf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,Ws=null;function Tp(i){var a=De(i);if(a&&(i=a.stateNode)){var u=i[k]||null;e:switch(i=a.stateNode,a.type){case"input":if(wf(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ir(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==i&&f.form===i.form){var v=f[k]||null;if(!v)throw Error(r(90));wf(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===i.form&&pp(f)}break e;case"textarea":gp(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Js(i,!!u.multiple,a,!1)}}}var Nf=!1;function xp(i,a,u){if(Nf)return i(a,u);Nf=!0;try{var f=i(a);return f}finally{if(Nf=!1,(Ks!==null||Ws!==null)&&(Pu(),Ks&&(a=Ks,i=Ws,Ws=Ks=null,Tp(a),i)))for(a=0;a<i.length;a++)Tp(i[a])}}function ho(i,a){var u=i.stateNode;if(u===null)return null;var f=u[k]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=!1;if($r)try{var po={};Object.defineProperty(po,"passive",{get:function(){If=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{If=!1}var Ti=null,Df=null,Xl=null;function Ep(){if(Xl)return Xl;var i,a=Df,u=a.length,f,v="value"in Ti?Ti.value:Ti.textContent,T=v.length;for(i=0;i<u&&a[i]===v[i];i++);var A=u-i;for(f=1;f<=A&&a[u-f]===v[T-f];f++);return Xl=v.slice(i,1<f?1-f:void 0)}function Ql(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function jl(){return!0}function Sp(){return!1}function Nn(i){function a(u,f,v,T,A){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(u=i[b],this[b]=u?u(T):T[b]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?jl:Sp,this.isPropagationStopped=Sp,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Nn(is),mo=_({},is,{view:0,detail:0}),XE=Nn(mo),Mf,Of,go,eu=_({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==go&&(go&&i.type==="mousemove"?(Mf=i.screenX-go.screenX,Of=i.screenY-go.screenY):Of=Mf=0,go=i),Mf)},movementY:function(i){return"movementY"in i?i.movementY:Of}}),wp=Nn(eu),QE=_({},eu,{dataTransfer:0}),jE=Nn(QE),ZE=_({},mo,{relatedTarget:0}),kf=Nn(ZE),eS=_({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=Nn(eS),nS=_({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rS=Nn(nS),iS=_({},is,{data:0}),Ap=Nn(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lS(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=oS[i])?!!a[i]:!1}function Lf(){return lS}var uS=_({},mo,{key:function(i){if(i.key){var a=sS[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ql(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?aS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(i){return i.type==="keypress"?Ql(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ql(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cS=Nn(uS),fS=_({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=Nn(fS),hS=_({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),dS=Nn(hS),pS=_({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Nn(pS),gS=_({},eu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=Nn(gS),yS=_({},is,{newState:0,oldState:0}),_S=Nn(yS),TS=[9,13,27,32],Pf=$r&&"CompositionEvent"in window,vo=null;$r&&"documentMode"in document&&(vo=document.documentMode);var xS=$r&&"TextEvent"in window&&!vo,bp=$r&&(!Pf||vo&&8<vo&&11>=vo),Rp=" ",Np=!1;function Ip(i,a){switch(i){case"keyup":return TS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xs=!1;function ES(i,a){switch(i){case"compositionend":return Dp(a);case"keypress":return a.which!==32?null:(Np=!0,Rp);case"textInput":return i=a.data,i===Rp&&Np?null:i;default:return null}}function SS(i,a){if(Xs)return i==="compositionend"||!Pf&&Ip(i,a)?(i=Ep(),Xl=Df=Ti=null,Xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bp&&a.locale!=="ko"?null:a.data;default:return null}}var wS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!wS[i.type]:a==="textarea"}function Op(i,a,u,f){Ks?Ws?Ws.push(f):Ws=[f]:Ks=f,a=qu(a,"onChange"),0<a.length&&(u=new Zl("onChange","change",null,u,f),i.push({event:u,listeners:a}))}var yo=null,_o=null;function AS(i){mv(i,0)}function tu(i){var a=xe(i);if(pp(a))return i}function kp(i,a){if(i==="change")return a}var Lp=!1;if($r){var Uf;if($r){var Ff="oninput"in document;if(!Ff){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Ff=typeof Pp.oninput=="function"}Uf=Ff}else Uf=!1;Lp=Uf&&(!document.documentMode||9<document.documentMode)}function Up(){yo&&(yo.detachEvent("onpropertychange",Fp),_o=yo=null)}function Fp(i){if(i.propertyName==="value"&&tu(_o)){var a=[];Op(a,_o,i,Rf(i)),xp(AS,a)}}function CS(i,a,u){i==="focusin"?(Up(),yo=a,_o=u,yo.attachEvent("onpropertychange",Fp)):i==="focusout"&&Up()}function bS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tu(_o)}function RS(i,a){if(i==="click")return tu(a)}function NS(i,a){if(i==="input"||i==="change")return tu(a)}function IS(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Hn=typeof Object.is=="function"?Object.is:IS;function To(i,a){if(Hn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Bn.call(a,v)||!Hn(i[v],a[v]))return!1}return!0}function Bp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hp(i,a){var u=Bp(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=a&&f>=a)return{node:u,offset:a-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bp(u)}}function Gp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Gp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Vp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Kl(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Kl(i.document)}return a}function Bf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var DS=$r&&"documentMode"in document&&11>=document.documentMode,Qs=null,Hf=null,xo=null,Gf=!1;function qp(i,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gf||Qs==null||Qs!==Kl(f)||(f=Qs,"selectionStart"in f&&Bf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xo&&To(xo,f)||(xo=f,f=qu(Hf,"onSelect"),0<f.length&&(a=new Zl("onSelect","select",null,a,u),i.push({event:a,listeners:f}),a.target=Qs)))}function ss(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var js={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Vf={},zp={};$r&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function as(i){if(Vf[i])return Vf[i];if(!js[i])return i;var a=js[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in zp)return Vf[i]=a[u];return i}var $p=as("animationend"),Jp=as("animationiteration"),Yp=as("animationstart"),MS=as("transitionrun"),OS=as("transitionstart"),kS=as("transitioncancel"),Kp=as("transitionend"),Wp=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function Tr(i,a){Wp.set(i,a),Nt(a,[i])}var nu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},sr=[],Zs=0,zf=0;function ru(){for(var i=Zs,a=zf=Zs=0;a<i;){var u=sr[a];sr[a++]=null;var f=sr[a];sr[a++]=null;var v=sr[a];sr[a++]=null;var T=sr[a];if(sr[a++]=null,f!==null&&v!==null){var A=f.pending;A===null?v.next=v:(v.next=A.next,A.next=v),f.pending=v}T!==0&&Xp(u,v,T)}}function iu(i,a,u,f){sr[Zs++]=i,sr[Zs++]=a,sr[Zs++]=u,sr[Zs++]=f,zf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function $f(i,a,u,f){return iu(i,a,u,f),su(i)}function os(i,a){return iu(i,null,null,a),su(i)}function Xp(i,a,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var v=!1,T=i.return;T!==null;)T.childLanes|=u,f=T.alternate,f!==null&&(f.childLanes|=u),T.tag===22&&(i=T.stateNode,i===null||i._visibility&1||(v=!0)),i=T,T=T.return;return i.tag===3?(T=i.stateNode,v&&a!==null&&(v=31-xn(u),i=T.hiddenUpdates,f=i[v],f===null?i[v]=[a]:f.push(a),a.lane=u|536870912),T):null}function su(i){if(50<qo)throw qo=0,ed=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ea={};function LS(i,a,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(i,a,u,f){return new LS(i,a,u,f)}function Jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jr(i,a){var u=i.alternate;return u===null?(u=Gn(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Qp(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function au(i,a,u,f,v,T){var A=0;if(f=i,typeof i=="function")Jf(i)&&(A=1);else if(typeof i=="string")A=Hw(i,u,B.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=Gn(31,u,a,v),i.elementType=z,i.lanes=T,i;case E:return ls(u.children,v,T,a);case w:A=8,v|=24;break;case R:return i=Gn(12,u,a,v|2),i.elementType=R,i.lanes=T,i;case V:return i=Gn(13,u,a,v),i.elementType=V,i.lanes=T,i;case ne:return i=Gn(19,u,a,v),i.elementType=ne,i.lanes=T,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:A=10;break e;case O:A=9;break e;case F:A=11;break e;case U:A=14;break e;case Z:A=16,f=null;break e}A=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Gn(A,u,a,v),a.elementType=i,a.type=f,a.lanes=T,a}function ls(i,a,u,f){return i=Gn(7,i,f,a),i.lanes=u,i}function Yf(i,a,u){return i=Gn(6,i,null,a),i.lanes=u,i}function jp(i){var a=Gn(18,null,null,0);return a.stateNode=i,a}function Kf(i,a,u){return a=Gn(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Zp=new WeakMap;function ar(i,a){if(typeof i=="object"&&i!==null){var u=Zp.get(i);return u!==void 0?u:(a={value:i,source:a,stack:Tn(a)},Zp.set(i,a),a)}return{value:i,source:a,stack:Tn(a)}}var ta=[],na=0,ou=null,Eo=0,or=[],lr=0,xi=null,Pr=1,Ur="";function Yr(i,a){ta[na++]=Eo,ta[na++]=ou,ou=i,Eo=a}function em(i,a,u){or[lr++]=Pr,or[lr++]=Ur,or[lr++]=xi,xi=i;var f=Pr;i=Ur;var v=32-xn(f)-1;f&=~(1<<v),u+=1;var T=32-xn(a)+v;if(30<T){var A=v-v%5;T=(f&(1<<A)-1).toString(32),f>>=A,v-=A,Pr=1<<32-xn(a)+v|u<<v|f,Ur=T+i}else Pr=1<<T|u<<v|f,Ur=i}function Wf(i){i.return!==null&&(Yr(i,1),em(i,1,0))}function Xf(i){for(;i===ou;)ou=ta[--na],ta[na]=null,Eo=ta[--na],ta[na]=null;for(;i===xi;)xi=or[--lr],or[lr]=null,Ur=or[--lr],or[lr]=null,Pr=or[--lr],or[lr]=null}function tm(i,a){or[lr++]=Pr,or[lr++]=Ur,or[lr++]=xi,Pr=a.id,Ur=a.overflow,xi=i}var tn=null,At=null,nt=!1,Ei=null,ur=!1,Qf=Error(r(519));function Si(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw So(ar(a,i)),Qf}function nm(i){var a=i.stateNode,u=i.type,f=i.memoizedProps;switch(a[M]=i,a[k]=f,u){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<$o.length;u++)Ze($o[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),mp(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),vp(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||_v(a.textContent,u)?(f.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),f.onScroll!=null&&Ze("scroll",a),f.onScrollEnd!=null&&Ze("scrollend",a),f.onClick!=null&&(a.onclick=zr),a=!0):a=!1,a||Si(i,!0)}function rm(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:tn=tn.return}}function ra(i){if(i!==tn)return!1;if(!nt)return rm(i),nt=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||md(i.type,i.memoizedProps)),u=!u),u&&At&&Si(i),rm(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=Rv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));At=Rv(i)}else a===27?(a=At,Ui(i.type)?(i=Td,Td=null,At=i):At=a):At=tn?fr(i.stateNode.nextSibling):null;return!0}function us(){At=tn=null,nt=!1}function jf(){var i=Ei;return i!==null&&(On===null?On=i:On.push.apply(On,i),Ei=null),i}function So(i){Ei===null?Ei=[i]:Ei.push(i)}var Zf=J(null),cs=null,Kr=null;function wi(i,a,u){q(Zf,a._currentValue),a._currentValue=u}function Wr(i){i._currentValue=Zf.current,I(Zf)}function eh(i,a,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===u)break;i=i.return}}function th(i,a,u,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){var A=v.child;T=T.firstContext;e:for(;T!==null;){var b=T;T=v;for(var H=0;H<a.length;H++)if(b.context===a[H]){T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),eh(T.return,u,i),f||(A=null);break e}T=b.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=u,T=A.alternate,T!==null&&(T.lanes|=u),eh(A,u,i),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===i){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function ia(i,a,u,f){i=null;for(var v=a,T=!1;v!==null;){if(!T){if((v.flags&524288)!==0)T=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var b=v.type;Hn(v.pendingProps.value,A.value)||(i!==null?i.push(b):i=[b])}}else if(v===Se.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Xo):i=[Xo])}v=v.return}i!==null&&th(a,i,u,f),a.flags|=262144}function lu(i){for(i=i.firstContext;i!==null;){if(!Hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fs(i){cs=i,Kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return im(cs,i)}function uu(i,a){return cs===null&&fs(i),im(i,a)}function im(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Kr===null){if(i===null)throw Error(r(308));Kr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Kr=Kr.next=a;return u}var PS=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},US=t.unstable_scheduleCallback,FS=t.unstable_NormalPriority,Ft={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new PS,data:new Map,refCount:0}}function wo(i){i.refCount--,i.refCount===0&&US(FS,function(){i.controller.abort()})}var Ao=null,rh=0,sa=0,aa=null;function BS(i,a){if(Ao===null){var u=Ao=[];rh=0,sa=ad(),aa={status:"pending",value:void 0,then:function(f){u.push(f)}}}return rh++,a.then(sm,sm),a}function sm(){if(--rh===0&&Ao!==null){aa!==null&&(aa.status="fulfilled");var i=Ao;Ao=null,sa=0,aa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function HS(i,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var am=X.S;X.S=function(i,a){qg=Rt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&BS(i,a),am!==null&&am(i,a)};var hs=J(null);function ih(){var i=hs.current;return i!==null?i:Tt.pooledCache}function cu(i,a){a===null?q(hs,hs.current):q(hs,a.pool)}function om(){var i=ih();return i===null?null:{parent:Ft._currentValue,pool:i}}var oa=Error(r(460)),sh=Error(r(474)),fu=Error(r(542)),hu={then:function(){}};function lm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function um(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(zr,zr),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fm(i),i;default:if(typeof a.status=="string")a.then(zr,zr);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,fm(i),i}throw ps=a,oa}}function ds(i){try{var a=i._init;return a(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ps=u,oa):u}}var ps=null;function cm(){if(ps===null)throw Error(r(459));var i=ps;return ps=null,i}function fm(i){if(i===oa||i===fu)throw Error(r(483))}var la=null,Co=0;function du(i){var a=Co;return Co+=1,la===null&&(la=[]),um(la,i,a)}function bo(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function pu(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function hm(i){function a(W,Y){if(i){var Q=W.deletions;Q===null?(W.deletions=[Y],W.flags|=16):Q.push(Y)}}function u(W,Y){if(!i)return null;for(;Y!==null;)a(W,Y),Y=Y.sibling;return null}function f(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function v(W,Y){return W=Jr(W,Y),W.index=0,W.sibling=null,W}function T(W,Y,Q){return W.index=Q,i?(Q=W.alternate,Q!==null?(Q=Q.index,Q<Y?(W.flags|=67108866,Y):Q):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function A(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function b(W,Y,Q,ge){return Y===null||Y.tag!==6?(Y=Yf(Q,W.mode,ge),Y.return=W,Y):(Y=v(Y,Q),Y.return=W,Y)}function H(W,Y,Q,ge){var Ge=Q.type;return Ge===E?de(W,Y,Q.props.children,ge,Q.key):Y!==null&&(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Z&&ds(Ge)===Y.type)?(Y=v(Y,Q.props),bo(Y,Q),Y.return=W,Y):(Y=au(Q.type,Q.key,Q.props,null,W.mode,ge),bo(Y,Q),Y.return=W,Y)}function j(W,Y,Q,ge){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=Kf(Q,W.mode,ge),Y.return=W,Y):(Y=v(Y,Q.children||[]),Y.return=W,Y)}function de(W,Y,Q,ge,Ge){return Y===null||Y.tag!==7?(Y=ls(Q,W.mode,ge,Ge),Y.return=W,Y):(Y=v(Y,Q),Y.return=W,Y)}function ve(W,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Yf(""+Y,W.mode,Q),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Q=au(Y.type,Y.key,Y.props,null,W.mode,Q),bo(Q,Y),Q.return=W,Q;case S:return Y=Kf(Y,W.mode,Q),Y.return=W,Y;case Z:return Y=ds(Y),ve(W,Y,Q)}if(Ee(Y)||me(Y))return Y=ls(Y,W.mode,Q,null),Y.return=W,Y;if(typeof Y.then=="function")return ve(W,du(Y),Q);if(Y.$$typeof===N)return ve(W,uu(W,Y),Q);pu(W,Y)}return null}function ie(W,Y,Q,ge){var Ge=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ge!==null?null:b(W,Y,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ge?H(W,Y,Q,ge):null;case S:return Q.key===Ge?j(W,Y,Q,ge):null;case Z:return Q=ds(Q),ie(W,Y,Q,ge)}if(Ee(Q)||me(Q))return Ge!==null?null:de(W,Y,Q,ge,null);if(typeof Q.then=="function")return ie(W,Y,du(Q),ge);if(Q.$$typeof===N)return ie(W,Y,uu(W,Q),ge);pu(W,Q)}return null}function le(W,Y,Q,ge,Ge){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return W=W.get(Q)||null,b(Y,W,""+ge,Ge);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return W=W.get(ge.key===null?Q:ge.key)||null,H(Y,W,ge,Ge);case S:return W=W.get(ge.key===null?Q:ge.key)||null,j(Y,W,ge,Ge);case Z:return ge=ds(ge),le(W,Y,Q,ge,Ge)}if(Ee(ge)||me(ge))return W=W.get(Q)||null,de(Y,W,ge,Ge,null);if(typeof ge.then=="function")return le(W,Y,Q,du(ge),Ge);if(ge.$$typeof===N)return le(W,Y,Q,uu(Y,ge),Ge);pu(Y,ge)}return null}function Pe(W,Y,Q,ge){for(var Ge=null,it=null,Fe=Y,Ke=Y=0,tt=null;Fe!==null&&Ke<Q.length;Ke++){Fe.index>Ke?(tt=Fe,Fe=null):tt=Fe.sibling;var st=ie(W,Fe,Q[Ke],ge);if(st===null){Fe===null&&(Fe=tt);break}i&&Fe&&st.alternate===null&&a(W,Fe),Y=T(st,Y,Ke),it===null?Ge=st:it.sibling=st,it=st,Fe=tt}if(Ke===Q.length)return u(W,Fe),nt&&Yr(W,Ke),Ge;if(Fe===null){for(;Ke<Q.length;Ke++)Fe=ve(W,Q[Ke],ge),Fe!==null&&(Y=T(Fe,Y,Ke),it===null?Ge=Fe:it.sibling=Fe,it=Fe);return nt&&Yr(W,Ke),Ge}for(Fe=f(Fe);Ke<Q.length;Ke++)tt=le(Fe,W,Ke,Q[Ke],ge),tt!==null&&(i&&tt.alternate!==null&&Fe.delete(tt.key===null?Ke:tt.key),Y=T(tt,Y,Ke),it===null?Ge=tt:it.sibling=tt,it=tt);return i&&Fe.forEach(function(Vi){return a(W,Vi)}),nt&&Yr(W,Ke),Ge}function Ve(W,Y,Q,ge){if(Q==null)throw Error(r(151));for(var Ge=null,it=null,Fe=Y,Ke=Y=0,tt=null,st=Q.next();Fe!==null&&!st.done;Ke++,st=Q.next()){Fe.index>Ke?(tt=Fe,Fe=null):tt=Fe.sibling;var Vi=ie(W,Fe,st.value,ge);if(Vi===null){Fe===null&&(Fe=tt);break}i&&Fe&&Vi.alternate===null&&a(W,Fe),Y=T(Vi,Y,Ke),it===null?Ge=Vi:it.sibling=Vi,it=Vi,Fe=tt}if(st.done)return u(W,Fe),nt&&Yr(W,Ke),Ge;if(Fe===null){for(;!st.done;Ke++,st=Q.next())st=ve(W,st.value,ge),st!==null&&(Y=T(st,Y,Ke),it===null?Ge=st:it.sibling=st,it=st);return nt&&Yr(W,Ke),Ge}for(Fe=f(Fe);!st.done;Ke++,st=Q.next())st=le(Fe,W,Ke,st.value,ge),st!==null&&(i&&st.alternate!==null&&Fe.delete(st.key===null?Ke:st.key),Y=T(st,Y,Ke),it===null?Ge=st:it.sibling=st,it=st);return i&&Fe.forEach(function(Qw){return a(W,Qw)}),nt&&Yr(W,Ke),Ge}function yt(W,Y,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ge=Q.key;Y!==null;){if(Y.key===Ge){if(Ge=Q.type,Ge===E){if(Y.tag===7){u(W,Y.sibling),ge=v(Y,Q.props.children),ge.return=W,W=ge;break e}}else if(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Z&&ds(Ge)===Y.type){u(W,Y.sibling),ge=v(Y,Q.props),bo(ge,Q),ge.return=W,W=ge;break e}u(W,Y);break}else a(W,Y);Y=Y.sibling}Q.type===E?(ge=ls(Q.props.children,W.mode,ge,Q.key),ge.return=W,W=ge):(ge=au(Q.type,Q.key,Q.props,null,W.mode,ge),bo(ge,Q),ge.return=W,W=ge)}return A(W);case S:e:{for(Ge=Q.key;Y!==null;){if(Y.key===Ge)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){u(W,Y.sibling),ge=v(Y,Q.children||[]),ge.return=W,W=ge;break e}else{u(W,Y);break}else a(W,Y);Y=Y.sibling}ge=Kf(Q,W.mode,ge),ge.return=W,W=ge}return A(W);case Z:return Q=ds(Q),yt(W,Y,Q,ge)}if(Ee(Q))return Pe(W,Y,Q,ge);if(me(Q)){if(Ge=me(Q),typeof Ge!="function")throw Error(r(150));return Q=Ge.call(Q),Ve(W,Y,Q,ge)}if(typeof Q.then=="function")return yt(W,Y,du(Q),ge);if(Q.$$typeof===N)return yt(W,Y,uu(W,Q),ge);pu(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(u(W,Y.sibling),ge=v(Y,Q),ge.return=W,W=ge):(u(W,Y),ge=Yf(Q,W.mode,ge),ge.return=W,W=ge),A(W)):u(W,Y)}return function(W,Y,Q,ge){try{Co=0;var Ge=yt(W,Y,Q,ge);return la=null,Ge}catch(Fe){if(Fe===oa||Fe===fu)throw Fe;var it=Gn(29,Fe,null,W.mode);return it.lanes=ge,it.return=W,it}finally{}}}var ms=hm(!0),dm=hm(!1),Ai=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bi(i,a,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(lt&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=su(i),Xp(i,null,u),a}return iu(i,f,a,u),su(i)}function Ro(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,$s(i,u)}}function lh(i,a){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?v=T=A:T=T.next=A,u=u.next}while(u!==null);T===null?v=T=a:T=T.next=a}else v=T=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var uh=!1;function No(){if(uh){var i=aa;if(i!==null)throw i}}function Io(i,a,u,f){uh=!1;var v=i.updateQueue;Ai=!1;var T=v.firstBaseUpdate,A=v.lastBaseUpdate,b=v.shared.pending;if(b!==null){v.shared.pending=null;var H=b,j=H.next;H.next=null,A===null?T=j:A.next=j,A=H;var de=i.alternate;de!==null&&(de=de.updateQueue,b=de.lastBaseUpdate,b!==A&&(b===null?de.firstBaseUpdate=j:b.next=j,de.lastBaseUpdate=H))}if(T!==null){var ve=v.baseState;A=0,de=j=H=null,b=T;do{var ie=b.lane&-536870913,le=ie!==b.lane;if(le?(et&ie)===ie:(f&ie)===ie){ie!==0&&ie===sa&&(uh=!0),de!==null&&(de=de.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Pe=i,Ve=b;ie=a;var yt=u;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){ve=Pe.call(yt,ve,ie);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,ie=typeof Pe=="function"?Pe.call(yt,ve,ie):Pe,ie==null)break e;ve=_({},ve,ie);break e;case 2:Ai=!0}}ie=b.callback,ie!==null&&(i.flags|=64,le&&(i.flags|=8192),le=v.callbacks,le===null?v.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:b.tag,payload:b.payload,callback:b.callback,next:null},de===null?(j=de=le,H=ve):de=de.next=le,A|=ie;if(b=b.next,b===null){if(b=v.shared.pending,b===null)break;le=b,b=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);de===null&&(H=ve),v.baseState=H,v.firstBaseUpdate=j,v.lastBaseUpdate=de,T===null&&(v.shared.lanes=0),Mi|=A,i.lanes=A,i.memoizedState=ve}}function pm(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function mm(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)pm(u[i],a)}var ua=J(null),mu=J(0);function gm(i,a){i=ii,q(mu,i),q(ua,a),ii=i|a.baseLanes}function ch(){q(mu,ii),q(ua,ua.current)}function fh(){ii=mu.current,I(ua),I(mu)}var Vn=J(null),cr=null;function Ri(i){var a=i.alternate;q(Pt,Pt.current&1),q(Vn,i),cr===null&&(a===null||ua.current!==null||a.memoizedState!==null)&&(cr=i)}function hh(i){q(Pt,Pt.current),q(Vn,i),cr===null&&(cr=i)}function vm(i){i.tag===22?(q(Pt,Pt.current),q(Vn,i),cr===null&&(cr=i)):Ni()}function Ni(){q(Pt,Pt.current),q(Vn,Vn.current)}function qn(i){I(Vn),cr===i&&(cr=null),I(Pt)}var Pt=J(0);function gu(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||yd(u)||_d(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xr=0,Ye=null,gt=null,Bt=null,vu=!1,ca=!1,gs=!1,yu=0,Do=0,fa=null,GS=0;function Dt(){throw Error(r(321))}function dh(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Hn(i[u],a[u]))return!1;return!0}function ph(i,a,u,f,v,T){return Xr=T,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=i===null||i.memoizedState===null?eg:Nh,gs=!1,T=u(f,v),gs=!1,ca&&(T=_m(a,u,f,v)),ym(i),T}function ym(i){X.H=ko;var a=gt!==null&&gt.next!==null;if(Xr=0,Bt=gt=Ye=null,vu=!1,Do=0,fa=null,a)throw Error(r(300));i===null||Ht||(i=i.dependencies,i!==null&&lu(i)&&(Ht=!0))}function _m(i,a,u,f){Ye=i;var v=0;do{if(ca&&(fa=null),Do=0,ca=!1,25<=v)throw Error(r(301));if(v+=1,Bt=gt=null,i.updateQueue!=null){var T=i.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=tg,T=a(u,f)}while(ca);return T}function VS(){var i=X.H,a=i.useState()[0];return a=typeof a.then=="function"?Mo(a):a,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ye.flags|=1024),a}function mh(){var i=yu!==0;return yu=0,i}function gh(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function vh(i){if(vu){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}vu=!1}Xr=0,Bt=gt=Ye=null,ca=!1,Do=yu=0,fa=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ye.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function Ut(){if(gt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var a=Bt===null?Ye.memoizedState:Bt.next;if(a!==null)Bt=a,gt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Bt===null?Ye.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var a=Do;return Do+=1,fa===null&&(fa=[]),i=um(fa,i,a),a=Ye,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?eg:Nh),i}function Tu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===N)return nn(i)}throw Error(r(438,String(i)))}function yh(i){var a=null,u=Ye.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=Ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=_u(),Ye.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),f=0;f<i;f++)u[f]=ae;return a.index++,u}function Qr(i,a){return typeof a=="function"?a(i):a}function xu(i){var a=Ut();return _h(a,gt,i)}function _h(i,a,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=i.baseQueue,T=f.pending;if(T!==null){if(v!==null){var A=v.next;v.next=T.next,T.next=A}a.baseQueue=v=T,f.pending=null}if(T=i.baseState,v===null)i.memoizedState=T;else{a=v.next;var b=A=null,H=null,j=a,de=!1;do{var ve=j.lane&-536870913;if(ve!==j.lane?(et&ve)===ve:(Xr&ve)===ve){var ie=j.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ve===sa&&(de=!0);else if((Xr&ie)===ie){j=j.next,ie===sa&&(de=!0);continue}else ve={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},H===null?(b=H=ve,A=T):H=H.next=ve,Ye.lanes|=ie,Mi|=ie;ve=j.action,gs&&u(T,ve),T=j.hasEagerState?j.eagerState:u(T,ve)}else ie={lane:ve,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},H===null?(b=H=ie,A=T):H=H.next=ie,Ye.lanes|=ve,Mi|=ve;j=j.next}while(j!==null&&j!==a);if(H===null?A=T:H.next=b,!Hn(T,i.memoizedState)&&(Ht=!0,de&&(u=aa,u!==null)))throw u;i.memoizedState=T,i.baseState=A,i.baseQueue=H,f.lastRenderedState=T}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Th(i){var a=Ut(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,v=u.pending,T=a.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do T=i(T,A.action),A=A.next;while(A!==v);Hn(T,a.memoizedState)||(Ht=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,f]}function Tm(i,a,u){var f=Ye,v=Ut(),T=nt;if(T){if(u===void 0)throw Error(r(407));u=u()}else u=a();var A=!Hn((gt||v).memoizedState,u);if(A&&(v.memoizedState=u,Ht=!0),v=v.queue,Sh(Sm.bind(null,f,v,i),[i]),v.getSnapshot!==a||A||Bt!==null&&Bt.memoizedState.tag&1){if(f.flags|=2048,ha(9,{destroy:void 0},Em.bind(null,f,v,u,a),null),Tt===null)throw Error(r(349));T||(Xr&127)!==0||xm(f,a,u)}return u}function xm(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ye.updateQueue,a===null?(a=_u(),Ye.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Em(i,a,u,f){a.value=u,a.getSnapshot=f,wm(a)&&Am(i)}function Sm(i,a,u){return u(function(){wm(a)&&Am(i)})}function wm(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Hn(i,u)}catch{return!0}}function Am(i){var a=os(i,2);a!==null&&kn(a,i,2)}function xh(i){var a=En();if(typeof i=="function"){var u=i;if(i=u(),gs){_r(!0);try{u()}finally{_r(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:i},a}function Cm(i,a,u,f){return i.baseState=u,_h(i,gt,typeof f=="function"?f:Qr)}function qS(i,a,u,f,v){if(wu(i))throw Error(r(485));if(i=a.action,i!==null){var T={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){T.listeners.push(A)}};X.T!==null?u(!0):T.isTransition=!1,f(T),u=a.pending,u===null?(T.next=a.pending=T,bm(a,T)):(T.next=u.next,a.pending=u.next=T)}}function bm(i,a){var u=a.action,f=a.payload,v=i.state;if(a.isTransition){var T=X.T,A={};X.T=A;try{var b=u(v,f),H=X.S;H!==null&&H(A,b),Rm(i,a,b)}catch(j){Eh(i,a,j)}finally{T!==null&&A.types!==null&&(T.types=A.types),X.T=T}}else try{T=u(v,f),Rm(i,a,T)}catch(j){Eh(i,a,j)}}function Rm(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Nm(i,a,f)},function(f){return Eh(i,a,f)}):Nm(i,a,u)}function Nm(i,a,u){a.status="fulfilled",a.value=u,Im(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,bm(i,u)))}function Eh(i,a,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,Im(a),a=a.next;while(a!==f)}i.action=null}function Im(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Dm(i,a){return a}function Mm(i,a){if(nt){var u=Tt.formState;if(u!==null){e:{var f=Ye;if(nt){if(At){t:{for(var v=At,T=ur;v.nodeType!==8;){if(!T){v=null;break t}if(v=fr(v.nextSibling),v===null){v=null;break t}}T=v.data,v=T==="F!"||T==="F"?v:null}if(v){At=fr(v.nextSibling),f=v.data==="F!";break e}}Si(f)}f=!1}f&&(a=u[0])}}return u=En(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:a},u.queue=f,u=Qm.bind(null,Ye,f),f.dispatch=u,f=xh(!1),T=Rh.bind(null,Ye,!1,f.queue),f=En(),v={state:a,dispatch:null,action:i,pending:null},f.queue=v,u=qS.bind(null,Ye,v,T,u),v.dispatch=u,f.memoizedState=i,[a,u,!1]}function Om(i){var a=Ut();return km(a,gt,i)}function km(i,a,u){if(a=_h(i,a,Dm)[0],i=xu(Qr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Mo(a)}catch(A){throw A===oa?fu:A}else f=a;a=Ut();var v=a.queue,T=v.dispatch;return u!==a.memoizedState&&(Ye.flags|=2048,ha(9,{destroy:void 0},zS.bind(null,v,u),null)),[f,T,i]}function zS(i,a){i.action=a}function Lm(i){var a=Ut(),u=gt;if(u!==null)return km(a,u,i);Ut(),a=a.memoizedState,u=Ut();var f=u.queue.dispatch;return u.memoizedState=i,[a,f,!1]}function ha(i,a,u,f){return i={tag:i,create:u,deps:f,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=_u(),Ye.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,a.lastEffect=i),i}function Pm(){return Ut().memoizedState}function Eu(i,a,u,f){var v=En();Ye.flags|=i,v.memoizedState=ha(1|a,{destroy:void 0},u,f===void 0?null:f)}function Su(i,a,u,f){var v=Ut();f=f===void 0?null:f;var T=v.memoizedState.inst;gt!==null&&f!==null&&dh(f,gt.memoizedState.deps)?v.memoizedState=ha(a,T,u,f):(Ye.flags|=i,v.memoizedState=ha(1|a,T,u,f))}function Um(i,a){Eu(8390656,8,i,a)}function Sh(i,a){Su(2048,8,i,a)}function $S(i){Ye.flags|=4;var a=Ye.updateQueue;if(a===null)a=_u(),Ye.updateQueue=a,a.events=[i];else{var u=a.events;u===null?a.events=[i]:u.push(i)}}function Fm(i){var a=Ut().memoizedState;return $S({ref:a,nextImpl:i}),function(){if((lt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Bm(i,a){return Su(4,2,i,a)}function Hm(i,a){return Su(4,4,i,a)}function Gm(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Vm(i,a,u){u=u!=null?u.concat([i]):null,Su(4,4,Gm.bind(null,a,i),u)}function wh(){}function qm(i,a){var u=Ut();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&dh(a,f[1])?f[0]:(u.memoizedState=[i,a],i)}function zm(i,a){var u=Ut();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&dh(a,f[1]))return f[0];if(f=i(),gs){_r(!0);try{i()}finally{_r(!1)}}return u.memoizedState=[f,a],f}function Ah(i,a,u){return u===void 0||(Xr&1073741824)!==0&&(et&261930)===0?i.memoizedState=a:(i.memoizedState=u,i=$g(),Ye.lanes|=i,Mi|=i,u)}function $m(i,a,u,f){return Hn(u,a)?u:ua.current!==null?(i=Ah(i,u,f),Hn(i,a)||(Ht=!0),i):(Xr&42)===0||(Xr&1073741824)!==0&&(et&261930)===0?(Ht=!0,i.memoizedState=u):(i=$g(),Ye.lanes|=i,Mi|=i,a)}function Jm(i,a,u,f,v){var T=fe.p;fe.p=T!==0&&8>T?T:8;var A=X.T,b={};X.T=b,Rh(i,!1,a,u);try{var H=v(),j=X.S;if(j!==null&&j(b,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=HS(H,f);Oo(i,a,de,Jn(i))}else Oo(i,a,f,Jn(i))}catch(ve){Oo(i,a,{then:function(){},status:"rejected",reason:ve},Jn())}finally{fe.p=T,A!==null&&b.types!==null&&(A.types=b.types),X.T=A}}function JS(){}function Ch(i,a,u,f){if(i.tag!==5)throw Error(r(476));var v=Ym(i).queue;Jm(i,v,a,be,u===null?JS:function(){return Km(i),u(f)})}function Ym(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:be},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Km(i){var a=Ym(i);a.next===null&&(a=i.alternate.memoizedState),Oo(i,a.next.queue,{},Jn())}function bh(){return nn(Xo)}function Wm(){return Ut().memoizedState}function Xm(){return Ut().memoizedState}function YS(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Jn();i=Ci(u);var f=bi(a,i,u);f!==null&&(kn(f,a,u),Ro(f,a,u)),a={cache:nh()},i.payload=a;return}a=a.return}}function KS(i,a,u){var f=Jn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wu(i)?jm(a,u):(u=$f(i,a,u,f),u!==null&&(kn(u,i,f),Zm(u,a,f)))}function Qm(i,a,u){var f=Jn();Oo(i,a,u,f)}function Oo(i,a,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(wu(i))jm(a,v);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var A=a.lastRenderedState,b=T(A,u);if(v.hasEagerState=!0,v.eagerState=b,Hn(b,A))return iu(i,a,v,0),Tt===null&&ru(),!1}catch{}finally{}if(u=$f(i,a,v,f),u!==null)return kn(u,i,f),Zm(u,a,f),!0}return!1}function Rh(i,a,u,f){if(f={lane:2,revertLane:ad(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},wu(i)){if(a)throw Error(r(479))}else a=$f(i,u,f,2),a!==null&&kn(a,i,2)}function wu(i){var a=i.alternate;return i===Ye||a!==null&&a===Ye}function jm(i,a){ca=vu=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Zm(i,a,u){if((u&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,$s(i,u)}}var ko={readContext:nn,use:Tu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};ko.useEffectEvent=Dt;var eg={readContext:nn,use:Tu,useCallback:function(i,a){return En().memoizedState=[i,a===void 0?null:a],i},useContext:nn,useEffect:Um,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,Eu(4194308,4,Gm.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Eu(4194308,4,i,a)},useInsertionEffect:function(i,a){Eu(4,2,i,a)},useMemo:function(i,a){var u=En();a=a===void 0?null:a;var f=i();if(gs){_r(!0);try{i()}finally{_r(!1)}}return u.memoizedState=[f,a],f},useReducer:function(i,a,u){var f=En();if(u!==void 0){var v=u(a);if(gs){_r(!0);try{u(a)}finally{_r(!1)}}}else v=a;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=KS.bind(null,Ye,i),[f.memoizedState,i]},useRef:function(i){var a=En();return i={current:i},a.memoizedState=i},useState:function(i){i=xh(i);var a=i.queue,u=Qm.bind(null,Ye,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:wh,useDeferredValue:function(i,a){var u=En();return Ah(u,i,a)},useTransition:function(){var i=xh(!1);return i=Jm.bind(null,Ye,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var f=Ye,v=En();if(nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Tt===null)throw Error(r(349));(et&127)!==0||xm(f,a,u)}v.memoizedState=u;var T={value:u,getSnapshot:a};return v.queue=T,Um(Sm.bind(null,f,T,i),[i]),f.flags|=2048,ha(9,{destroy:void 0},Em.bind(null,f,T,u,a),null),u},useId:function(){var i=En(),a=Tt.identifierPrefix;if(nt){var u=Ur,f=Pr;u=(f&~(1<<32-xn(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=yu++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=GS++,a="_"+a+"r_"+u.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:bh,useFormState:Mm,useActionState:Mm,useOptimistic:function(i){var a=En();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Rh.bind(null,Ye,!0,u),u.dispatch=a,[i,a]},useMemoCache:yh,useCacheRefresh:function(){return En().memoizedState=YS.bind(null,Ye)},useEffectEvent:function(i){var a=En(),u={impl:i};return a.memoizedState=u,function(){if((lt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Nh={readContext:nn,use:Tu,useCallback:qm,useContext:nn,useEffect:Sh,useImperativeHandle:Vm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:zm,useReducer:xu,useRef:Pm,useState:function(){return xu(Qr)},useDebugValue:wh,useDeferredValue:function(i,a){var u=Ut();return $m(u,gt.memoizedState,i,a)},useTransition:function(){var i=xu(Qr)[0],a=Ut().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Tm,useId:Wm,useHostTransitionStatus:bh,useFormState:Om,useActionState:Om,useOptimistic:function(i,a){var u=Ut();return Cm(u,gt,i,a)},useMemoCache:yh,useCacheRefresh:Xm};Nh.useEffectEvent=Fm;var tg={readContext:nn,use:Tu,useCallback:qm,useContext:nn,useEffect:Sh,useImperativeHandle:Vm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:zm,useReducer:Th,useRef:Pm,useState:function(){return Th(Qr)},useDebugValue:wh,useDeferredValue:function(i,a){var u=Ut();return gt===null?Ah(u,i,a):$m(u,gt.memoizedState,i,a)},useTransition:function(){var i=Th(Qr)[0],a=Ut().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Tm,useId:Wm,useHostTransitionStatus:bh,useFormState:Lm,useActionState:Lm,useOptimistic:function(i,a){var u=Ut();return gt!==null?Cm(u,gt,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:yh,useCacheRefresh:Xm};tg.useEffectEvent=Fm;function Ih(i,a,u,f){a=i.memoizedState,u=u(f,a),u=u==null?a:_({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Dh={enqueueSetState:function(i,a,u){i=i._reactInternals;var f=Jn(),v=Ci(f);v.payload=a,u!=null&&(v.callback=u),a=bi(i,v,f),a!==null&&(kn(a,i,f),Ro(a,i,f))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var f=Jn(),v=Ci(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=bi(i,v,f),a!==null&&(kn(a,i,f),Ro(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Jn(),f=Ci(u);f.tag=2,a!=null&&(f.callback=a),a=bi(i,f,u),a!==null&&(kn(a,i,u),Ro(a,i,u))}};function ng(i,a,u,f,v,T,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,T,A):a.prototype&&a.prototype.isPureReactComponent?!To(u,f)||!To(v,T):!0}function rg(i,a,u,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==i&&Dh.enqueueReplaceState(a,a.state,null)}function vs(i,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(i=i.defaultProps){u===a&&(u=_({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function ig(i){nu(i)}function sg(i){console.error(i)}function ag(i){nu(i)}function Au(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function og(i,a,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Mh(i,a,u){return u=Ci(u),u.tag=3,u.payload={element:null},u.callback=function(){Au(i,a)},u}function lg(i){return i=Ci(i),i.tag=3,i}function ug(i,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var T=f.value;i.payload=function(){return v(T)},i.callback=function(){og(a,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){og(a,u,f),typeof v!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var b=f.stack;this.componentDidCatch(f.value,{componentStack:b!==null?b:""})})}function WS(i,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&ia(a,u,v,!0),u=Vn.current,u!==null){switch(u.tag){case 31:case 13:return cr===null?Uu():u.alternate===null&&Mt===0&&(Mt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===hu?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),rd(i,f,v)),!1;case 22:return u.flags|=65536,f===hu?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),rd(i,f,v)),!1}throw Error(r(435,u.tag))}return rd(i,f,v),Uu(),!1}if(nt)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==Qf&&(i=Error(r(422),{cause:f}),So(ar(i,u)))):(f!==Qf&&(a=Error(r(423),{cause:f}),So(ar(a,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=ar(f,u),v=Mh(i.stateNode,f,v),lh(i,v),Mt!==4&&(Mt=2)),!1;var T=Error(r(520),{cause:f});if(T=ar(T,u),Vo===null?Vo=[T]:Vo.push(T),Mt!==4&&(Mt=2),a===null)return!0;f=ar(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Mh(u.stateNode,f,i),lh(u,i),!1;case 1:if(a=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Oi===null||!Oi.has(T))))return u.flags|=65536,v&=-v,u.lanes|=v,v=lg(v),ug(v,i,u,f),lh(u,v),!1}u=u.return}while(u!==null);return!1}var Oh=Error(r(461)),Ht=!1;function rn(i,a,u,f){a.child=i===null?dm(a,null,u,f):ms(a,i.child,u,f)}function cg(i,a,u,f,v){u=u.render;var T=a.ref;if("ref"in f){var A={};for(var b in f)b!=="ref"&&(A[b]=f[b])}else A=f;return fs(a),f=ph(i,a,u,A,T,v),b=mh(),i!==null&&!Ht?(gh(i,a,v),jr(i,a,v)):(nt&&b&&Wf(a),a.flags|=1,rn(i,a,f,v),a.child)}function fg(i,a,u,f,v){if(i===null){var T=u.type;return typeof T=="function"&&!Jf(T)&&T.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=T,hg(i,a,T,f,v)):(i=au(u.type,null,f,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(T=i.child,!Gh(i,v)){var A=T.memoizedProps;if(u=u.compare,u=u!==null?u:To,u(A,f)&&i.ref===a.ref)return jr(i,a,v)}return a.flags|=1,i=Jr(T,f),i.ref=a.ref,i.return=a,a.child=i}function hg(i,a,u,f,v){if(i!==null){var T=i.memoizedProps;if(To(T,f)&&i.ref===a.ref)if(Ht=!1,a.pendingProps=f=T,Gh(i,v))(i.flags&131072)!==0&&(Ht=!0);else return a.lanes=i.lanes,jr(i,a,v)}return kh(i,a,u,f,v)}function dg(i,a,u,f){var v=f.children,T=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(T=T!==null?T.baseLanes|u:u,i!==null){for(f=a.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~T}else f=0,a.child=null;return pg(i,a,T,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&cu(a,T!==null?T.cachePool:null),T!==null?gm(a,T):ch(),vm(a);else return f=a.lanes=536870912,pg(i,a,T!==null?T.baseLanes|u:u,u,f)}else T!==null?(cu(a,T.cachePool),gm(a,T),Ni(),a.memoizedState=null):(i!==null&&cu(a,null),ch(),Ni());return rn(i,a,v,u),a.child}function Lo(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function pg(i,a,u,f,v){var T=ih();return T=T===null?null:{parent:Ft._currentValue,pool:T},a.memoizedState={baseLanes:u,cachePool:T},i!==null&&cu(a,null),ch(),vm(a),i!==null&&ia(i,a,f,!0),a.childLanes=v,null}function Cu(i,a){return a=Ru({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function mg(i,a,u){return ms(a,i.child,null,u),i=Cu(a,a.pendingProps),i.flags|=2,qn(a),a.memoizedState=null,i}function XS(i,a,u){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(nt){if(f.mode==="hidden")return i=Cu(a,f),a.lanes=536870912,Lo(null,i);if(hh(a),(i=At)?(i=bv(i,ur),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:xi!==null?{id:Pr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=jp(i),u.return=a,a.child=u,tn=a,At=null)):i=null,i===null)throw Si(a);return a.lanes=536870912,null}return Cu(a,f)}var T=i.memoizedState;if(T!==null){var A=T.dehydrated;if(hh(a),v)if(a.flags&256)a.flags&=-257,a=mg(i,a,u);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ht||ia(i,a,u,!1),v=(u&i.childLanes)!==0,Ht||v){if(f=Tt,f!==null&&(A=Jl(f,u),A!==0&&A!==T.retryLane))throw T.retryLane=A,os(i,A),kn(f,i,A),Oh;Uu(),a=mg(i,a,u)}else i=T.treeContext,At=fr(A.nextSibling),tn=a,nt=!0,Ei=null,ur=!1,i!==null&&tm(a,i),a=Cu(a,f),a.flags|=4096;return a}return i=Jr(i.child,{mode:f.mode,children:f.children}),i.ref=a.ref,a.child=i,i.return=a,i}function bu(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function kh(i,a,u,f,v){return fs(a),u=ph(i,a,u,f,void 0,v),f=mh(),i!==null&&!Ht?(gh(i,a,v),jr(i,a,v)):(nt&&f&&Wf(a),a.flags|=1,rn(i,a,u,v),a.child)}function gg(i,a,u,f,v,T){return fs(a),a.updateQueue=null,u=_m(a,f,u,v),ym(i),f=mh(),i!==null&&!Ht?(gh(i,a,T),jr(i,a,T)):(nt&&f&&Wf(a),a.flags|=1,rn(i,a,u,T),a.child)}function vg(i,a,u,f,v){if(fs(a),a.stateNode===null){var T=ea,A=u.contextType;typeof A=="object"&&A!==null&&(T=nn(A)),T=new u(f,T),a.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Dh,a.stateNode=T,T._reactInternals=a,T=a.stateNode,T.props=f,T.state=a.memoizedState,T.refs={},ah(a),A=u.contextType,T.context=typeof A=="object"&&A!==null?nn(A):ea,T.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Ih(a,u,A,f),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(A=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),A!==T.state&&Dh.enqueueReplaceState(T,T.state,null),Io(a,f,T,v),No(),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){T=a.stateNode;var b=a.memoizedProps,H=vs(u,b);T.props=H;var j=T.context,de=u.contextType;A=ea,typeof de=="object"&&de!==null&&(A=nn(de));var ve=u.getDerivedStateFromProps;de=typeof ve=="function"||typeof T.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,de||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(b||j!==A)&&rg(a,T,f,A),Ai=!1;var ie=a.memoizedState;T.state=ie,Io(a,f,T,v),No(),j=a.memoizedState,b||ie!==j||Ai?(typeof ve=="function"&&(Ih(a,u,ve,f),j=a.memoizedState),(H=Ai||ng(a,u,H,f,ie,j,A))?(de||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=j),T.props=f,T.state=j,T.context=A,f=H):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,oh(i,a),A=a.memoizedProps,de=vs(u,A),T.props=de,ve=a.pendingProps,ie=T.context,j=u.contextType,H=ea,typeof j=="object"&&j!==null&&(H=nn(j)),b=u.getDerivedStateFromProps,(j=typeof b=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==ve||ie!==H)&&rg(a,T,f,H),Ai=!1,ie=a.memoizedState,T.state=ie,Io(a,f,T,v),No();var le=a.memoizedState;A!==ve||ie!==le||Ai||i!==null&&i.dependencies!==null&&lu(i.dependencies)?(typeof b=="function"&&(Ih(a,u,b,f),le=a.memoizedState),(de=Ai||ng(a,u,de,f,ie,le,H)||i!==null&&i.dependencies!==null&&lu(i.dependencies))?(j||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,le,H),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,le,H)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=le),T.props=f,T.state=le,T.context=H,f=de):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),f=!1)}return T=f,bu(i,a),f=(a.flags&128)!==0,T||f?(T=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:T.render(),a.flags|=1,i!==null&&f?(a.child=ms(a,i.child,null,v),a.child=ms(a,null,u,v)):rn(i,a,u,v),a.memoizedState=T.state,i=a.child):i=jr(i,a,v),i}function yg(i,a,u,f){return us(),a.flags|=256,rn(i,a,u,f),a.child}var Lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(i){return{baseLanes:i,cachePool:om()}}function Uh(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=$n),i}function _g(i,a,u){var f=a.pendingProps,v=!1,T=(a.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),A&&(v=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,i===null){if(nt){if(v?Ri(a):Ni(),(i=At)?(i=bv(i,ur),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:xi!==null?{id:Pr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=jp(i),u.return=a,a.child=u,tn=a,At=null)):i=null,i===null)throw Si(a);return _d(i)?a.lanes=32:a.lanes=536870912,null}var b=f.children;return f=f.fallback,v?(Ni(),v=a.mode,b=Ru({mode:"hidden",children:b},v),f=ls(f,v,u,null),b.return=a,f.return=a,b.sibling=f,a.child=b,f=a.child,f.memoizedState=Ph(u),f.childLanes=Uh(i,A,u),a.memoizedState=Lh,Lo(null,f)):(Ri(a),Fh(a,b))}var H=i.memoizedState;if(H!==null&&(b=H.dehydrated,b!==null)){if(T)a.flags&256?(Ri(a),a.flags&=-257,a=Bh(i,a,u)):a.memoizedState!==null?(Ni(),a.child=i.child,a.flags|=128,a=null):(Ni(),b=f.fallback,v=a.mode,f=Ru({mode:"visible",children:f.children},v),b=ls(b,v,u,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,ms(a,i.child,null,u),f=a.child,f.memoizedState=Ph(u),f.childLanes=Uh(i,A,u),a.memoizedState=Lh,a=Lo(null,f));else if(Ri(a),_d(b)){if(A=b.nextSibling&&b.nextSibling.dataset,A)var j=A.dgst;A=j,f=Error(r(419)),f.stack="",f.digest=A,So({value:f,source:null,stack:null}),a=Bh(i,a,u)}else if(Ht||ia(i,a,u,!1),A=(u&i.childLanes)!==0,Ht||A){if(A=Tt,A!==null&&(f=Jl(A,u),f!==0&&f!==H.retryLane))throw H.retryLane=f,os(i,f),kn(A,i,f),Oh;yd(b)||Uu(),a=Bh(i,a,u)}else yd(b)?(a.flags|=192,a.child=i.child,a=null):(i=H.treeContext,At=fr(b.nextSibling),tn=a,nt=!0,Ei=null,ur=!1,i!==null&&tm(a,i),a=Fh(a,f.children),a.flags|=4096);return a}return v?(Ni(),b=f.fallback,v=a.mode,H=i.child,j=H.sibling,f=Jr(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,j!==null?b=Jr(j,b):(b=ls(b,v,u,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,Lo(null,f),f=a.child,b=i.child.memoizedState,b===null?b=Ph(u):(v=b.cachePool,v!==null?(H=Ft._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=om(),b={baseLanes:b.baseLanes|u,cachePool:v}),f.memoizedState=b,f.childLanes=Uh(i,A,u),a.memoizedState=Lh,Lo(i.child,f)):(Ri(a),u=i.child,i=u.sibling,u=Jr(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,i!==null&&(A=a.deletions,A===null?(a.deletions=[i],a.flags|=16):A.push(i)),a.child=u,a.memoizedState=null,u)}function Fh(i,a){return a=Ru({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ru(i,a){return i=Gn(22,i,null,a),i.lanes=0,i}function Bh(i,a,u){return ms(a,i.child,null,u),i=Fh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Tg(i,a,u){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),eh(i.return,a,u)}function Hh(i,a,u,f,v,T){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:T}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=u,A.tailMode=v,A.treeForkCount=T)}function xg(i,a,u){var f=a.pendingProps,v=f.revealOrder,T=f.tail;f=f.children;var A=Pt.current,b=(A&2)!==0;if(b?(A=A&1|2,a.flags|=128):A&=1,q(Pt,A),rn(i,a,f,u),f=nt?Eo:0,!b&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tg(i,u,a);else if(i.tag===19)Tg(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&gu(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Hh(a,!1,v,u,T,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&gu(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Hh(a,!0,u,null,T,f);break;case"together":Hh(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function jr(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Mi|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(ia(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=Jr(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Jr(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function Gh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&lu(i)))}function QS(i,a,u){switch(a.tag){case 3:Oe(a,a.stateNode.containerInfo),wi(a,Ft,i.memoizedState.cache),us();break;case 27:case 5:Ne(a);break;case 4:Oe(a,a.stateNode.containerInfo);break;case 10:wi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,hh(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Ri(a),a.flags|=128,null):(u&a.child.childLanes)!==0?_g(i,a,u):(Ri(a),i=jr(i,a,u),i!==null?i.sibling:null);Ri(a);break;case 19:var v=(i.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(ia(i,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return xg(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(Pt,Pt.current),f)break;return null;case 22:return a.lanes=0,dg(i,a,u,a.pendingProps);case 24:wi(a,Ft,i.memoizedState.cache)}return jr(i,a,u)}function Eg(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ht=!0;else{if(!Gh(i,u)&&(a.flags&128)===0)return Ht=!1,QS(i,a,u);Ht=(i.flags&131072)!==0}else Ht=!1,nt&&(a.flags&1048576)!==0&&em(a,Eo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(i=ds(a.elementType),a.type=i,typeof i=="function")Jf(i)?(f=vs(i,f),a.tag=1,a=vg(null,a,i,f,u)):(a.tag=0,a=kh(null,a,i,f,u));else{if(i!=null){var v=i.$$typeof;if(v===F){a.tag=11,a=cg(null,a,i,f,u);break e}else if(v===U){a.tag=14,a=fg(null,a,i,f,u);break e}}throw a=ye(i)||i,Error(r(306,a,""))}}return a;case 0:return kh(i,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=vs(f,a.pendingProps),vg(i,a,f,v,u);case 3:e:{if(Oe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var T=a.memoizedState;v=T.element,oh(i,a),Io(a,f,null,u);var A=a.memoizedState;if(f=A.cache,wi(a,Ft,f),f!==T.cache&&th(a,[Ft],u,!0),No(),f=A.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){a=yg(i,a,f,u);break e}else if(f!==v){v=ar(Error(r(424)),a),So(v),a=yg(i,a,f,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(At=fr(i.firstChild),tn=a,nt=!0,Ei=null,ur=!0,u=dm(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(us(),f===v){a=jr(i,a,u);break e}rn(i,a,f,u)}a=a.child}return a;case 26:return bu(i,a),i===null?(u=Ov(a.type,null,a.pendingProps,null))?a.memoizedState=u:nt||(u=a.type,i=a.pendingProps,f=zu(oe.current).createElement(u),f[M]=a,f[k]=i,sn(f,u,i),Ue(f),a.stateNode=f):a.memoizedState=Ov(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ne(a),i===null&&nt&&(f=a.stateNode=Iv(a.type,a.pendingProps,oe.current),tn=a,ur=!0,v=At,Ui(a.type)?(Td=v,At=fr(f.firstChild)):At=v),rn(i,a,a.pendingProps.children,u),bu(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&nt&&((v=f=At)&&(f=bw(f,a.type,a.pendingProps,ur),f!==null?(a.stateNode=f,tn=a,At=fr(f.firstChild),ur=!1,v=!0):v=!1),v||Si(a)),Ne(a),v=a.type,T=a.pendingProps,A=i!==null?i.memoizedProps:null,f=T.children,md(v,T)?f=null:A!==null&&md(v,A)&&(a.flags|=32),a.memoizedState!==null&&(v=ph(i,a,VS,null,null,u),Xo._currentValue=v),bu(i,a),rn(i,a,f,u),a.child;case 6:return i===null&&nt&&((i=u=At)&&(u=Rw(u,a.pendingProps,ur),u!==null?(a.stateNode=u,tn=a,At=null,i=!0):i=!1),i||Si(a)),null;case 13:return _g(i,a,u);case 4:return Oe(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=ms(a,null,f,u):rn(i,a,f,u),a.child;case 11:return cg(i,a,a.type,a.pendingProps,u);case 7:return rn(i,a,a.pendingProps,u),a.child;case 8:return rn(i,a,a.pendingProps.children,u),a.child;case 12:return rn(i,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,wi(a,a.type,f.value),rn(i,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,fs(a),v=nn(v),f=f(v),a.flags|=1,rn(i,a,f,u),a.child;case 14:return fg(i,a,a.type,a.pendingProps,u);case 15:return hg(i,a,a.type,a.pendingProps,u);case 19:return xg(i,a,u);case 31:return XS(i,a,u);case 22:return dg(i,a,u,a.pendingProps);case 24:return fs(a),f=nn(Ft),i===null?(v=ih(),v===null&&(v=Tt,T=nh(),v.pooledCache=T,T.refCount++,T!==null&&(v.pooledCacheLanes|=u),v=T),a.memoizedState={parent:f,cache:v},ah(a),wi(a,Ft,v)):((i.lanes&u)!==0&&(oh(i,a),Io(a,null,null,u),No()),v=i.memoizedState,T=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),wi(a,Ft,f)):(f=T.cache,wi(a,Ft,f),f!==v.cache&&th(a,[Ft],u,!0))),rn(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Zr(i){i.flags|=4}function Vh(i,a,u,f,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(Wg())i.flags|=8192;else throw ps=hu,sh}else i.flags&=-16777217}function Sg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Fv(a))if(Wg())i.flags|=8192;else throw ps=hu,sh}function Nu(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?zl():536870912,i.lanes|=a,ga|=a)}function Po(i,a){if(!nt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ct(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=u,a}function jS(i,a,u){var f=a.pendingProps;switch(Xf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ct(a),null;case 3:return u=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Wr(Ft),Re(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ra(a)?Zr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jf())),Ct(a),null;case 26:var v=a.type,T=a.memoizedState;return i===null?(Zr(a),T!==null?(Ct(a),Sg(a,T)):(Ct(a),Vh(a,v,null,f,u))):T?T!==i.memoizedState?(Zr(a),Ct(a),Sg(a,T)):(Ct(a),a.flags&=-16777217):(i=i.memoizedProps,i!==f&&Zr(a),Ct(a),Vh(a,v,i,f,u)),null;case 27:if(rt(a),u=oe.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Zr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}i=B.current,ra(a)?nm(a):(i=Iv(v,f,u),a.stateNode=i,Zr(a))}return Ct(a),null;case 5:if(rt(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Zr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}if(T=B.current,ra(a))nm(a);else{var A=zu(oe.current);switch(T){case 1:T=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:T=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":T=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":T=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":T=A.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?T.multiple=!0:f.size&&(T.size=f.size);break;default:T=typeof f.is=="string"?A.createElement(v,{is:f.is}):A.createElement(v)}}T[M]=a,T[k]=f;e:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)T.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=T;e:switch(sn(T,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Zr(a)}}return Ct(a),Vh(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,u),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&Zr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=oe.current,ra(a)){if(i=a.stateNode,u=a.memoizedProps,f=null,v=tn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[M]=a,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||_v(i.nodeValue,u)),i||Si(a,!0)}else i=zu(i).createTextNode(f),i[M]=a,a.stateNode=i}return Ct(a),null;case 31:if(u=a.memoizedState,i===null||i.memoizedState!==null){if(f=ra(a),u!==null){if(i===null){if(!f)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[M]=a}else us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),i=!1}else u=jf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return a.flags&256?(qn(a),a):(qn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ct(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ra(a),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[M]=a}else us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),v=!1}else v=jf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(qn(a),a):(qn(a),null)}return qn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,i=i!==null&&i.memoizedState!==null,u&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),T=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==v&&(f.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),Nu(a,a.updateQueue),Ct(a),null);case 4:return Re(),i===null&&cd(a.stateNode.containerInfo),Ct(a),null;case 10:return Wr(a.type),Ct(a),null;case 19:if(I(Pt),f=a.memoizedState,f===null)return Ct(a),null;if(v=(a.flags&128)!==0,T=f.rendering,T===null)if(v)Po(f,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(T=gu(i),T!==null){for(a.flags|=128,Po(f,!1),i=T.updateQueue,a.updateQueue=i,Nu(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)Qp(u,i),u=u.sibling;return q(Pt,Pt.current&1|2),nt&&Yr(a,f.treeForkCount),a.child}i=i.sibling}f.tail!==null&&Rt()>ku&&(a.flags|=128,v=!0,Po(f,!1),a.lanes=4194304)}else{if(!v)if(i=gu(T),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,Nu(a,i),Po(f,!0),f.tail===null&&f.tailMode==="hidden"&&!T.alternate&&!nt)return Ct(a),null}else 2*Rt()-f.renderingStartTime>ku&&u!==536870912&&(a.flags|=128,v=!0,Po(f,!1),a.lanes=4194304);f.isBackwards?(T.sibling=a.child,a.child=T):(i=f.last,i!==null?i.sibling=T:a.child=T,f.last=T)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Rt(),i.sibling=null,u=Pt.current,q(Pt,v?u&1|2:u&1),nt&&Yr(a,f.treeForkCount),i):(Ct(a),null);case 22:case 23:return qn(a),fh(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),u=a.updateQueue,u!==null&&Nu(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),i!==null&&I(hs),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Wr(Ft),Ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ZS(i,a){switch(Xf(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wr(Ft),Re(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return rt(a),null;case 31:if(a.memoizedState!==null){if(qn(a),a.alternate===null)throw Error(r(340));us()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(qn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));us()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return I(Pt),null;case 4:return Re(),null;case 10:return Wr(a.type),null;case 22:case 23:return qn(a),fh(),i!==null&&I(hs),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wr(Ft),null;case 25:return null;default:return null}}function wg(i,a){switch(Xf(a),a.tag){case 3:Wr(Ft),Re();break;case 26:case 27:case 5:rt(a);break;case 4:Re();break;case 31:a.memoizedState!==null&&qn(a);break;case 13:qn(a);break;case 19:I(Pt);break;case 10:Wr(a.type);break;case 22:case 23:qn(a),fh(),i!==null&&I(hs);break;case 24:Wr(Ft)}}function Uo(i,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&i)===i){f=void 0;var T=u.create,A=u.inst;f=T(),A.destroy=f}u=u.next}while(u!==v)}}catch(b){ft(a,a.return,b)}}function Ii(i,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var T=v.next;f=T;do{if((f.tag&i)===i){var A=f.inst,b=A.destroy;if(b!==void 0){A.destroy=void 0,v=a;var H=u,j=b;try{j()}catch(de){ft(v,H,de)}}}f=f.next}while(f!==T)}}catch(de){ft(a,a.return,de)}}function Ag(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{mm(a,u)}catch(f){ft(i,i.return,f)}}}function Cg(i,a,u){u.props=vs(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){ft(i,a,f)}}function Fo(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(v){ft(i,a,v)}}function Fr(i,a){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){ft(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ft(i,a,v)}else u.current=null}function bg(i){var a=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){ft(i,i.return,v)}}function qh(i,a,u){try{var f=i.stateNode;xw(f,i.type,u,a),f[k]=a}catch(v){ft(i,i.return,v)}}function Rg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ui(i.type)||i.tag===4}function zh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ui(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $h(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=zr));else if(f!==4&&(f===27&&Ui(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for($h(i,a,u),i=i.sibling;i!==null;)$h(i,a,u),i=i.sibling}function Iu(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(f!==4&&(f===27&&Ui(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Iu(i,a,u),i=i.sibling;i!==null;)Iu(i,a,u),i=i.sibling}function Ng(i){var a=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);sn(a,f,u),a[M]=i,a[k]=u}catch(T){ft(i,i.return,T)}}var ei=!1,Gt=!1,Jh=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function ew(i,a){if(i=i.containerInfo,dd=Qu,i=Vp(i),Bf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var A=0,b=-1,H=-1,j=0,de=0,ve=i,ie=null;t:for(;;){for(var le;ve!==u||v!==0&&ve.nodeType!==3||(b=A+v),ve!==T||f!==0&&ve.nodeType!==3||(H=A+f),ve.nodeType===3&&(A+=ve.nodeValue.length),(le=ve.firstChild)!==null;)ie=ve,ve=le;for(;;){if(ve===i)break t;if(ie===u&&++j===v&&(b=A),ie===T&&++de===f&&(H=A),(le=ve.nextSibling)!==null)break;ve=ie,ie=ve.parentNode}ve=le}u=b===-1||H===-1?null:{start:b,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(pd={focusedElem:i,selectionRange:u},Qu=!1,Xt=a;Xt!==null;)if(a=Xt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Xt=i;else for(;Xt!==null;){switch(a=Xt,T=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&T!==null){i=void 0,u=a,v=T.memoizedProps,T=T.memoizedState,f=u.stateNode;try{var Pe=vs(u.type,v);i=f.getSnapshotBeforeUpdate(Pe,T),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){ft(u,u.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)vd(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Xt=i;break}Xt=a.return}}function Dg(i,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ni(i,u),f&4&&Uo(5,u);break;case 1:if(ni(i,u),f&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(A){ft(u,u.return,A)}else{var v=vs(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(A){ft(u,u.return,A)}}f&64&&Ag(u),f&512&&Fo(u,u.return);break;case 3:if(ni(i,u),f&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{mm(i,a)}catch(A){ft(u,u.return,A)}}break;case 27:a===null&&f&4&&Ng(u);case 26:case 5:ni(i,u),a===null&&f&4&&bg(u),f&512&&Fo(u,u.return);break;case 12:ni(i,u);break;case 31:ni(i,u),f&4&&kg(i,u);break;case 13:ni(i,u),f&4&&Lg(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=uw.bind(null,u),Nw(i,u))));break;case 22:if(f=u.memoizedState!==null||ei,!f){a=a!==null&&a.memoizedState!==null||Gt,v=ei;var T=Gt;ei=f,(Gt=a)&&!T?ri(i,u,(u.subtreeFlags&8772)!==0):ni(i,u),ei=v,Gt=T}break;case 30:break;default:ni(i,u)}}function Mg(i){var a=i.alternate;a!==null&&(i.alternate=null,Mg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Te(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,In=!1;function ti(i,a,u){for(u=u.child;u!==null;)Og(i,a,u),u=u.sibling}function Og(i,a,u){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(yi,u)}catch{}switch(u.tag){case 26:Gt||Fr(u,a),ti(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Gt||Fr(u,a);var f=It,v=In;Ui(u.type)&&(It=u.stateNode,In=!1),ti(i,a,u),Yo(u.stateNode),It=f,In=v;break;case 5:Gt||Fr(u,a);case 6:if(f=It,v=In,It=null,ti(i,a,u),It=f,In=v,It!==null)if(In)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(u.stateNode)}catch(T){ft(u,a,T)}else try{It.removeChild(u.stateNode)}catch(T){ft(u,a,T)}break;case 18:It!==null&&(In?(i=It,Av(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),wa(i)):Av(It,u.stateNode));break;case 4:f=It,v=In,It=u.stateNode.containerInfo,In=!0,ti(i,a,u),It=f,In=v;break;case 0:case 11:case 14:case 15:Ii(2,u,a),Gt||Ii(4,u,a),ti(i,a,u);break;case 1:Gt||(Fr(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Cg(u,a,f)),ti(i,a,u);break;case 21:ti(i,a,u);break;case 22:Gt=(f=Gt)||u.memoizedState!==null,ti(i,a,u),Gt=f;break;default:ti(i,a,u)}}function kg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wa(i)}catch(u){ft(a,a.return,u)}}}function Lg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wa(i)}catch(u){ft(a,a.return,u)}}function tw(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Ig),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Ig),a;default:throw Error(r(435,i.tag))}}function Du(i,a){var u=tw(i);a.forEach(function(f){if(!u.has(f)){u.add(f);var v=cw.bind(null,i,f);f.then(v,v)}})}function Dn(i,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],T=i,A=a,b=A;e:for(;b!==null;){switch(b.tag){case 27:if(Ui(b.type)){It=b.stateNode,In=!1;break e}break;case 5:It=b.stateNode,In=!1;break e;case 3:case 4:It=b.stateNode.containerInfo,In=!0;break e}b=b.return}if(It===null)throw Error(r(160));Og(T,A,v),It=null,In=!1,T=v.alternate,T!==null&&(T.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Pg(a,i),a=a.sibling}var xr=null;function Pg(i,a){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(a,i),Mn(i),f&4&&(Ii(3,i,i.return),Uo(3,i),Ii(5,i,i.return));break;case 1:Dn(a,i),Mn(i),f&512&&(Gt||u===null||Fr(u,u.return)),f&64&&ei&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=xr;if(Dn(a,i),Mn(i),f&512&&(Gt||u===null||Fr(u,u.return)),f&4){var T=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":T=v.getElementsByTagName("title")[0],(!T||T[se]||T[M]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=v.createElement(f),v.head.insertBefore(T,v.querySelector("head > title"))),sn(T,f,u),T[M]=i,Ue(T),f=T;break e;case"link":var A=Pv("link","href",v).get(f+(u.href||""));if(A){for(var b=0;b<A.length;b++)if(T=A[b],T.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(b,1);break t}}T=v.createElement(f),sn(T,f,u),v.head.appendChild(T);break;case"meta":if(A=Pv("meta","content",v).get(f+(u.content||""))){for(b=0;b<A.length;b++)if(T=A[b],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(b,1);break t}}T=v.createElement(f),sn(T,f,u),v.head.appendChild(T);break;default:throw Error(r(468,f))}T[M]=i,Ue(T),f=T}i.stateNode=f}else Uv(v,i.type,i.stateNode);else i.stateNode=Lv(v,f,i.memoizedProps);else T!==f?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,f===null?Uv(v,i.type,i.stateNode):Lv(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&qh(i,i.memoizedProps,u.memoizedProps)}break;case 27:Dn(a,i),Mn(i),f&512&&(Gt||u===null||Fr(u,u.return)),u!==null&&f&4&&qh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Dn(a,i),Mn(i),f&512&&(Gt||u===null||Fr(u,u.return)),i.flags&32){v=i.stateNode;try{Ys(v,"")}catch(Pe){ft(i,i.return,Pe)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,qh(i,v,u!==null?u.memoizedProps:v)),f&1024&&(Jh=!0);break;case 6:if(Dn(a,i),Mn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(Pe){ft(i,i.return,Pe)}}break;case 3:if(Yu=null,v=xr,xr=$u(a.containerInfo),Dn(a,i),xr=v,Mn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{wa(a.containerInfo)}catch(Pe){ft(i,i.return,Pe)}Jh&&(Jh=!1,Ug(i));break;case 4:f=xr,xr=$u(i.stateNode.containerInfo),Dn(a,i),Mn(i),xr=f;break;case 12:Dn(a,i),Mn(i);break;case 31:Dn(a,i),Mn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Du(i,f)));break;case 13:Dn(a,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ou=Rt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Du(i,f)));break;case 22:v=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,j=ei,de=Gt;if(ei=j||v,Gt=de||H,Dn(a,i),Gt=de,ei=j,Mn(i),f&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||H||ei||Gt||ys(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){H=u=a;try{if(T=H.stateNode,v)A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{b=H.stateNode;var ve=H.memoizedProps.style,ie=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;b.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){ft(H,H.return,Pe)}}}else if(a.tag===6){if(u===null){H=a;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Pe){ft(H,H.return,Pe)}}}else if(a.tag===18){if(u===null){H=a;try{var le=H.stateNode;v?Cv(le,!0):Cv(H.stateNode,!1)}catch(Pe){ft(H,H.return,Pe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Du(i,u))));break;case 19:Dn(a,i),Mn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Du(i,f)));break;case 30:break;case 21:break;default:Dn(a,i),Mn(i)}}function Mn(i){var a=i.flags;if(a&2){try{for(var u,f=i.return;f!==null;){if(Rg(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,T=zh(i);Iu(i,T,v);break;case 5:var A=u.stateNode;u.flags&32&&(Ys(A,""),u.flags&=-33);var b=zh(i);Iu(i,b,A);break;case 3:case 4:var H=u.stateNode.containerInfo,j=zh(i);$h(i,j,H);break;default:throw Error(r(161))}}catch(de){ft(i,i.return,de)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ug(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Ug(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ni(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Dg(i,a.alternate,a),a=a.sibling}function ys(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ii(4,a,a.return),ys(a);break;case 1:Fr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Cg(a,a.return,u),ys(a);break;case 27:Yo(a.stateNode);case 26:case 5:Fr(a,a.return),ys(a);break;case 22:a.memoizedState===null&&ys(a);break;case 30:ys(a);break;default:ys(a)}i=i.sibling}}function ri(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=i,T=a,A=T.flags;switch(T.tag){case 0:case 11:case 15:ri(v,T,u),Uo(4,T);break;case 1:if(ri(v,T,u),f=T,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(j){ft(f,f.return,j)}if(f=T,v=f.updateQueue,v!==null){var b=f.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)pm(H[v],b)}catch(j){ft(f,f.return,j)}}u&&A&64&&Ag(T),Fo(T,T.return);break;case 27:Ng(T);case 26:case 5:ri(v,T,u),u&&f===null&&A&4&&bg(T),Fo(T,T.return);break;case 12:ri(v,T,u);break;case 31:ri(v,T,u),u&&A&4&&kg(v,T);break;case 13:ri(v,T,u),u&&A&4&&Lg(v,T);break;case 22:T.memoizedState===null&&ri(v,T,u),Fo(T,T.return);break;case 30:break;default:ri(v,T,u)}a=a.sibling}}function Yh(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&wo(u))}function Kh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&wo(i))}function Er(i,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Fg(i,a,u,f),a=a.sibling}function Fg(i,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Er(i,a,u,f),v&2048&&Uo(9,a);break;case 1:Er(i,a,u,f);break;case 3:Er(i,a,u,f),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&wo(i)));break;case 12:if(v&2048){Er(i,a,u,f),i=a.stateNode;try{var T=a.memoizedProps,A=T.id,b=T.onPostCommit;typeof b=="function"&&b(A,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){ft(a,a.return,H)}}else Er(i,a,u,f);break;case 31:Er(i,a,u,f);break;case 13:Er(i,a,u,f);break;case 23:break;case 22:T=a.stateNode,A=a.alternate,a.memoizedState!==null?T._visibility&2?Er(i,a,u,f):Bo(i,a):T._visibility&2?Er(i,a,u,f):(T._visibility|=2,da(i,a,u,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&Yh(A,a);break;case 24:Er(i,a,u,f),v&2048&&Kh(a.alternate,a);break;default:Er(i,a,u,f)}}function da(i,a,u,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var T=i,A=a,b=u,H=f,j=A.flags;switch(A.tag){case 0:case 11:case 15:da(T,A,b,H,v),Uo(8,A);break;case 23:break;case 22:var de=A.stateNode;A.memoizedState!==null?de._visibility&2?da(T,A,b,H,v):Bo(T,A):(de._visibility|=2,da(T,A,b,H,v)),v&&j&2048&&Yh(A.alternate,A);break;case 24:da(T,A,b,H,v),v&&j&2048&&Kh(A.alternate,A);break;default:da(T,A,b,H,v)}a=a.sibling}}function Bo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,f=a,v=f.flags;switch(f.tag){case 22:Bo(u,f),v&2048&&Yh(f.alternate,f);break;case 24:Bo(u,f),v&2048&&Kh(f.alternate,f);break;default:Bo(u,f)}a=a.sibling}}var Ho=8192;function pa(i,a,u){if(i.subtreeFlags&Ho)for(i=i.child;i!==null;)Bg(i,a,u),i=i.sibling}function Bg(i,a,u){switch(i.tag){case 26:pa(i,a,u),i.flags&Ho&&i.memoizedState!==null&&Gw(u,xr,i.memoizedState,i.memoizedProps);break;case 5:pa(i,a,u);break;case 3:case 4:var f=xr;xr=$u(i.stateNode.containerInfo),pa(i,a,u),xr=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Ho,Ho=16777216,pa(i,a,u),Ho=f):pa(i,a,u));break;default:pa(i,a,u)}}function Hg(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Go(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Xt=f,Vg(f,i)}Hg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gg(i),i=i.sibling}function Gg(i){switch(i.tag){case 0:case 11:case 15:Go(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:Go(i);break;case 12:Go(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Mu(i)):Go(i);break;default:Go(i)}}function Mu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Xt=f,Vg(f,i)}Hg(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ii(8,a,a.return),Mu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Mu(a));break;default:Mu(a)}i=i.sibling}}function Vg(i,a){for(;Xt!==null;){var u=Xt;switch(u.tag){case 0:case 11:case 15:Ii(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wo(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Xt=f;else e:for(u=i;Xt!==null;){f=Xt;var v=f.sibling,T=f.return;if(Mg(f),f===u){Xt=null;break e}if(v!==null){v.return=T,Xt=v;break e}Xt=T}}}var nw={getCacheForType:function(i){var a=nn(Ft),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},cacheSignal:function(){return nn(Ft).controller.signal}},rw=typeof WeakMap=="function"?WeakMap:Map,lt=0,Tt=null,je=null,et=0,ct=0,zn=null,Di=!1,ma=!1,Wh=!1,ii=0,Mt=0,Mi=0,_s=0,Xh=0,$n=0,ga=0,Vo=null,On=null,Qh=!1,Ou=0,qg=0,ku=1/0,Lu=null,Oi=null,Jt=0,ki=null,va=null,si=0,jh=0,Zh=null,zg=null,qo=0,ed=null;function Jn(){return(lt&2)!==0&&et!==0?et&-et:X.T!==null?ad():C()}function $g(){if($n===0)if((et&536870912)===0||nt){var i=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),$n=i}else $n=536870912;return i=Vn.current,i!==null&&(i.flags|=32),$n}function kn(i,a,u){(i===Tt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(ya(i,0),Li(i,et,$n,!1)),ns(i,u),((lt&2)===0||i!==Tt)&&(i===Tt&&((lt&2)===0&&(_s|=u),Mt===4&&Li(i,et,$n,!1)),Br(i))}function Jg(i,a,u){if((lt&6)!==0)throw Error(r(327));var f=!u&&(a&127)===0&&(a&i.expiredLanes)===0||ts(i,a),v=f?aw(i,a):nd(i,a,!0),T=f;do{if(v===0){ma&&!f&&Li(i,a,0,!1);break}else{if(u=i.current.alternate,T&&!iw(u)){v=nd(i,a,!1),T=!1;continue}if(v===2){if(T=a,i.errorRecoveryDisabledLanes&T)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var b=i;v=Vo;var H=b.current.memoizedState.isDehydrated;if(H&&(ya(b,A).flags|=256),A=nd(b,A,!1),A!==2){if(Wh&&!H){b.errorRecoveryDisabledLanes|=T,_s|=T,v=4;break e}T=On,On=v,T!==null&&(On===null?On=T:On.push.apply(On,T))}v=A}if(T=!1,v!==2)continue}}if(v===1){ya(i,0),Li(i,a,0,!0);break}e:{switch(f=i,T=v,T){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Li(f,a,$n,!Di);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Ou+300-Rt(),10<v)){if(Li(f,a,$n,!Di),zs(f,0,!0)!==0)break e;si=a,f.timeoutHandle=Sv(Yg.bind(null,f,u,On,Lu,Qh,a,$n,_s,ga,Di,T,"Throttled",-0,0),v);break e}Yg(f,u,On,Lu,Qh,a,$n,_s,ga,Di,T,null,-0,0)}}break}while(!0);Br(i)}function Yg(i,a,u,f,v,T,A,b,H,j,de,ve,ie,le){if(i.timeoutHandle=-1,ve=a.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},Bg(a,T,ve);var Pe=(T&62914560)===T?Ou-Rt():(T&4194048)===T?qg-Rt():0;if(Pe=Vw(ve,Pe),Pe!==null){si=T,i.cancelPendingCommit=Pe(tv.bind(null,i,a,T,u,f,v,A,b,H,de,ve,null,ie,le)),Li(i,T,A,!j);return}}tv(i,a,T,u,f,v,A,b,H)}function iw(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],T=v.getSnapshot;v=v.value;try{if(!Hn(T(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Li(i,a,u,f){a&=~Xh,a&=~_s,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var v=a;0<v;){var T=31-xn(v),A=1<<T;f[T]=-1,v&=~A}u!==0&&$l(i,u,a)}function Pu(){return(lt&6)===0?(zo(0),!1):!0}function td(){if(je!==null){if(ct===0)var i=je.return;else i=je,Kr=cs=null,vh(i),la=null,Co=0,i=je;for(;i!==null;)wg(i.alternate,i),i=i.return;je=null}}function ya(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,ww(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),si=0,td(),Tt=i,je=u=Jr(i.current,null),et=a,ct=0,zn=null,Di=!1,ma=ts(i,a),Wh=!1,ga=$n=Xh=_s=Mi=Mt=0,On=Vo=null,Qh=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var v=31-xn(f),T=1<<v;a|=i[v],f&=~T}return ii=a,ru(),u}function Kg(i,a){Ye=null,X.H=ko,a===oa||a===fu?(a=cm(),ct=3):a===sh?(a=cm(),ct=4):ct=a===Oh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zn=a,je===null&&(Mt=1,Au(i,ar(a,i.current)))}function Wg(){var i=Vn.current;return i===null?!0:(et&4194048)===et?cr===null:(et&62914560)===et||(et&536870912)!==0?i===cr:!1}function Xg(){var i=X.H;return X.H=ko,i===null?ko:i}function Qg(){var i=X.A;return X.A=nw,i}function Uu(){Mt=4,Di||(et&4194048)!==et&&Vn.current!==null||(ma=!0),(Mi&134217727)===0&&(_s&134217727)===0||Tt===null||Li(Tt,et,$n,!1)}function nd(i,a,u){var f=lt;lt|=2;var v=Xg(),T=Qg();(Tt!==i||et!==a)&&(Lu=null,ya(i,a)),a=!1;var A=Mt;e:do try{if(ct!==0&&je!==null){var b=je,H=zn;switch(ct){case 8:td(),A=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(a=!0);var j=ct;if(ct=0,zn=null,_a(i,b,H,j),u&&ma){A=0;break e}break;default:j=ct,ct=0,zn=null,_a(i,b,H,j)}}sw(),A=Mt;break}catch(de){Kg(i,de)}while(!0);return a&&i.shellSuspendCounter++,Kr=cs=null,lt=f,X.H=v,X.A=T,je===null&&(Tt=null,et=0,ru()),A}function sw(){for(;je!==null;)jg(je)}function aw(i,a){var u=lt;lt|=2;var f=Xg(),v=Qg();Tt!==i||et!==a?(Lu=null,ku=Rt()+500,ya(i,a)):ma=ts(i,a);e:do try{if(ct!==0&&je!==null){a=je;var T=zn;t:switch(ct){case 1:ct=0,zn=null,_a(i,a,T,1);break;case 2:case 9:if(lm(T)){ct=0,zn=null,Zg(a);break}a=function(){ct!==2&&ct!==9||Tt!==i||(ct=7),Br(i)},T.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:lm(T)?(ct=0,zn=null,Zg(a)):(ct=0,zn=null,_a(i,a,T,7));break;case 5:var A=null;switch(je.tag){case 26:A=je.memoizedState;case 5:case 27:var b=je;if(A?Fv(A):b.stateNode.complete){ct=0,zn=null;var H=b.sibling;if(H!==null)je=H;else{var j=b.return;j!==null?(je=j,Fu(j)):je=null}break t}}ct=0,zn=null,_a(i,a,T,5);break;case 6:ct=0,zn=null,_a(i,a,T,6);break;case 8:td(),Mt=6;break e;default:throw Error(r(462))}}ow();break}catch(de){Kg(i,de)}while(!0);return Kr=cs=null,X.H=f,X.A=v,lt=u,je!==null?0:(Tt=null,et=0,ru(),Mt)}function ow(){for(;je!==null&&!Bl();)jg(je)}function jg(i){var a=Eg(i.alternate,i,ii);i.memoizedProps=i.pendingProps,a===null?Fu(i):je=a}function Zg(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=gg(u,a,a.pendingProps,a.type,void 0,et);break;case 11:a=gg(u,a,a.pendingProps,a.type.render,a.ref,et);break;case 5:vh(a);default:wg(u,a),a=je=Qp(a,ii),a=Eg(u,a,ii)}i.memoizedProps=i.pendingProps,a===null?Fu(i):je=a}function _a(i,a,u,f){Kr=cs=null,vh(a),la=null,Co=0;var v=a.return;try{if(WS(i,v,a,u,et)){Mt=1,Au(i,ar(u,i.current)),je=null;return}}catch(T){if(v!==null)throw je=v,T;Mt=1,Au(i,ar(u,i.current)),je=null;return}a.flags&32768?(nt||f===1?i=!0:ma||(et&536870912)!==0?i=!1:(Di=i=!0,(f===2||f===9||f===3||f===6)&&(f=Vn.current,f!==null&&f.tag===13&&(f.flags|=16384))),ev(a,i)):Fu(a)}function Fu(i){var a=i;do{if((a.flags&32768)!==0){ev(a,Di);return}i=a.return;var u=jS(a.alternate,a,ii);if(u!==null){je=u;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);Mt===0&&(Mt=5)}function ev(i,a){do{var u=ZS(i.alternate,i);if(u!==null){u.flags&=32767,je=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=u}while(i!==null);Mt=6,je=null}function tv(i,a,u,f,v,T,A,b,H){i.cancelPendingCommit=null;do Bu();while(Jt!==0);if((lt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(T=a.lanes|a.childLanes,T|=zf,Ef(i,u,T,A,b,H),i===Tt&&(je=Tt=null,et=0),va=a,ki=i,si=u,jh=T,Zh=v,zg=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fw(er,function(){return av(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=X.T,X.T=null,v=fe.p,fe.p=2,A=lt,lt|=4;try{ew(i,a,u)}finally{lt=A,fe.p=v,X.T=f}}Jt=1,nv(),rv(),iv()}}function nv(){if(Jt===1){Jt=0;var i=ki,a=va,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=X.T,X.T=null;var f=fe.p;fe.p=2;var v=lt;lt|=4;try{Pg(a,i);var T=pd,A=Vp(i.containerInfo),b=T.focusedElem,H=T.selectionRange;if(A!==b&&b&&b.ownerDocument&&Gp(b.ownerDocument.documentElement,b)){if(H!==null&&Bf(b)){var j=H.start,de=H.end;if(de===void 0&&(de=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(de,b.value.length);else{var ve=b.ownerDocument||document,ie=ve&&ve.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Pe=b.textContent.length,Ve=Math.min(H.start,Pe),yt=H.end===void 0?Ve:Math.min(H.end,Pe);!le.extend&&Ve>yt&&(A=yt,yt=Ve,Ve=A);var W=Hp(b,Ve),Y=Hp(b,yt);if(W&&Y&&(le.rangeCount!==1||le.anchorNode!==W.node||le.anchorOffset!==W.offset||le.focusNode!==Y.node||le.focusOffset!==Y.offset)){var Q=ve.createRange();Q.setStart(W.node,W.offset),le.removeAllRanges(),Ve>yt?(le.addRange(Q),le.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),le.addRange(Q))}}}}for(ve=[],le=b;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ve.length;b++){var ge=ve[b];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Qu=!!dd,pd=dd=null}finally{lt=v,fe.p=f,X.T=u}}i.current=a,Jt=2}}function rv(){if(Jt===2){Jt=0;var i=ki,a=va,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=X.T,X.T=null;var f=fe.p;fe.p=2;var v=lt;lt|=4;try{Dg(i,a.alternate,a)}finally{lt=v,fe.p=f,X.T=u}}Jt=3}}function iv(){if(Jt===4||Jt===3){Jt=0,ao();var i=ki,a=va,u=si,f=zg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Jt=5:(Jt=0,va=ki=null,sv(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Oi=null),co(u),a=a.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(yi,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=X.T,v=fe.p,fe.p=2,X.T=null;try{for(var T=i.onRecoverableError,A=0;A<f.length;A++){var b=f[A];T(b.value,{componentStack:b.stack})}}finally{X.T=a,fe.p=v}}(si&3)!==0&&Bu(),Br(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===ed?qo++:(qo=0,ed=i):qo=0,zo(0)}}function sv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,wo(a)))}function Bu(){return nv(),rv(),iv(),av()}function av(){if(Jt!==5)return!1;var i=ki,a=jh;jh=0;var u=co(si),f=X.T,v=fe.p;try{fe.p=32>u?32:u,X.T=null,u=Zh,Zh=null;var T=ki,A=si;if(Jt=0,va=ki=null,si=0,(lt&6)!==0)throw Error(r(331));var b=lt;if(lt|=4,Gg(T.current),Fg(T,T.current,A,u),lt=b,zo(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(yi,T)}catch{}return!0}finally{fe.p=v,X.T=f,sv(i,a)}}function ov(i,a,u){a=ar(u,a),a=Mh(i.stateNode,a,2),i=bi(i,a,2),i!==null&&(ns(i,2),Br(i))}function ft(i,a,u){if(i.tag===3)ov(i,i,u);else for(;a!==null;){if(a.tag===3){ov(a,i,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Oi===null||!Oi.has(f))){i=ar(u,i),u=lg(2),f=bi(a,u,2),f!==null&&(ug(u,f,a,i),ns(f,2),Br(f));break}}a=a.return}}function rd(i,a,u){var f=i.pingCache;if(f===null){f=i.pingCache=new rw;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(Wh=!0,v.add(u),i=lw.bind(null,i,a,u),a.then(i,i))}function lw(i,a,u){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Tt===i&&(et&u)===u&&(Mt===4||Mt===3&&(et&62914560)===et&&300>Rt()-Ou?(lt&2)===0&&ya(i,0):Xh|=u,ga===et&&(ga=0)),Br(i)}function lv(i,a){a===0&&(a=zl()),i=os(i,a),i!==null&&(ns(i,a),Br(i))}function uw(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),lv(i,u)}function cw(i,a){var u=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),lv(i,u)}function fw(i,a){return yr(i,a)}var Hu=null,Ta=null,id=!1,Gu=!1,sd=!1,Pi=0;function Br(i){i!==Ta&&i.next===null&&(Ta===null?Hu=Ta=i:Ta=Ta.next=i),Gu=!0,id||(id=!0,dw())}function zo(i,a){if(!sd&&Gu){sd=!0;do for(var u=!1,f=Hu;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var T=0;else{var A=f.suspendedLanes,b=f.pingedLanes;T=(1<<31-xn(42|i)+1)-1,T&=v&~(A&~b),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(u=!0,hv(f,T))}else T=et,T=zs(f,f===Tt?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||ts(f,T)||(u=!0,hv(f,T));f=f.next}while(u);sd=!1}}function hw(){uv()}function uv(){Gu=id=!1;var i=0;Pi!==0&&Sw()&&(i=Pi);for(var a=Rt(),u=null,f=Hu;f!==null;){var v=f.next,T=cv(f,a);T===0?(f.next=null,u===null?Hu=v:u.next=v,v===null&&(Ta=u)):(u=f,(i!==0||(T&3)!==0)&&(Gu=!0)),f=v}Jt!==0&&Jt!==5||zo(i),Pi!==0&&(Pi=0)}function cv(i,a){for(var u=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,T=i.pendingLanes&-62914561;0<T;){var A=31-xn(T),b=1<<A,H=v[A];H===-1?((b&u)===0||(b&f)!==0)&&(v[A]=xf(b,a)):H<=a&&(i.expiredLanes|=b),T&=~b}if(a=Tt,u=et,u=zs(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===a&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&kr(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ts(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(f!==null&&kr(f),co(u)){case 2:case 8:u=Gs;break;case 32:u=er;break;case 268435456:u=oo;break;default:u=er}return f=fv.bind(null,i),u=yr(u,f),i.callbackPriority=a,i.callbackNode=u,a}return f!==null&&f!==null&&kr(f),i.callbackPriority=2,i.callbackNode=null,2}function fv(i,a){if(Jt!==0&&Jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Bu()&&i.callbackNode!==u)return null;var f=et;return f=zs(i,i===Tt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Jg(i,f,a),cv(i,Rt()),i.callbackNode!=null&&i.callbackNode===u?fv.bind(null,i):null)}function hv(i,a){if(Bu())return null;Jg(i,a,!0)}function dw(){Aw(function(){(lt&6)!==0?yr(Hs,hw):uv()})}function ad(){if(Pi===0){var i=sa;i===0&&(i=es,es<<=1,(es&261888)===0&&(es=256)),Pi=i}return Pi}function dv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wl(""+i)}function pv(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function pw(i,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var T=dv((v[k]||null).action),A=f.submitter;A&&(a=(a=A[k]||null)?dv(a.formAction):A.getAttribute("formAction"),a!==null&&(T=a,A=null));var b=new Zl("action","action",null,f,v);i.push({event:b,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pi!==0){var H=A?pv(v,A):new FormData(v);Ch(u,{pending:!0,data:H,method:v.method,action:T},null,H)}}else typeof T=="function"&&(b.preventDefault(),H=A?pv(v,A):new FormData(v),Ch(u,{pending:!0,data:H,method:v.method,action:T},T,H))},currentTarget:v}]})}}for(var od=0;od<qf.length;od++){var ld=qf[od],mw=ld.toLowerCase(),gw=ld[0].toUpperCase()+ld.slice(1);Tr(mw,"on"+gw)}Tr($p,"onAnimationEnd"),Tr(Jp,"onAnimationIteration"),Tr(Yp,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(MS,"onTransitionRun"),Tr(OS,"onTransitionStart"),Tr(kS,"onTransitionCancel"),Tr(Kp,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),Nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function mv(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],v=f.event;f=f.listeners;e:{var T=void 0;if(a)for(var A=f.length-1;0<=A;A--){var b=f[A],H=b.instance,j=b.currentTarget;if(b=b.listener,H!==T&&v.isPropagationStopped())break e;T=b,v.currentTarget=j;try{T(v)}catch(de){nu(de)}v.currentTarget=null,T=H}else for(A=0;A<f.length;A++){if(b=f[A],H=b.instance,j=b.currentTarget,b=b.listener,H!==T&&v.isPropagationStopped())break e;T=b,v.currentTarget=j;try{T(v)}catch(de){nu(de)}v.currentTarget=null,T=H}}}}function Ze(i,a){var u=a[ee];u===void 0&&(u=a[ee]=new Set);var f=i+"__bubble";u.has(f)||(gv(a,i,2,!1),u.add(f))}function ud(i,a,u){var f=0;a&&(f|=4),gv(u,i,f,a)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function cd(i){if(!i[Vu]){i[Vu]=!0,Et.forEach(function(u){u!=="selectionchange"&&(vw.has(u)||ud(u,!1,i),ud(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Vu]||(a[Vu]=!0,ud("selectionchange",!1,a))}}function gv(i,a,u,f){switch($v(a)){case 2:var v=$w;break;case 8:v=Jw;break;default:v=Ad}u=v.bind(null,a,u,i),v=void 0,!If||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function fd(i,a,u,f,v){var T=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var b=f.stateNode.containerInfo;if(b===v)break;if(A===4)for(A=f.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;b!==null;){if(A=we(b),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){f=T=A;continue e}b=b.parentNode}}f=f.return}xp(function(){var j=T,de=Rf(u),ve=[];e:{var ie=Wp.get(i);if(ie!==void 0){var le=Zl,Pe=i;switch(i){case"keypress":if(Ql(u)===0)break e;case"keydown":case"keyup":le=cS;break;case"focusin":Pe="focus",le=kf;break;case"focusout":Pe="blur",le=kf;break;case"beforeblur":case"afterblur":le=kf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=jE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=dS;break;case $p:case Jp:case Yp:le=tS;break;case Kp:le=mS;break;case"scroll":case"scrollend":le=XE;break;case"wheel":le=vS;break;case"copy":case"cut":case"paste":le=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Cp;break;case"toggle":case"beforetoggle":le=_S}var Ve=(a&4)!==0,yt=!Ve&&(i==="scroll"||i==="scrollend"),W=Ve?ie!==null?ie+"Capture":null:ie;Ve=[];for(var Y=j,Q;Y!==null;){var ge=Y;if(Q=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||Q===null||W===null||(ge=ho(Y,W),ge!=null&&Ve.push(Jo(Y,ge,Q))),yt)break;Y=Y.return}0<Ve.length&&(ie=new le(ie,Pe,null,u,de),ve.push({event:ie,listeners:Ve}))}}if((a&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ie&&u!==bf&&(Pe=u.relatedTarget||u.fromElement)&&(we(Pe)||Pe[P]))break e;if((le||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Pe=u.relatedTarget||u.toElement,le=j,Pe=Pe?we(Pe):null,Pe!==null&&(yt=o(Pe),Ve=Pe.tag,Pe!==yt||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(le=null,Pe=j),le!==Pe)){if(Ve=wp,ge="onMouseLeave",W="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Cp,ge="onPointerLeave",W="onPointerEnter",Y="pointer"),yt=le==null?ie:xe(le),Q=Pe==null?ie:xe(Pe),ie=new Ve(ge,Y+"leave",le,u,de),ie.target=yt,ie.relatedTarget=Q,ge=null,we(de)===j&&(Ve=new Ve(W,Y+"enter",Pe,u,de),Ve.target=Q,Ve.relatedTarget=yt,ge=Ve),yt=ge,le&&Pe)t:{for(Ve=yw,W=le,Y=Pe,Q=0,ge=W;ge;ge=Ve(ge))Q++;ge=0;for(var Ge=Y;Ge;Ge=Ve(Ge))ge++;for(;0<Q-ge;)W=Ve(W),Q--;for(;0<ge-Q;)Y=Ve(Y),ge--;for(;Q--;){if(W===Y||Y!==null&&W===Y.alternate){Ve=W;break t}W=Ve(W),Y=Ve(Y)}Ve=null}else Ve=null;le!==null&&vv(ve,ie,le,Ve,!1),Pe!==null&&yt!==null&&vv(ve,yt,Pe,Ve,!0)}}e:{if(ie=j?xe(j):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var it=kp;else if(Mp(ie))if(Lp)it=NS;else{it=bS;var Fe=CS}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?j&&Cf(j.elementType)&&(it=kp):it=RS;if(it&&(it=it(i,j))){Op(ve,it,u,de);break e}Fe&&Fe(i,ie,j),i==="focusout"&&j&&ie.type==="number"&&j.memoizedProps.value!=null&&Af(ie,"number",ie.value)}switch(Fe=j?xe(j):window,i){case"focusin":(Mp(Fe)||Fe.contentEditable==="true")&&(Qs=Fe,Hf=j,xo=null);break;case"focusout":xo=Hf=Qs=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,qp(ve,u,de);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":qp(ve,u,de)}var Ke;if(Pf)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Xs?Ip(i,u)&&(tt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(bp&&u.locale!=="ko"&&(Xs||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Xs&&(Ke=Ep()):(Ti=de,Df="value"in Ti?Ti.value:Ti.textContent,Xs=!0)),Fe=qu(j,tt),0<Fe.length&&(tt=new Ap(tt,i,null,u,de),ve.push({event:tt,listeners:Fe}),Ke?tt.data=Ke:(Ke=Dp(u),Ke!==null&&(tt.data=Ke)))),(Ke=xS?ES(i,u):SS(i,u))&&(tt=qu(j,"onBeforeInput"),0<tt.length&&(Fe=new Ap("onBeforeInput","beforeinput",null,u,de),ve.push({event:Fe,listeners:tt}),Fe.data=Ke)),pw(ve,i,j,u,de)}mv(ve,a)})}function Jo(i,a,u){return{instance:i,listener:a,currentTarget:u}}function qu(i,a){for(var u=a+"Capture",f=[];i!==null;){var v=i,T=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||T===null||(v=ho(i,u),v!=null&&f.unshift(Jo(i,v,T)),v=ho(i,a),v!=null&&f.push(Jo(i,v,T))),i.tag===3)return f;i=i.return}return[]}function yw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vv(i,a,u,f,v){for(var T=a._reactName,A=[];u!==null&&u!==f;){var b=u,H=b.alternate,j=b.stateNode;if(b=b.tag,H!==null&&H===f)break;b!==5&&b!==26&&b!==27||j===null||(H=j,v?(j=ho(u,T),j!=null&&A.unshift(Jo(u,j,H))):v||(j=ho(u,T),j!=null&&A.push(Jo(u,j,H)))),u=u.return}A.length!==0&&i.push({event:a,listeners:A})}var _w=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function yv(i){return(typeof i=="string"?i:""+i).replace(_w,`
`).replace(Tw,"")}function _v(i,a){return a=yv(a),yv(i)===a}function vt(i,a,u,f,v,T){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Ys(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Ys(i,""+f);break;case"className":Yl(i,"class",f);break;case"tabIndex":Yl(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(i,u,f);break;case"style":_p(i,f,T);break;case"data":if(a!=="object"){Yl(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Wl(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(a!=="input"&&vt(i,a,"name",v.name,v,null),vt(i,a,"formEncType",v.formEncType,v,null),vt(i,a,"formMethod",v.formMethod,v,null),vt(i,a,"formTarget",v.formTarget,v,null)):(vt(i,a,"encType",v.encType,v,null),vt(i,a,"method",v.method,v,null),vt(i,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Wl(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=zr);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Wl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),Rn(i,"popover",f);break;case"xlinkActuate":qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":qr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":qr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":qr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":qr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Rn(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=KE.get(u)||u,Rn(i,u,f))}}function hd(i,a,u,f,v,T){switch(u){case"style":_p(i,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Ys(i,f):(typeof f=="number"||typeof f=="bigint")&&Ys(i,""+f);break;case"onScroll":f!=null&&Ze("scroll",i);break;case"onScrollEnd":f!=null&&Ze("scrollend",i);break;case"onClick":f!=null&&(i.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!St.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),T=i[k]||null,T=T!=null?T[u]:null,typeof T=="function"&&i.removeEventListener(a,T,v),typeof f=="function")){typeof T!="function"&&T!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,f,v);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Rn(i,u,f)}}}function sn(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var f=!1,v=!1,T;for(T in u)if(u.hasOwnProperty(T)){var A=u[T];if(A!=null)switch(T){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,T,A,u,null)}}v&&vt(i,a,"srcSet",u.srcSet,u,null),f&&vt(i,a,"src",u.src,u,null);return;case"input":Ze("invalid",i);var b=T=A=v=null,H=null,j=null;for(f in u)if(u.hasOwnProperty(f)){var de=u[f];if(de!=null)switch(f){case"name":v=de;break;case"type":A=de;break;case"checked":H=de;break;case"defaultChecked":j=de;break;case"value":T=de;break;case"defaultValue":b=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:vt(i,a,f,de,u,null)}}mp(i,T,b,H,j,A,v,!1);return;case"select":Ze("invalid",i),f=A=T=null;for(v in u)if(u.hasOwnProperty(v)&&(b=u[v],b!=null))switch(v){case"value":T=b;break;case"defaultValue":A=b;break;case"multiple":f=b;default:vt(i,a,v,b,u,null)}a=T,u=A,i.multiple=!!f,a!=null?Js(i,!!f,a,!1):u!=null&&Js(i,!!f,u,!0);return;case"textarea":Ze("invalid",i),T=v=f=null;for(A in u)if(u.hasOwnProperty(A)&&(b=u[A],b!=null))switch(A){case"value":f=b;break;case"defaultValue":v=b;break;case"children":T=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:vt(i,a,A,b,u,null)}vp(i,f,v,T);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:vt(i,a,H,f,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(f=0;f<$o.length;f++)Ze($o[f],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in u)if(u.hasOwnProperty(j)&&(f=u[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,j,f,u,null)}return;default:if(Cf(a)){for(de in u)u.hasOwnProperty(de)&&(f=u[de],f!==void 0&&hd(i,a,de,f,u,void 0));return}}for(b in u)u.hasOwnProperty(b)&&(f=u[b],f!=null&&vt(i,a,b,f,u,null))}function xw(i,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,T=null,A=null,b=null,H=null,j=null,de=null;for(le in u){var ve=u[le];if(u.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=ve;default:f.hasOwnProperty(le)||vt(i,a,le,null,f,ve)}}for(var ie in f){var le=f[ie];if(ve=u[ie],f.hasOwnProperty(ie)&&(le!=null||ve!=null))switch(ie){case"type":T=le;break;case"name":v=le;break;case"checked":j=le;break;case"defaultChecked":de=le;break;case"value":A=le;break;case"defaultValue":b=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==ve&&vt(i,a,ie,le,f,ve)}}wf(i,A,b,H,j,de,T,v);return;case"select":le=A=b=ie=null;for(T in u)if(H=u[T],u.hasOwnProperty(T)&&H!=null)switch(T){case"value":break;case"multiple":le=H;default:f.hasOwnProperty(T)||vt(i,a,T,null,f,H)}for(v in f)if(T=f[v],H=u[v],f.hasOwnProperty(v)&&(T!=null||H!=null))switch(v){case"value":ie=T;break;case"defaultValue":b=T;break;case"multiple":A=T;default:T!==H&&vt(i,a,v,T,f,H)}a=b,u=A,f=le,ie!=null?Js(i,!!u,ie,!1):!!f!=!!u&&(a!=null?Js(i,!!u,a,!0):Js(i,!!u,u?[]:"",!1));return;case"textarea":le=ie=null;for(b in u)if(v=u[b],u.hasOwnProperty(b)&&v!=null&&!f.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:vt(i,a,b,null,f,v)}for(A in f)if(v=f[A],T=u[A],f.hasOwnProperty(A)&&(v!=null||T!=null))switch(A){case"value":ie=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==T&&vt(i,a,A,v,f,T)}gp(i,ie,le);return;case"option":for(var Pe in u)if(ie=u[Pe],u.hasOwnProperty(Pe)&&ie!=null&&!f.hasOwnProperty(Pe))switch(Pe){case"selected":i.selected=!1;break;default:vt(i,a,Pe,null,f,ie)}for(H in f)if(ie=f[H],le=u[H],f.hasOwnProperty(H)&&ie!==le&&(ie!=null||le!=null))switch(H){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:vt(i,a,H,ie,f,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in u)ie=u[Ve],u.hasOwnProperty(Ve)&&ie!=null&&!f.hasOwnProperty(Ve)&&vt(i,a,Ve,null,f,ie);for(j in f)if(ie=f[j],le=u[j],f.hasOwnProperty(j)&&ie!==le&&(ie!=null||le!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:vt(i,a,j,ie,f,le)}return;default:if(Cf(a)){for(var yt in u)ie=u[yt],u.hasOwnProperty(yt)&&ie!==void 0&&!f.hasOwnProperty(yt)&&hd(i,a,yt,void 0,f,ie);for(de in f)ie=f[de],le=u[de],!f.hasOwnProperty(de)||ie===le||ie===void 0&&le===void 0||hd(i,a,de,ie,f,le);return}}for(var W in u)ie=u[W],u.hasOwnProperty(W)&&ie!=null&&!f.hasOwnProperty(W)&&vt(i,a,W,null,f,ie);for(ve in f)ie=f[ve],le=u[ve],!f.hasOwnProperty(ve)||ie===le||ie==null&&le==null||vt(i,a,ve,ie,f,le)}function Tv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ew(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],T=v.transferSize,A=v.initiatorType,b=v.duration;if(T&&b&&Tv(A)){for(A=0,b=v.responseEnd,f+=1;f<u.length;f++){var H=u[f],j=H.startTime;if(j>b)break;var de=H.transferSize,ve=H.initiatorType;de&&Tv(ve)&&(H=H.responseEnd,A+=de*(H<b?1:(b-j)/(H-j)))}if(--f,a+=8*(T+A)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dd=null,pd=null;function zu(i){return i.nodeType===9?i:i.ownerDocument}function xv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function md(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gd=null;function Sw(){var i=window.event;return i&&i.type==="popstate"?i===gd?!1:(gd=i,!0):(gd=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(i){return wv.resolve(null).then(i).catch(Cw)}:Sv;function Cw(i){setTimeout(function(){throw i})}function Ui(i){return i==="head"}function Av(i,a){var u=a,f=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){i.removeChild(v),wa(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Yo(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Yo(u);for(var T=u.firstChild;T;){var A=T.nextSibling,b=T.nodeName;T[se]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=A}}else u==="body"&&Yo(i.ownerDocument.body);u=v}while(u);wa(a)}function Cv(i,a){var u=i;i=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=f}while(u)}function vd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vd(u),Te(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function bw(i,a,u,f){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[se])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(T=i.getAttribute("rel"),T==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(T!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(T=i.getAttribute("src"),(T!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&T&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var T=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===T)return i}else return i;if(i=fr(i.nextSibling),i===null)break}return null}function Rw(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=fr(i.nextSibling),i===null))return null;return i}function bv(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=fr(i.nextSibling),i===null))return null;return i}function yd(i){return i.data==="$?"||i.data==="$~"}function _d(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Nw(i,a){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function fr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Td=null;function Rv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(a===0)return fr(i.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}i=i.nextSibling}return null}function Nv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return i;a--}else u!=="/$"&&u!=="/&"||a++}i=i.previousSibling}return null}function Iv(i,a,u){switch(a=zu(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Te(i)}var hr=new Map,Dv=new Set;function $u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ai=fe.d;fe.d={f:Iw,r:Dw,D:Mw,C:Ow,L:kw,m:Lw,X:Uw,S:Pw,M:Fw};function Iw(){var i=ai.f(),a=Pu();return i||a}function Dw(i){var a=De(i);a!==null&&a.tag===5&&a.type==="form"?Km(a):ai.r(i)}var xa=typeof document>"u"?null:document;function Mv(i,a,u){var f=xa;if(f&&typeof a=="string"&&a){var v=ir(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Dv.has(v)||(Dv.add(v),i={rel:i,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),sn(a,"link",i),Ue(a),f.head.appendChild(a)))}}function Mw(i){ai.D(i),Mv("dns-prefetch",i,null)}function Ow(i,a){ai.C(i,a),Mv("preconnect",i,a)}function kw(i,a,u){ai.L(i,a,u);var f=xa;if(f&&i&&a){var v='link[rel="preload"][as="'+ir(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+ir(u.imageSizes)+'"]')):v+='[href="'+ir(i)+'"]';var T=v;switch(a){case"style":T=Ea(i);break;case"script":T=Sa(i)}hr.has(T)||(i=_({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),hr.set(T,i),f.querySelector(v)!==null||a==="style"&&f.querySelector(Ko(T))||a==="script"&&f.querySelector(Wo(T))||(a=f.createElement("link"),sn(a,"link",i),Ue(a),f.head.appendChild(a)))}}function Lw(i,a){ai.m(i,a);var u=xa;if(u&&i){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+ir(f)+'"][href="'+ir(i)+'"]',T=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Sa(i)}if(!hr.has(T)&&(i=_({rel:"modulepreload",href:i},a),hr.set(T,i),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wo(T)))return}f=u.createElement("link"),sn(f,"link",i),Ue(f),u.head.appendChild(f)}}}function Pw(i,a,u){ai.S(i,a,u);var f=xa;if(f&&i){var v=Ie(f).hoistableStyles,T=Ea(i);a=a||"default";var A=v.get(T);if(!A){var b={loading:0,preload:null};if(A=f.querySelector(Ko(T)))b.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},u),(u=hr.get(T))&&xd(i,u);var H=A=f.createElement("link");Ue(H),sn(H,"link",i),H._p=new Promise(function(j,de){H.onload=j,H.onerror=de}),H.addEventListener("load",function(){b.loading|=1}),H.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ju(A,a,f)}A={type:"stylesheet",instance:A,count:1,state:b},v.set(T,A)}}}function Uw(i,a){ai.X(i,a);var u=xa;if(u&&i){var f=Ie(u).hoistableScripts,v=Sa(i),T=f.get(v);T||(T=u.querySelector(Wo(v)),T||(i=_({src:i,async:!0},a),(a=hr.get(v))&&Ed(i,a),T=u.createElement("script"),Ue(T),sn(T,"link",i),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(v,T))}}function Fw(i,a){ai.M(i,a);var u=xa;if(u&&i){var f=Ie(u).hoistableScripts,v=Sa(i),T=f.get(v);T||(T=u.querySelector(Wo(v)),T||(i=_({src:i,async:!0,type:"module"},a),(a=hr.get(v))&&Ed(i,a),T=u.createElement("script"),Ue(T),sn(T,"link",i),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(v,T))}}function Ov(i,a,u,f){var v=(v=oe.current)?$u(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ea(u.href),u=Ie(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ea(u.href);var T=Ie(v).hoistableStyles,A=T.get(i);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(i,A),(T=v.querySelector(Ko(i)))&&!T._p&&(A.instance=T,A.state.loading=5),hr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},hr.set(i,u),T||Bw(v,i,u,A.state))),a&&f===null)throw Error(r(528,""));return A}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Sa(u),u=Ie(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ea(i){return'href="'+ir(i)+'"'}function Ko(i){return'link[rel="stylesheet"]['+i+"]"}function kv(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function Bw(i,a,u,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),sn(a,"link",u),Ue(a),i.head.appendChild(a))}function Sa(i){return'[src="'+ir(i)+'"]'}function Wo(i){return"script[async]"+i}function Lv(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+ir(u.href)+'"]');if(f)return a.instance=f,Ue(f),f;var v=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ue(f),sn(f,"style",v),Ju(f,u.precedence,i),a.instance=f;case"stylesheet":v=Ea(u.href);var T=i.querySelector(Ko(v));if(T)return a.state.loading|=4,a.instance=T,Ue(T),T;f=kv(u),(v=hr.get(v))&&xd(f,v),T=(i.ownerDocument||i).createElement("link"),Ue(T);var A=T;return A._p=new Promise(function(b,H){A.onload=b,A.onerror=H}),sn(T,"link",f),a.state.loading|=4,Ju(T,u.precedence,i),a.instance=T;case"script":return T=Sa(u.src),(v=i.querySelector(Wo(T)))?(a.instance=v,Ue(v),v):(f=u,(v=hr.get(T))&&(f=_({},u),Ed(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),Ue(v),sn(v,"link",f),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Ju(f,u.precedence,i));return a.instance}function Ju(i,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,T=v,A=0;A<f.length;A++){var b=f[A];if(b.dataset.precedence===a)T=b;else if(T!==v)break}T?T.parentNode.insertBefore(i,T.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function xd(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Ed(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Yu=null;function Pv(i,a,u){if(Yu===null){var f=new Map,v=Yu=new Map;v.set(u,f)}else v=Yu,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var T=u[v];if(!(T[se]||T[M]||i==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var A=T.getAttribute(a)||"";A=i+A;var b=f.get(A);b?b.push(T):f.set(A,[T])}}return f}function Uv(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function Hw(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Fv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Gw(i,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ea(f.href),T=a.querySelector(Ko(v));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Ku.bind(i),a.then(i,i)),u.state.loading|=4,u.instance=T,Ue(T);return}T=a.ownerDocument||a,f=kv(f),(v=hr.get(v))&&xd(f,v),T=T.createElement("link"),Ue(T);var A=T;A._p=new Promise(function(b,H){A.onload=b,A.onerror=H}),sn(T,"link",f),u.instance=T}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Ku.bind(i),a.addEventListener("load",u),a.addEventListener("error",u))}}var Sd=0;function Vw(i,a){return i.stylesheets&&i.count===0&&Xu(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var f=setTimeout(function(){if(i.stylesheets&&Xu(i,i.stylesheets),i.unsuspend){var T=i.unsuspend;i.unsuspend=null,T()}},6e4+a);0<i.imgBytes&&Sd===0&&(Sd=62500*Ew());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xu(i,i.stylesheets),i.unsuspend)){var T=i.unsuspend;i.unsuspend=null,T()}},(i.imgBytes>Sd?50:800)+a);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wu=null;function Xu(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wu=new Map,a.forEach(qw,i),Wu=null,Ku.call(i))}function qw(i,a){if(!(a.state.loading&4)){var u=Wu.get(i);if(u)var f=u.get(null);else{u=new Map,Wu.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<v.length;T++){var A=v[T];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}v=a.instance,A=v.getAttribute("data-precedence"),T=u.get(A)||f,T===f&&u.set(null,v),u.set(A,v),this.count++,f=Ku.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),T?T.parentNode.insertBefore(v,T.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var Xo={$$typeof:N,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function zw(i,a,u,f,v,T,A,b,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=T,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Bv(i,a,u,f,v,T,A,b,H,j,de,ve){return i=new zw(i,a,u,A,H,j,de,ve,b),a=1,T===!0&&(a|=24),T=Gn(3,null,null,a),i.current=T,T.stateNode=i,a=nh(),a.refCount++,i.pooledCache=a,a.refCount++,T.memoizedState={element:f,isDehydrated:u,cache:a},ah(T),i}function Hv(i){return i?(i=ea,i):ea}function Gv(i,a,u,f,v,T){v=Hv(v),f.context===null?f.context=v:f.pendingContext=v,f=Ci(a),f.payload={element:u},T=T===void 0?null:T,T!==null&&(f.callback=T),u=bi(i,f,a),u!==null&&(kn(u,i,a),Ro(u,i,a))}function Vv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function wd(i,a){Vv(i,a),(i=i.alternate)&&Vv(i,a)}function qv(i){if(i.tag===13||i.tag===31){var a=os(i,67108864);a!==null&&kn(a,i,67108864),wd(i,67108864)}}function zv(i){if(i.tag===13||i.tag===31){var a=Jn();a=uo(a);var u=os(i,a);u!==null&&kn(u,i,a),wd(i,a)}}var Qu=!0;function $w(i,a,u,f){var v=X.T;X.T=null;var T=fe.p;try{fe.p=2,Ad(i,a,u,f)}finally{fe.p=T,X.T=v}}function Jw(i,a,u,f){var v=X.T;X.T=null;var T=fe.p;try{fe.p=8,Ad(i,a,u,f)}finally{fe.p=T,X.T=v}}function Ad(i,a,u,f){if(Qu){var v=Cd(f);if(v===null)fd(i,a,f,ju,u),Jv(i,f);else if(Kw(v,i,a,u,f))f.stopPropagation();else if(Jv(i,f),a&4&&-1<Yw.indexOf(i)){for(;v!==null;){var T=De(v);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var A=tr(T.pendingLanes);if(A!==0){var b=T;for(b.pendingLanes|=2,b.entangledLanes|=2;A;){var H=1<<31-xn(A);b.entanglements[1]|=H,A&=~H}Br(T),(lt&6)===0&&(ku=Rt()+500,zo(0))}}break;case 31:case 13:b=os(T,2),b!==null&&kn(b,T,2),Pu(),wd(T,2)}if(T=Cd(f),T===null&&fd(i,a,f,ju,u),T===v)break;v=T}v!==null&&f.stopPropagation()}else fd(i,a,f,null,u)}}function Cd(i){return i=Rf(i),bd(i)}var ju=null;function bd(i){if(ju=null,i=we(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=l(a),i!==null)return i;i=null}else if(u===31){if(i=c(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return ju=i,null}function $v(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case Hs:return 2;case Gs:return 8;case er:case _f:return 32;case oo:return 268435456;default:return 32}default:return 32}}var Rd=!1,Fi=null,Bi=null,Hi=null,Qo=new Map,jo=new Map,Gi=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(i,a){switch(i){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Qo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(a.pointerId)}}function Zo(i,a,u,f,v,T){return i===null||i.nativeEvent!==T?(i={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:T,targetContainers:[v]},a!==null&&(a=De(a),a!==null&&qv(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function Kw(i,a,u,f,v){switch(a){case"focusin":return Fi=Zo(Fi,i,a,u,f,v),!0;case"dragenter":return Bi=Zo(Bi,i,a,u,f,v),!0;case"mouseover":return Hi=Zo(Hi,i,a,u,f,v),!0;case"pointerover":var T=v.pointerId;return Qo.set(T,Zo(Qo.get(T)||null,i,a,u,f,v)),!0;case"gotpointercapture":return T=v.pointerId,jo.set(T,Zo(jo.get(T)||null,i,a,u,f,v)),!0}return!1}function Yv(i){var a=we(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){i.blockedOn=a,L(i.priority,function(){zv(u)});return}}else if(a===31){if(a=c(u),a!==null){i.blockedOn=a,L(i.priority,function(){zv(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zu(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Cd(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);bf=f,u.target.dispatchEvent(f),bf=null}else return a=De(u),a!==null&&qv(a),i.blockedOn=u,!1;a.shift()}return!0}function Kv(i,a,u){Zu(i)&&u.delete(a)}function Ww(){Rd=!1,Fi!==null&&Zu(Fi)&&(Fi=null),Bi!==null&&Zu(Bi)&&(Bi=null),Hi!==null&&Zu(Hi)&&(Hi=null),Qo.forEach(Kv),jo.forEach(Kv)}function ec(i,a){i.blockedOn===a&&(i.blockedOn=null,Rd||(Rd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ww)))}var tc=null;function Wv(i){tc!==i&&(tc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tc===i&&(tc=null);for(var a=0;a<i.length;a+=3){var u=i[a],f=i[a+1],v=i[a+2];if(typeof f!="function"){if(bd(f||u)===null)continue;break}var T=De(u);T!==null&&(i.splice(a,3),a-=3,Ch(T,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function wa(i){function a(H){return ec(H,i)}Fi!==null&&ec(Fi,i),Bi!==null&&ec(Bi,i),Hi!==null&&ec(Hi,i),Qo.forEach(a),jo.forEach(a);for(var u=0;u<Gi.length;u++){var f=Gi[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Gi.length&&(u=Gi[0],u.blockedOn===null);)Yv(u),u.blockedOn===null&&Gi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],T=u[f+1],A=v[k]||null;if(typeof T=="function")A||Wv(u);else if(A){var b=null;if(T&&T.hasAttribute("formAction")){if(v=T,A=T[k]||null)b=A.formAction;else if(bd(v)!==null)continue}else b=A.action;typeof b=="function"?u[f+1]=b:(u.splice(f,3),f-=3),Wv(u)}}}function Xv(){function i(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Nd(i){this._internalRoot=i}nc.prototype.render=Nd.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=Jn();Gv(u,f,i,a,null,null)},nc.prototype.unmount=Nd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Gv(i.current,2,null,i,null,null),Pu(),a[P]=null}};function nc(i){this._internalRoot=i}nc.prototype.unstable_scheduleHydration=function(i){if(i){var a=C();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Gi.length&&a!==0&&a<Gi[u].priority;u++);Gi.splice(u,0,i),u===0&&Yv(i)}};var Qv=e.version;if(Qv!=="19.2.4")throw Error(r(527,Qv,"19.2.4"));fe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Xw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{yi=rc.inject(Xw),pn=rc}catch{}}return tl.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,f="",v=ig,T=sg,A=ag;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=Bv(i,1,!1,null,null,u,f,null,v,T,A,Xv),i[P]=a.current,cd(i),new Nd(a)},tl.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var f=!1,v="",T=ig,A=sg,b=ag,H=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(b=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),a=Bv(i,1,!0,a,u??null,f,v,H,T,A,b,Xv),a.context=Hv(null),u=a.current,f=Jn(),f=uo(f),v=Ci(f),v.callback=null,bi(u,v,f),u=f,a.current.lanes=u,ns(a,u),Br(a),i[P]=a.current,cd(i),new nc(a)},tl.version="19.2.4",tl}var oy;function aA(){if(oy)return Md.exports;oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Md.exports=sA(),Md.exports}var oA=aA();const lA=tT(oA);var M0=(t=>(t.DOCUMENT="/",t.ELECTRONICS="/IT",t.CLOTHING="/",t.HOUSEHOLD="",t.DIGITAL=" ",t.OTHER="",t))(M0||{});const ly=["","","",""],uy=["","","1","2","3","","",""],uA=["","","",""],cA=["","MYBOX","USB","","","PC","PC","","",""],fA=Object.values(M0),Zc="   ?";var hA={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dA,pA;function mA(){return{geminiUrl:dA,vertexUrl:pA}}function gA(t,e,n,r){var s,o;if(!(t!=null&&t.baseUrl)){const l=mA();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pi{}function Me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let h=0;h<d.length;h++){const m=d[h];g(m,e.slice(o+1),n[h])}else for(const h of d)g(h,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];g(d[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>p(c,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function vA(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let d=0;d<s.length;d++)if(s[d]==="*"){c=d;break}if(c!==-1&&o.length>c)for(let d=c;d<o.length;d++){const h=o[d];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}t0(t,s,o,0,l)}}function t0(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])t0(d,e,n,r+1,s)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(h=>!h.startsWith("_")&&!s.has(h)),d={};for(const h of c)d[h]=l[h];for(const[h,m]of Object.entries(d)){const _=[];for(const y of n.slice(r))y==="*"?_.push(h):_.push(y);g(l,_,m)}for(const h of c)delete l[h]}}else{const l=t;o in l&&t0(l[o],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function _A(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],xA(l)),e}function TA(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],EA(l)),e}function xA(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>SA(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function EA(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>wA(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function SA(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],IA(n)),e}function wA(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],DA(n)),e}function AA(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function CA(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function bA(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],RA(l)),e}function RA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function nT(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],NA(l)),e}function NA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function IA(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],O0(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function DA(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],O0(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cy||(cy={}));var fy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fy||(fy={}));var hy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(hy||(hy={}));var Ji;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ji||(Ji={}));var dy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dy||(dy={}));var py;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(py||(py={}));var my;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(my||(my={}));var gy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gy||(gy={}));var vy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(vy||(vy={}));var yy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yy||(yy={}));var _y;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(_y||(_y={}));var Ty;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Ty||(Ty={}));var xy;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xy||(xy={}));var Ey;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ey||(Ey={}));var Sy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Sy||(Sy={}));var wy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(wy||(wy={}));var Ay;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ay||(Ay={}));var Cy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cy||(Cy={}));var by;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(by||(by={}));var Ry;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ry||(Ry={}));var Ny;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ny||(Ny={}));var Rc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rc||(Rc={}));var Iy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Iy||(Iy={}));var Dy;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Dy||(Dy={}));var My;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(My||(My={}));var n0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(n0||(n0={}));var Oy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Oy||(Oy={}));var ky;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ky||(ky={}));var r0;(function(t){t.COLLECTION="COLLECTION"})(r0||(r0={}));var Ly;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ly||(Ly={}));var Py;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Py||(Py={}));var Uy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Uy||(Uy={}));var Fy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Fy||(Fy={}));var By;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(By||(By={}));var Hy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hy||(Hy={}));var Gy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gy||(Gy={}));var Vy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vy||(Vy={}));var qy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qy||(qy={}));var zy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(zy||(zy={}));var $y;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})($y||($y={}));var Jy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Jy||(Jy={}));var Yy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Yy||(Yy={}));var Ky;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(Ky||(Ky={}));var Wy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Wy||(Wy={}));var Xy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Xy||(Xy={}));var Qy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Qy||(Qy={}));var jy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jy||(jy={}));var Zy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Zy||(Zy={}));var e_;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(e_||(e_={}));var t_;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(t_||(t_={}));var n_;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(n_||(n_={}));var r_;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(r_||(r_={}));var i_;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(i_||(i_={}));var s_;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(s_||(s_={}));var a_;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(a_||(a_={}));var o_;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(o_||(o_={}));var Ha;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ha||(Ha={}));class i0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class nl{get text(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const _=[];for(const y of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[x,S]of Object.entries(y))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(S!==null||S!==void 0)&&_.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;m=!0,h+=y.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const _ of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[y,x]of Object.entries(_))y!=="inlineData"&&(x!==null||x!==void 0)&&m.push(y);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,s,o,l,c,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,s,o,l,c,d,h;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,s,o,l,c,d,h;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class l_{}class u_{}class MA{}class OA{}class kA{}class LA{}class c_{}class f_{}class h_{}class PA{}class Nc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Nc;let s;const o=e;return n?s=TA(o):s=_A(o),Object.assign(r,s),r}}class d_{}class p_{}class m_{}class g_{}class UA{}class FA{}class BA{}class k0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new k0,o=bA(e);return Object.assign(r,o),r}}class HA{}class GA{}class VA{}class qA{}class v_{}class zA{get text(){var e,n,r;let s="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,h]of Object.entries(c))d!=="text"&&d!=="thought"&&h!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?s:void 0}get data(){var e,n,r;let s="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class $A{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class L0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new L0,o=nT(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rT(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iT(t){return Array.isArray(t)?t.map(e=>Ic(e)):[Ic(t)]}function Ic(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sT(t){const e=Ic(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function aT(t){const e=Ic(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function y_(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function oT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>y_(e)):[y_(t)]}function s0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function __(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function T_(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vn(t){if(t==null)throw new Error("ContentUnion is required");return s0(t)?t:{role:"user",parts:oT(t)}}function P0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vn(n)):[vn(e)]}function mr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(__(t)||T_(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vn(t)]}const e=[],n=[],r=s0(t[0]);for(const s of t){const o=s0(s);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(s);else{if(__(s)||T_(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:oT(n)}),e}function JA(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ji).includes(n[0].toUpperCase())?n[0].toUpperCase():Ji.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ji).includes(r.toUpperCase())?r.toUpperCase():Ji.TYPE_UNSPECIFIED})}}function za(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&JA(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Ji).includes(c.toUpperCase())?c.toUpperCase():Ji.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=za(c);else if(r.includes(l)){const d=[];for(const h of c){if(h.type=="null"){e.nullable=!0;continue}d.push(za(h))}e[l]=d}else if(s.includes(l)){const d={};for(const[h,m]of Object.entries(c))d[h]=za(m);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function U0(t){return za(t)}function F0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function B0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ja(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=za(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=za(e.response));return t}function Za(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function YA(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function mi(t,e){if(typeof e!="string")throw new Error("name must be a string");return YA(t,e,"cachedContents")}function lT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ji(t){return O0(t)}function KA(t){return t!=null&&typeof t=="object"&&"name"in t}function WA(t){return t!=null&&typeof t=="object"&&"video"in t}function XA(t){return t!=null&&typeof t=="object"&&"uri"in t}function uT(t){var e;let n;if(KA(t)&&(n=t.name),!(XA(t)&&(n=t.uri,n===void 0))&&!(WA(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fT(t){for(const e of["models","tunedModels","publisherModels"])if(QA(t,e))return t[e];return[]}function QA(t,e){return t!==null&&typeof t=="object"&&e in t}function jA(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ZA(t,e={}){const n=[],r=new Set;for(const s of t){const o=s.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=jA(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function hT(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function e2(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dT(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let o=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function eo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function pT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t2(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>L2(l))),g(e,["inlinedResponses"],o)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["inlinedEmbedContentResponses"],o)}return e}function n2(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function r2(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ac(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],pT(s));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const d=p(t,["metadata","model"]);d!=null&&g(e,["model"],d);const h=p(t,["metadata","output"]);return h!=null&&g(e,["dest"],t2(dT(h))),e}function a0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],pT(s));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(e,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(e,["updateTime"],h);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const _=p(t,["inputConfig"]);_!=null&&g(e,["src"],i2(_));const y=p(t,["outputConfig"]);y!=null&&g(e,["dest"],n2(dT(y)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function i2(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function s2(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>k2(t,l))),g(n,["requests","requests"],o)}return n}function a2(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o2(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function l2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function u2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function c2(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],f2(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["safetyRatings"],y)}const _=p(t,["urlContextMetadata"]);return _!=null&&g(e,["urlContextMetadata"],_),e}function f2(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function mT(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>V2(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function h2(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function d2(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],r2(e2(s))),n}function x_(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],s2(t,hT(t,s)));const o=p(e,["config"]);return o!=null&&h2(o,n),n}function p2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],a2(hT(t,s)));const o=p(e,["config"]);return o!=null&&d2(o,n),n}function m2(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function g2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ot(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],S2(t,s));const o=p(e,["config"]);return o!=null&&m2(o,n),n}function v2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function y2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function _2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function T2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function x2(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=P0(t,r);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["requests[]","request","content"],o)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],E2(s,n)),vA(n,{"requests[].*":"requests[].request.*"})),n}function E2(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function S2(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],x2(t,s)),n}function w2(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function A2(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C2(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function b2(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],mT(vn(s)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const l=p(e,["topP"]);l!=null&&g(r,["topP"],l);const c=p(e,["topK"]);c!=null&&g(r,["topK"],c);const d=p(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const h=p(e,["maxOutputTokens"]);h!=null&&g(r,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(r,["stopSequences"],m);const _=p(e,["responseLogprobs"]);_!=null&&g(r,["responseLogprobs"],_);const y=p(e,["logprobs"]);y!=null&&g(r,["logprobs"],y);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const S=p(e,["frequencyPenalty"]);S!=null&&g(r,["frequencyPenalty"],S);const E=p(e,["seed"]);E!=null&&g(r,["seed"],E);const w=p(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const R=p(e,["responseSchema"]);R!=null&&g(r,["responseSchema"],U0(R));const O=p(e,["responseJsonSchema"]);if(O!=null&&g(r,["responseJsonSchema"],O),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let ue=N;Array.isArray(ue)&&(ue=ue.map(ye=>q2(ye))),g(n,["safetySettings"],ue)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let ue=Za(F);Array.isArray(ue)&&(ue=ue.map(ye=>$2(ja(ye)))),g(n,["tools"],ue)}const V=p(e,["toolConfig"]);if(n!==void 0&&V!=null&&g(n,["toolConfig"],z2(V)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=p(e,["cachedContent"]);n!==void 0&&ne!=null&&g(n,["cachedContent"],mi(t,ne));const U=p(e,["responseModalities"]);U!=null&&g(r,["responseModalities"],U);const Z=p(e,["mediaResolution"]);Z!=null&&g(r,["mediaResolution"],Z);const z=p(e,["speechConfig"]);if(z!=null&&g(r,["speechConfig"],F0(z)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=p(e,["thinkingConfig"]);ae!=null&&g(r,["thinkingConfig"],ae);const ce=p(e,["imageConfig"]);ce!=null&&g(r,["imageConfig"],O2(ce));const me=p(e,["enableEnhancedCivicAnswers"]);if(me!=null&&g(r,["enableEnhancedCivicAnswers"],me),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function R2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>c2(h))),g(e,["candidates"],d)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function N2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function I2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function D2(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function M2(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function O2(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function k2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],ot(t,r));const s=p(e,["contents"]);if(s!=null){let c=mr(s);Array.isArray(c)&&(c=c.map(d=>mT(d))),g(n,["request","contents"],c)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(e,["config"]);return l!=null&&g(n,["request","generationConfig"],b2(t,l,p(n,["request"],{}))),n}function L2(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],R2(n));const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function P2(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function U2(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function F2(t){const e={},n=p(t,["config"]);return n!=null&&P2(n,e),e}function B2(t){const e={},n=p(t,["config"]);return n!=null&&U2(n,e),e}function H2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Ac(l))),g(e,["batchJobs"],o)}return e}function G2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>a0(l))),g(e,["batchJobs"],o)}return e}function V2(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],w2(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],A2(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],o2(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function q2(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function z2(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],C2(r)),e}function $2(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],D2(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],M2(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(fi||(fi={}));class Ms{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J2 extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=x_(this.apiClient,e),r=n._url,s=Me("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,h=[];for(const m of d){const _=Object.assign({},m);if(_.systemInstruction){const y=_.systemInstruction;delete _.systemInstruction;const x=_.request;x.systemInstruction=y,_.request=x}h.push(_)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${s}`;else if(l)r.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=p2(this.apiClient,e);return c=Me("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>a0(m))}else{const h=x_(this.apiClient,e);return c=Me("{model}:batchGenerateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>Ac(m))}}async createEmbeddingsInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=g2(this.apiClient,e);return o=Me("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Ac(d))}}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=I2(this.apiClient,e);return c=Me("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>a0(m))}else{const h=N2(this.apiClient,e);return c=Me("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>Ac(m))}}async cancel(e){var n,r,s,o;let l="",c={};if(this.apiClient.isVertexAI()){const d=u2(this.apiClient,e);l=Me("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=l2(this.apiClient,e);l=Me("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=B2(e);return c=Me("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=G2(m),y=new v_;return Object.assign(y,_),y})}else{const h=F2(e);return c=Me("batches",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=H2(m),y=new v_;return Object.assign(y,_),y})}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=y2(this.apiClient,e);return c=Me("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>T2(m))}else{const h=v2(this.apiClient,e);return c=Me("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>_2(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y2(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function E_(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>gC(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function K2(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=mr(l);Array.isArray(m)&&(m=m.map(_=>E_(_))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],E_(vn(c)));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(_=>yC(_))),g(e,["tools"],m)}const h=p(t,["toolConfig"]);if(e!==void 0&&h!=null&&g(e,["toolConfig"],vC(h)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function W2(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let _=mr(l);Array.isArray(_)&&(_=_.map(y=>y)),g(e,["contents"],_)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],vn(c));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let _=d;Array.isArray(_)&&(_=_.map(y=>_C(y))),g(e,["tools"],_)}const h=p(t,["toolConfig"]);e!==void 0&&h!=null&&g(e,["toolConfig"],h);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function X2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],rT(t,r));const s=p(e,["config"]);return s!=null&&K2(s,n),n}function Q2(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],rT(t,r));const s=p(e,["config"]);return s!=null&&W2(s,n),n}function j2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function Z2(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function eC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function tC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function nC(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rC(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iC(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sC(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function aC(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function oC(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],mi(t,r)),n}function lC(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function uC(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function cC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function fC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function hC(t){const e={},n=p(t,["config"]);return n!=null&&cC(n,e),e}function dC(t){const e={},n=p(t,["config"]);return n!=null&&fC(n,e),e}function pC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function mC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function gC(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],nC(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],rC(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],Y2(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function vC(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],iC(r)),e}function yC(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],lC(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],uC(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function _C(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>sC(y))),g(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const h=p(t,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function TC(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function xC(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function EC(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],mi(t,r));const s=p(e,["config"]);return s!=null&&TC(s,n),n}function SC(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],mi(t,r));const s=p(e,["config"]);return s!=null&&xC(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=Q2(this.apiClient,e);return c=Me("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=X2(this.apiClient,e);return c=Me("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=oC(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=aC(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=Z2(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=tC(m),y=new m_;return Object.assign(y,_),y})}else{const h=j2(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=eC(m),y=new m_;return Object.assign(y,_),y})}}async update(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=SC(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=EC(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=dC(e);return c=Me("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=mC(m),y=new g_;return Object.assign(y,_),y})}else{const h=hC(e);return c=Me("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=pC(m),y=new g_;return Object.assign(y,_),y})}}}function Dc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function S_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(t){return this instanceof $e?(this.v=t,this):new $e(t)}function Ir(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(x){return function(S){return Promise.resolve(S).then(x,_)}}function c(x,S){r[x]&&(s[x]=function(E){return new Promise(function(w,R){o.push([x,E,w,R])>1||d(x,E)})},S&&(s[x]=S(s[x])))}function d(x,S){try{h(r[x](S))}catch(E){y(o[0][3],E)}}function h(x){x.value instanceof $e?Promise.resolve(x.value.v).then(m,_):y(o[0][2],x)}function m(x){d("next",x)}function _(x){d("throw",x)}function y(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Dr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S_=="function"?S_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,d){l=t[o](l),s(c,d,l.done,l.value)})}}function s(o,l,c,d){Promise.resolve(d).then(function(h){o({value:h,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:gT(n)}function gT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function w_(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let o=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),o&&!gT(t[r])&&(o=!1),r++;o?e.push(...s):e.pop()}return e}class bC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new RC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class RC{constructor(e,n,r,s={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),CC(o)}async sendMessage(e){var n;await this.sendPromise;const r=vn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const d=await s,h=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,m=d.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let y=[];m!=null&&(y=(c=m.slice(_))!==null&&c!==void 0?c:[]);const x=h?[h]:[];this.recordHistory(r,x,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=vn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=await s;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?w_(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ir(this,arguments,function*(){var s,o,l,c,d,h;const m=[];try{for(var _=!0,y=Dr(e),x;x=yield $e(y.next()),s=x.done,!s;_=!0){c=x.value,_=!1;const S=c;if(AC(S)){const E=(h=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content;E!==void 0&&m.push(E)}yield yield $e(S)}}catch(S){o={error:S}}finally{try{!_&&!s&&(l=y.return)&&(yield $e(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(o=>o.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...w_(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function IC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DC(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],uT(n)),e}function MC(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function OC(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],uT(n)),e}function kC(t){const e={},n=p(t,["uris"]);return n!=null&&g(e,["uris"],n),e}function LC(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function PC(t){const e={},n=p(t,["config"]);return n!=null&&LC(n,e),e}function UC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["files"],o)}return e}function FC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=PC(e);return o=Me("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=UC(d),m=new HA;return Object.assign(m,h),m})}}async createInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=NC(e);return o=Me("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=IC(d),m=new GA;return Object.assign(m,h),m})}}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=OC(e);return o=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DC(e);return o=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=MC(d),m=new VA;return Object.assign(m,h),m})}}async registerFilesInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kC(e);return o=Me("files:register",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=FC(d),m=new qA;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cc(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function HC(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>nb(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function GC(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function VC(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qC(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zC(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const d=p(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const h=p(t,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const _=p(t,["presencePenalty"]);_!=null&&g(e,["presencePenalty"],_);const y=p(t,["responseLogprobs"]);y!=null&&g(e,["responseLogprobs"],y);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const S=p(t,["responseModalities"]);S!=null&&g(e,["responseModalities"],S);const E=p(t,["responseSchema"]);E!=null&&g(e,["responseSchema"],E);const w=p(t,["routingConfig"]);w!=null&&g(e,["routingConfig"],w);const R=p(t,["seed"]);R!=null&&g(e,["seed"],R);const O=p(t,["speechConfig"]);O!=null&&g(e,["speechConfig"],O);const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const F=p(t,["temperature"]);F!=null&&g(e,["temperature"],F);const V=p(t,["thinkingConfig"]);V!=null&&g(e,["thinkingConfig"],V);const ne=p(t,["topK"]);ne!=null&&g(e,["topK"],ne);const U=p(t,["topP"]);if(U!=null&&g(e,["topP"],U),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $C(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function JC(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function YC(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],B0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],HC(vn(S)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let ne=Za(E);Array.isArray(ne)&&(ne=ne.map(U=>ib(ja(U)))),g(e,["setup","tools"],ne)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],rb(w));const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","inputAudioTranscription"],R);const O=p(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","outputAudioTranscription"],O);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const F=p(t,["contextWindowCompression"]);e!==void 0&&F!=null&&g(e,["setup","contextWindowCompression"],F);const V=p(t,["proactivity"]);if(e!==void 0&&V!=null&&g(e,["setup","proactivity"],V),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function KC(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],zC(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],B0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],vn(S));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let U=Za(E);Array.isArray(U)&&(U=U.map(Z=>sb(ja(Z)))),g(e,["setup","tools"],U)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],w);const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","inputAudioTranscription"],R);const O=p(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","outputAudioTranscription"],O);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const F=p(t,["contextWindowCompression"]);e!==void 0&&F!=null&&g(e,["setup","contextWindowCompression"],F);const V=p(t,["proactivity"]);e!==void 0&&V!=null&&g(e,["setup","proactivity"],V);const ne=p(t,["explicitVadSignal"]);return e!==void 0&&ne!=null&&g(e,["setup","explicitVadSignal"],ne),n}function WC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],YC(s,n)),n}function XC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],KC(s,n)),n}function QC(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function jC(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function ZC(t){const e={},n=p(t,["media"]);if(n!=null){let h=iT(n);Array.isArray(h)&&(h=h.map(m=>Cc(m))),g(e,["mediaChunks"],h)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Cc(aT(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const o=p(t,["video"]);o!=null&&g(e,["video"],Cc(sT(o)));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function eb(t){const e={},n=p(t,["media"]);if(n!=null){let h=iT(n);Array.isArray(h)&&(h=h.map(m=>m)),g(e,["mediaChunks"],h)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],aT(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const o=p(t,["video"]);o!=null&&g(e,["video"],sT(o));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function tb(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const l=p(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],ab(l));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const d=p(t,["sessionResumptionUpdate"]);d!=null&&g(e,["sessionResumptionUpdate"],d);const h=p(t,["voiceActivityDetectionSignal"]);h!=null&&g(e,["voiceActivityDetectionSignal"],h);const m=p(t,["voiceActivity"]);return m!=null&&g(e,["voiceActivity"],ob(m)),e}function nb(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],GC(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],VC(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],Cc(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function rb(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ib(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],$C(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],JC(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function sb(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>qC(y))),g(e,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const h=p(t,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function ab(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const l=p(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const d=p(t,["promptTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),g(e,["promptTokensDetails"],x)}const h=p(t,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),g(e,["cacheTokensDetails"],x)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>S)),g(e,["responseTokensDetails"],x)}const _=p(t,["toolUsePromptTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(S=>S)),g(e,["toolUsePromptTokensDetails"],x)}const y=p(t,["trafficType"]);return y!=null&&g(e,["trafficType"],y),e}function ob(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lb(t,e){const n={},r=p(t,["data"]);if(r!=null&&g(n,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function ub(t,e){const n={},r=p(t,["content"]);r!=null&&g(n,["content"],r);const s=p(t,["citationMetadata"]);s!=null&&g(n,["citationMetadata"],cb(s));const o=p(t,["tokenCount"]);o!=null&&g(n,["tokenCount"],o);const l=p(t,["finishReason"]);l!=null&&g(n,["finishReason"],l);const c=p(t,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=p(t,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const h=p(t,["index"]);h!=null&&g(n,["index"],h);const m=p(t,["logprobsResult"]);m!=null&&g(n,["logprobsResult"],m);const _=p(t,["safetyRatings"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(S=>S)),g(n,["safetyRatings"],x)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(n,["urlContextMetadata"],y),n}function cb(t,e){const n={},r=p(t,["citationSources"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(n,["citations"],s)}return n}function fb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let l=mr(o);Array.isArray(l)&&(l=l.map(c=>c)),g(r,["contents"],l)}return r}function hb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(n,["tokensInfo"],o)}return n}function db(t,e){const n={},r=p(t,["values"]);r!=null&&g(n,["values"],r);const s=p(t,["statistics"]);return s!=null&&g(n,["statistics"],pb(s)),n}function pb(t,e){const n={},r=p(t,["truncated"]);r!=null&&g(n,["truncated"],r);const s=p(t,["token_count"]);return s!=null&&g(n,["tokenCount"],s),n}function ef(t,e){const n={},r=p(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>SR(l))),g(n,["parts"],o)}const s=p(t,["role"]);return s!=null&&g(n,["role"],s),n}function mb(t,e){const n={},r=p(t,["controlType"]);r!=null&&g(n,["controlType"],r);const s=p(t,["enableControlImageComputation"]);return s!=null&&g(n,["computeControl"],s),n}function gb(t,e){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vb(t,e,n){const r={},s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&g(e,["systemInstruction"],vn(s));const o=p(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>TT(d))),g(e,["tools"],c)}const l=p(t,["generationConfig"]);return e!==void 0&&l!=null&&g(e,["generationConfig"],lR(l)),r}function yb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>ef(d))),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&gb(l),r}function _b(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&vb(l,r),r}function Tb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["totalTokens"]);s!=null&&g(n,["totalTokens"],s);const o=p(t,["cachedContentTokenCount"]);return o!=null&&g(n,["cachedContentTokenCount"],o),n}function xb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["totalTokens"]);return s!=null&&g(n,["totalTokens"],s),n}function Eb(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function Sb(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function wb(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Ab(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function Cb(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const m=p(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&g(e,["parameters","safetySetting"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const x=p(t,["includeRaiReason"]);e!==void 0&&x!=null&&g(e,["parameters","includeRaiReason"],x);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const R=p(t,["addWatermark"]);e!==void 0&&R!=null&&g(e,["parameters","addWatermark"],R);const O=p(t,["labels"]);e!==void 0&&O!=null&&g(e,["labels"],O);const N=p(t,["editMode"]);e!==void 0&&N!=null&&g(e,["parameters","editMode"],N);const F=p(t,["baseSteps"]);return e!==void 0&&F!=null&&g(e,["parameters","editConfig","baseSteps"],F),r}function bb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>NR(h))),g(r,["instances[0]","referenceImages"],d)}const c=p(e,["config"]);return c!=null&&Cb(c,r),r}function Rb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>tf(l))),g(n,["generatedImages"],o)}return n}function Nb(t,e,n){const r={},s=p(t,["taskType"]);e!==void 0&&s!=null&&g(e,["requests[]","taskType"],s);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const l=p(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Ib(t,e,n){const r={},s=p(t,["taskType"]);e!==void 0&&s!=null&&g(e,["instances[]","task_type"],s);const o=p(t,["title"]);e!==void 0&&o!=null&&g(e,["instances[]","title"],o);const l=p(t,["outputDimensionality"]);e!==void 0&&l!=null&&g(e,["parameters","outputDimensionality"],l);const c=p(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const d=p(t,["autoTruncate"]);return e!==void 0&&d!=null&&g(e,["parameters","autoTruncate"],d),r}function Db(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let d=P0(t,o);Array.isArray(d)&&(d=d.map(h=>h)),g(r,["requests[]","content"],d)}const l=p(e,["config"]);l!=null&&Nb(l,r);const c=p(e,["model"]);return c!==void 0&&g(r,["requests[]","model"],ot(t,c)),r}function Mb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=P0(t,o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["instances[]","content"],c)}const l=p(e,["config"]);return l!=null&&Ib(l,r),r}function Ob(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),g(n,["embeddings"],l)}const o=p(t,["metadata"]);return o!=null&&g(n,["metadata"],o),n}function kb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>db(c))),g(n,["embeddings"],l)}const o=p(t,["metadata"]);return o!=null&&g(n,["metadata"],o),n}function Lb(t,e){const n={},r=p(t,["endpoint"]);r!=null&&g(n,["name"],r);const s=p(t,["deployedModelId"]);return s!=null&&g(n,["deployedModelId"],s),n}function Pb(t,e){const n={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&g(n,["fileUri"],r);const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function Ub(t,e){const n={},r=p(t,["id"]);r!=null&&g(n,["id"],r);const s=p(t,["args"]);s!=null&&g(n,["args"],s);const o=p(t,["name"]);if(o!=null&&g(n,["name"],o),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Fb(t,e){const n={},r=p(t,["allowedFunctionNames"]);r!=null&&g(n,["allowedFunctionNames"],r);const s=p(t,["mode"]);if(s!=null&&g(n,["mode"],s),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Bb(t,e){const n={},r=p(t,["description"]);r!=null&&g(n,["description"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["parameters"]);o!=null&&g(n,["parameters"],o);const l=p(t,["parametersJsonSchema"]);l!=null&&g(n,["parametersJsonSchema"],l);const c=p(t,["response"]);c!=null&&g(n,["response"],c);const d=p(t,["responseJsonSchema"]);if(d!=null&&g(n,["responseJsonSchema"],d),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Hb(t,e,n,r){const s={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],ef(vn(o)));const l=p(e,["temperature"]);l!=null&&g(s,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(s,["topP"],c);const d=p(e,["topK"]);d!=null&&g(s,["topK"],d);const h=p(e,["candidateCount"]);h!=null&&g(s,["candidateCount"],h);const m=p(e,["maxOutputTokens"]);m!=null&&g(s,["maxOutputTokens"],m);const _=p(e,["stopSequences"]);_!=null&&g(s,["stopSequences"],_);const y=p(e,["responseLogprobs"]);y!=null&&g(s,["responseLogprobs"],y);const x=p(e,["logprobs"]);x!=null&&g(s,["logprobs"],x);const S=p(e,["presencePenalty"]);S!=null&&g(s,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(s,["frequencyPenalty"],E);const w=p(e,["seed"]);w!=null&&g(s,["seed"],w);const R=p(e,["responseMimeType"]);R!=null&&g(s,["responseMimeType"],R);const O=p(e,["responseSchema"]);O!=null&&g(s,["responseSchema"],U0(O));const N=p(e,["responseJsonSchema"]);if(N!=null&&g(s,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=p(e,["safetySettings"]);if(n!==void 0&&F!=null){let ye=F;Array.isArray(ye)&&(ye=ye.map(Ee=>IR(Ee))),g(n,["safetySettings"],ye)}const V=p(e,["tools"]);if(n!==void 0&&V!=null){let ye=Za(V);Array.isArray(ye)&&(ye=ye.map(Ee=>UR(ja(Ee)))),g(n,["tools"],ye)}const ne=p(e,["toolConfig"]);if(n!==void 0&&ne!=null&&g(n,["toolConfig"],PR(ne)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],mi(t,U));const Z=p(e,["responseModalities"]);Z!=null&&g(s,["responseModalities"],Z);const z=p(e,["mediaResolution"]);z!=null&&g(s,["mediaResolution"],z);const ae=p(e,["speechConfig"]);if(ae!=null&&g(s,["speechConfig"],F0(ae)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=p(e,["thinkingConfig"]);ce!=null&&g(s,["thinkingConfig"],ce);const me=p(e,["imageConfig"]);me!=null&&g(s,["imageConfig"],dR(me));const ue=p(e,["enableEnhancedCivicAnswers"]);if(ue!=null&&g(s,["enableEnhancedCivicAnswers"],ue),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function Gb(t,e,n,r){const s={},o=p(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],vn(o));const l=p(e,["temperature"]);l!=null&&g(s,["temperature"],l);const c=p(e,["topP"]);c!=null&&g(s,["topP"],c);const d=p(e,["topK"]);d!=null&&g(s,["topK"],d);const h=p(e,["candidateCount"]);h!=null&&g(s,["candidateCount"],h);const m=p(e,["maxOutputTokens"]);m!=null&&g(s,["maxOutputTokens"],m);const _=p(e,["stopSequences"]);_!=null&&g(s,["stopSequences"],_);const y=p(e,["responseLogprobs"]);y!=null&&g(s,["responseLogprobs"],y);const x=p(e,["logprobs"]);x!=null&&g(s,["logprobs"],x);const S=p(e,["presencePenalty"]);S!=null&&g(s,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(s,["frequencyPenalty"],E);const w=p(e,["seed"]);w!=null&&g(s,["seed"],w);const R=p(e,["responseMimeType"]);R!=null&&g(s,["responseMimeType"],R);const O=p(e,["responseSchema"]);O!=null&&g(s,["responseSchema"],U0(O));const N=p(e,["responseJsonSchema"]);N!=null&&g(s,["responseJsonSchema"],N);const F=p(e,["routingConfig"]);F!=null&&g(s,["routingConfig"],F);const V=p(e,["modelSelectionConfig"]);V!=null&&g(s,["modelConfig"],V);const ne=p(e,["safetySettings"]);if(n!==void 0&&ne!=null){let be=ne;Array.isArray(be)&&(be=be.map(ke=>ke)),g(n,["safetySettings"],be)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let be=Za(U);Array.isArray(be)&&(be=be.map(ke=>TT(ja(ke)))),g(n,["tools"],be)}const Z=p(e,["toolConfig"]);n!==void 0&&Z!=null&&g(n,["toolConfig"],Z);const z=p(e,["labels"]);n!==void 0&&z!=null&&g(n,["labels"],z);const ae=p(e,["cachedContent"]);n!==void 0&&ae!=null&&g(n,["cachedContent"],mi(t,ae));const ce=p(e,["responseModalities"]);ce!=null&&g(s,["responseModalities"],ce);const me=p(e,["mediaResolution"]);me!=null&&g(s,["mediaResolution"],me);const ue=p(e,["speechConfig"]);ue!=null&&g(s,["speechConfig"],F0(ue));const ye=p(e,["audioTimestamp"]);ye!=null&&g(s,["audioTimestamp"],ye);const Ee=p(e,["thinkingConfig"]);Ee!=null&&g(s,["thinkingConfig"],Ee);const X=p(e,["imageConfig"]);if(X!=null&&g(s,["imageConfig"],pR(X)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const fe=p(e,["modelArmorConfig"]);return n!==void 0&&fe!=null&&g(n,["modelArmorConfig"],fe),s}function A_(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>ef(d))),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(r,["generationConfig"],Hb(t,l,r)),r}function C_(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["contents"]);if(o!=null){let c=mr(o);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=p(e,["config"]);return l!=null&&g(r,["generationConfig"],Gb(t,l,r)),r}function b_(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>ub(m))),g(n,["candidates"],h)}const o=p(t,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const l=p(t,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(n,["responseId"],c);const d=p(t,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function R_(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(_=>_)),g(n,["candidates"],m)}const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["modelVersion"]);l!=null&&g(n,["modelVersion"],l);const c=p(t,["promptFeedback"]);c!=null&&g(n,["promptFeedback"],c);const d=p(t,["responseId"]);d!=null&&g(n,["responseId"],d);const h=p(t,["usageMetadata"]);return h!=null&&g(n,["usageMetadata"],h),n}function Vb(t,e,n){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);if(e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const m=p(t,["includeRaiReason"]);e!==void 0&&m!=null&&g(e,["parameters","includeRaiReason"],m);const _=p(t,["language"]);e!==void 0&&_!=null&&g(e,["parameters","language"],_);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const x=p(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&g(e,["parameters","outputOptions","compressionQuality"],x),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function qb(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const l=p(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=p(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const m=p(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&g(e,["parameters","safetySetting"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const x=p(t,["includeRaiReason"]);e!==void 0&&x!=null&&g(e,["parameters","includeRaiReason"],x);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const R=p(t,["addWatermark"]);e!==void 0&&R!=null&&g(e,["parameters","addWatermark"],R);const O=p(t,["labels"]);e!==void 0&&O!=null&&g(e,["labels"],O);const N=p(t,["imageSize"]);e!==void 0&&N!=null&&g(e,["parameters","sampleImageSize"],N);const F=p(t,["enhancePrompt"]);return e!==void 0&&F!=null&&g(e,["parameters","enhancePrompt"],F),r}function zb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["config"]);return l!=null&&Vb(l,r),r}function $b(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["config"]);return l!=null&&qb(l,r),r}function Jb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>iR(c))),g(n,["generatedImages"],l)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],yT(o)),n}function Yb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>tf(c))),g(n,["generatedImages"],l)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],_T(o)),n}function Kb(t,e,n){const r={},s=p(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=p(t,["durationSeconds"]);if(e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const d=p(t,["personGeneration"]);if(e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const m=p(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&g(e,["parameters","enhancePrompt"],m),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=p(t,["lastFrame"]);e!==void 0&&_!=null&&g(e,["instances[0]","lastFrame"],nf(_));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>XR(S))),g(e,["instances[0]","referenceImages"],x)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Wb(t,e,n){const r={},s=p(t,["numberOfVideos"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const l=p(t,["fps"]);e!==void 0&&l!=null&&g(e,["parameters","fps"],l);const c=p(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const m=p(t,["resolution"]);e!==void 0&&m!=null&&g(e,["parameters","resolution"],m);const _=p(t,["personGeneration"]);e!==void 0&&_!=null&&g(e,["parameters","personGeneration"],_);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const x=p(t,["negativePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","negativePrompt"],x);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=p(t,["generateAudio"]);e!==void 0&&E!=null&&g(e,["parameters","generateAudio"],E);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],Or(w));const R=p(t,["referenceImages"]);if(e!==void 0&&R!=null){let F=R;Array.isArray(F)&&(F=F.map(V=>QR(V))),g(e,["instances[0]","referenceImages"],F)}const O=p(t,["mask"]);e!==void 0&&O!=null&&g(e,["instances[0]","mask"],WR(O));const N=p(t,["compressionQuality"]);return e!==void 0&&N!=null&&g(e,["parameters","compressionQuality"],N),r}function Xb(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);l!=null&&g(n,["error"],l);const c=p(t,["response","generateVideoResponse"]);return c!=null&&g(n,["response"],eR(c)),n}function Qb(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);l!=null&&g(n,["error"],l);const c=p(t,["response"]);return c!=null&&g(n,["response"],tR(c)),n}function jb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["image"]);l!=null&&g(r,["instances[0]","image"],nf(l));const c=p(e,["video"]);c!=null&&g(r,["instances[0]","video"],xT(c));const d=p(e,["source"]);d!=null&&nR(d,r);const h=p(e,["config"]);return h!=null&&Kb(h,r),r}function Zb(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["prompt"]);o!=null&&g(r,["instances[0]","prompt"],o);const l=p(e,["image"]);l!=null&&g(r,["instances[0]","image"],Or(l));const c=p(e,["video"]);c!=null&&g(r,["instances[0]","video"],ET(c));const d=p(e,["source"]);d!=null&&rR(d,r);const h=p(e,["config"]);return h!=null&&Wb(h,r),r}function eR(t,e){const n={},r=p(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>aR(c))),g(n,["generatedVideos"],l)}const s=p(t,["raiMediaFilteredCount"]);s!=null&&g(n,["raiMediaFilteredCount"],s);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function tR(t,e){const n={},r=p(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>oR(c))),g(n,["generatedVideos"],l)}const s=p(t,["raiMediaFilteredCount"]);s!=null&&g(n,["raiMediaFilteredCount"],s);const o=p(t,["raiMediaFilteredReasons"]);return o!=null&&g(n,["raiMediaFilteredReasons"],o),n}function nR(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],nf(o));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],xT(l)),r}function rR(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Or(o));const l=p(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],ET(l)),r}function iR(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["image"],mR(r));const s=p(t,["raiFilteredReason"]);s!=null&&g(n,["raiFilteredReason"],s);const o=p(t,["_self"]);return o!=null&&g(n,["safetyAttributes"],yT(o)),n}function tf(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["image"],vT(r));const s=p(t,["raiFilteredReason"]);s!=null&&g(n,["raiFilteredReason"],s);const o=p(t,["_self"]);o!=null&&g(n,["safetyAttributes"],_T(o));const l=p(t,["prompt"]);return l!=null&&g(n,["enhancedPrompt"],l),n}function sR(t,e){const n={},r=p(t,["_self"]);r!=null&&g(n,["mask"],vT(r));const s=p(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(n,["labels"],o)}return n}function aR(t,e){const n={},r=p(t,["video"]);return r!=null&&g(n,["video"],YR(r)),n}function oR(t,e){const n={},r=p(t,["_self"]);return r!=null&&g(n,["video"],KR(r)),n}function lR(t,e){const n={},r=p(t,["modelSelectionConfig"]);r!=null&&g(n,["modelConfig"],r);const s=p(t,["responseJsonSchema"]);s!=null&&g(n,["responseJsonSchema"],s);const o=p(t,["audioTimestamp"]);o!=null&&g(n,["audioTimestamp"],o);const l=p(t,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=p(t,["enableAffectiveDialog"]);c!=null&&g(n,["enableAffectiveDialog"],c);const d=p(t,["frequencyPenalty"]);d!=null&&g(n,["frequencyPenalty"],d);const h=p(t,["logprobs"]);h!=null&&g(n,["logprobs"],h);const m=p(t,["maxOutputTokens"]);m!=null&&g(n,["maxOutputTokens"],m);const _=p(t,["mediaResolution"]);_!=null&&g(n,["mediaResolution"],_);const y=p(t,["presencePenalty"]);y!=null&&g(n,["presencePenalty"],y);const x=p(t,["responseLogprobs"]);x!=null&&g(n,["responseLogprobs"],x);const S=p(t,["responseMimeType"]);S!=null&&g(n,["responseMimeType"],S);const E=p(t,["responseModalities"]);E!=null&&g(n,["responseModalities"],E);const w=p(t,["responseSchema"]);w!=null&&g(n,["responseSchema"],w);const R=p(t,["routingConfig"]);R!=null&&g(n,["routingConfig"],R);const O=p(t,["seed"]);O!=null&&g(n,["seed"],O);const N=p(t,["speechConfig"]);N!=null&&g(n,["speechConfig"],N);const F=p(t,["stopSequences"]);F!=null&&g(n,["stopSequences"],F);const V=p(t,["temperature"]);V!=null&&g(n,["temperature"],V);const ne=p(t,["thinkingConfig"]);ne!=null&&g(n,["thinkingConfig"],ne);const U=p(t,["topK"]);U!=null&&g(n,["topK"],U);const Z=p(t,["topP"]);if(Z!=null&&g(n,["topP"],Z),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function uR(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function cR(t,e,n){const r={},s=p(e,["model"]);return s!=null&&g(r,["_url","name"],ot(t,s)),r}function fR(t,e){const n={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&g(n,["enableWidget"],r),n}function hR(t,e){const n={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],r),n}function dR(t,e){const n={},r=p(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const s=p(t,["imageSize"]);if(s!=null&&g(n,["imageSize"],s),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function pR(t,e){const n={},r=p(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const s=p(t,["imageSize"]);s!=null&&g(n,["imageSize"],s);const o=p(t,["personGeneration"]);o!=null&&g(n,["personGeneration"],o);const l=p(t,["outputMimeType"]);l!=null&&g(n,["imageOutputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);return c!=null&&g(n,["imageOutputOptions","compressionQuality"],c),n}function mR(t,e){const n={},r=p(t,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],ji(r));const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function vT(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["bytesBase64Encoded"]);s!=null&&g(n,["imageBytes"],ji(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function nf(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],ji(r));const s=p(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function Or(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["imageBytes"]);s!=null&&g(n,["bytesBase64Encoded"],ji(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function gR(t,e,n,r){const s={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const l=p(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=p(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],cT(t,d)),s}function vR(t,e,n,r){const s={},o=p(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const l=p(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=p(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=p(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],cT(t,d)),s}function yR(t,e,n){const r={},s=p(e,["config"]);return s!=null&&gR(t,s,r),r}function _R(t,e,n){const r={},s=p(e,["config"]);return s!=null&&vR(t,s,r),r}function TR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["_self"]);if(o!=null){let l=fT(o);Array.isArray(l)&&(l=l.map(c=>o0(c))),g(n,["models"],l)}return n}function xR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["_self"]);if(o!=null){let l=fT(o);Array.isArray(l)&&(l=l.map(c=>l0(c))),g(n,["models"],l)}return n}function ER(t,e){const n={},r=p(t,["maskMode"]);r!=null&&g(n,["maskMode"],r);const s=p(t,["segmentationClasses"]);s!=null&&g(n,["maskClasses"],s);const o=p(t,["maskDilation"]);return o!=null&&g(n,["dilation"],o),n}function o0(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["displayName"]);s!=null&&g(n,["displayName"],s);const o=p(t,["description"]);o!=null&&g(n,["description"],o);const l=p(t,["version"]);l!=null&&g(n,["version"],l);const c=p(t,["_self"]);c!=null&&g(n,["tunedModelInfo"],FR(c));const d=p(t,["inputTokenLimit"]);d!=null&&g(n,["inputTokenLimit"],d);const h=p(t,["outputTokenLimit"]);h!=null&&g(n,["outputTokenLimit"],h);const m=p(t,["supportedGenerationMethods"]);m!=null&&g(n,["supportedActions"],m);const _=p(t,["temperature"]);_!=null&&g(n,["temperature"],_);const y=p(t,["maxTemperature"]);y!=null&&g(n,["maxTemperature"],y);const x=p(t,["topP"]);x!=null&&g(n,["topP"],x);const S=p(t,["topK"]);S!=null&&g(n,["topK"],S);const E=p(t,["thinking"]);return E!=null&&g(n,["thinking"],E),n}function l0(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["name"],r);const s=p(t,["displayName"]);s!=null&&g(n,["displayName"],s);const o=p(t,["description"]);o!=null&&g(n,["description"],o);const l=p(t,["versionId"]);l!=null&&g(n,["version"],l);const c=p(t,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>Lb(x))),g(n,["endpoints"],y)}const d=p(t,["labels"]);d!=null&&g(n,["labels"],d);const h=p(t,["_self"]);h!=null&&g(n,["tunedModelInfo"],BR(h));const m=p(t,["defaultCheckpointId"]);m!=null&&g(n,["defaultCheckpointId"],m);const _=p(t,["checkpoints"]);if(_!=null){let y=_;Array.isArray(y)&&(y=y.map(x=>x)),g(n,["checkpoints"],y)}return n}function SR(t,e){const n={},r=p(t,["mediaResolution"]);r!=null&&g(n,["mediaResolution"],r);const s=p(t,["codeExecutionResult"]);s!=null&&g(n,["codeExecutionResult"],s);const o=p(t,["executableCode"]);o!=null&&g(n,["executableCode"],o);const l=p(t,["fileData"]);l!=null&&g(n,["fileData"],Pb(l));const c=p(t,["functionCall"]);c!=null&&g(n,["functionCall"],Ub(c));const d=p(t,["functionResponse"]);d!=null&&g(n,["functionResponse"],d);const h=p(t,["inlineData"]);h!=null&&g(n,["inlineData"],lb(h));const m=p(t,["text"]);m!=null&&g(n,["text"],m);const _=p(t,["thought"]);_!=null&&g(n,["thought"],_);const y=p(t,["thoughtSignature"]);y!=null&&g(n,["thoughtSignature"],y);const x=p(t,["videoMetadata"]);return x!=null&&g(n,["videoMetadata"],x),n}function wR(t,e){const n={},r=p(t,["productImage"]);return r!=null&&g(n,["image"],Or(r)),n}function AR(t,e,n){const r={},s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["baseSteps"]);e!==void 0&&o!=null&&g(e,["parameters","baseSteps"],o);const l=p(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const m=p(t,["addWatermark"]);e!==void 0&&m!=null&&g(e,["parameters","addWatermark"],m);const _=p(t,["outputMimeType"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","mimeType"],_);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const S=p(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),r}function CR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["source"]);o!=null&&RR(o,r);const l=p(e,["config"]);return l!=null&&AR(l,r),r}function bR(t,e){const n={},r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>tf(o))),g(n,["generatedImages"],s)}return n}function RR(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["personImage"]);e!==void 0&&o!=null&&g(e,["instances[0]","personImage","image"],Or(o));const l=p(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wR(d))),g(e,["instances[0]","productImages"],c)}return r}function NR(t,e){const n={},r=p(t,["referenceImage"]);r!=null&&g(n,["referenceImage"],Or(r));const s=p(t,["referenceId"]);s!=null&&g(n,["referenceId"],s);const o=p(t,["referenceType"]);o!=null&&g(n,["referenceType"],o);const l=p(t,["maskImageConfig"]);l!=null&&g(n,["maskImageConfig"],ER(l));const c=p(t,["controlImageConfig"]);c!=null&&g(n,["controlImageConfig"],mb(c));const d=p(t,["styleImageConfig"]);d!=null&&g(n,["styleImageConfig"],d);const h=p(t,["subjectImageConfig"]);return h!=null&&g(n,["subjectImageConfig"],h),n}function yT(t,e){const n={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const s=p(t,["safetyAttributes","scores"]);s!=null&&g(n,["scores"],s);const o=p(t,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function _T(t,e){const n={},r=p(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const s=p(t,["safetyAttributes","scores"]);s!=null&&g(n,["scores"],s);const o=p(t,["contentType"]);return o!=null&&g(n,["contentType"],o),n}function IR(t,e){const n={},r=p(t,["category"]);if(r!=null&&g(n,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=p(t,["threshold"]);return s!=null&&g(n,["threshold"],s),n}function DR(t,e){const n={},r=p(t,["image"]);return r!=null&&g(n,["image"],Or(r)),n}function MR(t,e,n){const r={},s=p(t,["mode"]);e!==void 0&&s!=null&&g(e,["parameters","mode"],s);const o=p(t,["maxPredictions"]);e!==void 0&&o!=null&&g(e,["parameters","maxPredictions"],o);const l=p(t,["confidenceThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","confidenceThreshold"],l);const c=p(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const d=p(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&g(e,["parameters","binaryColorThreshold"],d);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),r}function OR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["source"]);o!=null&&LR(o,r);const l=p(e,["config"]);return l!=null&&MR(l,r),r}function kR(t,e){const n={},r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>sR(o))),g(n,["generatedMasks"],s)}return n}function LR(t,e,n){const r={},s=p(t,["prompt"]);e!==void 0&&s!=null&&g(e,["instances[0]","prompt"],s);const o=p(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Or(o));const l=p(t,["scribbleImage"]);return e!==void 0&&l!=null&&g(e,["instances[0]","scribble"],DR(l)),r}function PR(t,e){const n={},r=p(t,["retrievalConfig"]);r!=null&&g(n,["retrievalConfig"],r);const s=p(t,["functionCallingConfig"]);return s!=null&&g(n,["functionCallingConfig"],Fb(s)),n}function UR(t,e){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["computerUse"]);r!=null&&g(n,["computerUse"],r);const s=p(t,["fileSearch"]);s!=null&&g(n,["fileSearch"],s);const o=p(t,["codeExecution"]);if(o!=null&&g(n,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(y=>y)),g(n,["functionDeclarations"],_)}const c=p(t,["googleMaps"]);c!=null&&g(n,["googleMaps"],fR(c));const d=p(t,["googleSearch"]);d!=null&&g(n,["googleSearch"],hR(d));const h=p(t,["googleSearchRetrieval"]);h!=null&&g(n,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(n,["urlContext"],m),n}function TT(t,e){const n={},r=p(t,["retrieval"]);r!=null&&g(n,["retrieval"],r);const s=p(t,["computerUse"]);if(s!=null&&g(n,["computerUse"],s),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&g(n,["codeExecution"],o);const l=p(t,["enterpriseWebSearch"]);l!=null&&g(n,["enterpriseWebSearch"],l);const c=p(t,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>Bb(x))),g(n,["functionDeclarations"],y)}const d=p(t,["googleMaps"]);d!=null&&g(n,["googleMaps"],d);const h=p(t,["googleSearch"]);h!=null&&g(n,["googleSearch"],h);const m=p(t,["googleSearchRetrieval"]);m!=null&&g(n,["googleSearchRetrieval"],m);const _=p(t,["urlContext"]);return _!=null&&g(n,["urlContext"],_),n}function FR(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const o=p(t,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function BR(t,e){const n={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const o=p(t,["updateTime"]);return o!=null&&g(n,["updateTime"],o),n}function HR(t,e,n){const r={},s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function GR(t,e,n){const r={},s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const l=p(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function VR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","name"],ot(t,s));const o=p(e,["config"]);return o!=null&&HR(o,r),r}function qR(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["config"]);return o!=null&&GR(o,r),r}function zR(t,e,n){const r={},s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const m=p(t,["enhanceInputImage"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],m);const _=p(t,["imagePreservationFactor"]);e!==void 0&&_!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const x=p(t,["numberOfImages"]);e!==void 0&&x!=null&&g(e,["parameters","sampleCount"],x);const S=p(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),r}function $R(t,e,n){const r={},s=p(e,["model"]);s!=null&&g(r,["_url","model"],ot(t,s));const o=p(e,["image"]);o!=null&&g(r,["instances[0]","image"],Or(o));const l=p(e,["upscaleFactor"]);l!=null&&g(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=p(e,["config"]);return c!=null&&zR(c,r),r}function JR(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>tf(l))),g(n,["generatedImages"],o)}return n}function YR(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["uri"],r);const s=p(t,["encodedVideo"]);s!=null&&g(n,["videoBytes"],ji(s));const o=p(t,["encoding"]);return o!=null&&g(n,["mimeType"],o),n}function KR(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["uri"],r);const s=p(t,["bytesBase64Encoded"]);s!=null&&g(n,["videoBytes"],ji(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function WR(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["_self"],Or(r));const s=p(t,["maskMode"]);return s!=null&&g(n,["maskMode"],s),n}function XR(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["image"],nf(r));const s=p(t,["referenceType"]);return s!=null&&g(n,["referenceType"],s),n}function QR(t,e){const n={},r=p(t,["image"]);r!=null&&g(n,["image"],Or(r));const s=p(t,["referenceType"]);return s!=null&&g(n,["referenceType"],s),n}function xT(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["uri"],r);const s=p(t,["videoBytes"]);s!=null&&g(n,["encodedVideo"],ji(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["encoding"],o),n}function ET(t,e){const n={},r=p(t,["uri"]);r!=null&&g(n,["gcsUri"],r);const s=p(t,["videoBytes"]);s!=null&&g(n,["bytesBase64Encoded"],ji(s));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jR(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function ZR(t){const e={},n=p(t,["config"]);return n!=null&&jR(n,e),e}function eN(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function tN(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&eN(r,e),e}function nN(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function rN(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["customMetadata"],o)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function iN(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],aN(l)),e}function sN(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&rN(s,e),e}function aN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function oN(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function lN(t){const e={},n=p(t,["config"]);return n!=null&&oN(n,e),e}function uN(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["fileSearchStores"],o)}return e}function ST(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["customMetadata"],c)}const l=p(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function cN(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&ST(r,e),e}function fN(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hN="Content-Type",dN="X-Server-Timeout",pN="User-Agent",u0="x-goog-api-client",mN="1.39.0",gN=`google-genai-sdk/${mN}`,vN="v1beta1",yN="v1beta";class _N{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vN}else{if(!this.clientOptions.apiKey)throw new vl({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:yN,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===r0.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.unaryApiCall(s,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,o]of Object.entries(n))typeof o=="object"?r[s]=Object.assign(Object.assign({},r[s]),o):o!==void 0&&(r[s]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.streamApiCall(s,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&TN(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await N_(s),new i0(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await N_(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Ir(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:m}=yield $e(s.read());if(h){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=o.decode(m,{stream:!0});try{const S=JSON.parse(_);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),w=E.status,R=E.code,O=`got status: ${w}. ${JSON.stringify(S)}`;if(R>=400&&R<600)throw new vl({message:O,status:R})}}catch(S){if(S.name==="ApiError")throw S}l+=_;let y=-1,x=0;for(;;){y=-1,x=0;for(const w of d){const R=l.indexOf(w);R!==-1&&(y===-1||R<y)&&(y=R,x=w.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+x);const E=S.trim();if(E.startsWith(c)){const w=E.substring(c.length).trim();try{const R=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new i0(R))}catch(R){throw new Error(`exception parsing stream chunk ${w}. ${R}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=gN+" "+this.clientOptions.userAgentExtra;return e[pN]=n,e[u0]=n,e[hN]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,o]of Object.entries(e.headers))r.append(s,o);e.timeout&&e.timeout>0&&r.append(dN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);s.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const d={file:s},h=this.getFileName(e),m=Me("upload/v1beta/files",d._url),_=await this.fetchUploadUrl(m,s.sizeBytes,s.mimeType,h,d,n==null?void 0:n.httpOptions);return o.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,r){var s;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),d=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),_={};r!=null&&ST(r,_);const y=await this.fetchUploadUrl(h,c,d,m,_,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,o,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function N_(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new vl({message:s,status:n}):new Error(s)}}function TN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const h=l[d],m=c[d];h&&typeof h=="object"&&!Array.isArray(h)&&m&&typeof m=="object"&&!Array.isArray(m)?c[d]=r(m,h):(m&&h&&typeof m!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof h}. Overwriting.`),c[d]=h)}return c}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xN="mcp_used/unknown";let EN=!1;function wT(t){for(const e of t)if(SN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EN}function AT(t){var e;const n=(e=t[u0])!==null&&e!==void 0?e:"";t[u0]=(n+` ${xN}`).trimStart()}function SN(t){return t!==null&&typeof t=="object"&&t instanceof H0}function wN(t){return Ir(this,arguments,function*(n,r=100){let s,o=0;for(;o<r;){const l=yield $e(n.listTools({cursor:s}));for(const c of l.tools)yield yield $e(c),o++;if(!l.nextCursor)break;s=l.nextCursor}})}class H0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new H0(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const o={},l=[];for(const m of this.mcpClients)try{for(var c=!0,d=(n=void 0,Dr(wN(m))),h;h=await d.next(),e=h.done,!e;c=!0){s=h.value,c=!1;const _=s;l.push(_);const y=_.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=m}}catch(_){n={error:_}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),ZA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await s.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AN(t,e,n){const r=new $A;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class CN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=NN(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${s}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const m=new Promise(N=>{h=N}),_=e.callbacks,y=function(){h({})},x=this.apiClient,S={onopen:y,onmessage:N=>{AN(x,_.onmessage,N)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(N){}},E=this.webSocketFactory.create(d,RN(l),S);E.connect(),await m;const O={setup:{model:ot(this.apiClient,e.model)}};return E.send(JSON.stringify(O)),new bN(E,this.apiClient)}}class bN{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jC(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=QC(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ha.PLAY)}pause(){this.sendPlaybackControl(Ha.PAUSE)}stop(){this.sendPlaybackControl(Ha.STOP)}resetContext(){this.sendPlaybackControl(Ha.RESET_CONTEXT)}close(){this.conn.close()}}function RN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function NN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DN(t,e,n){const r=new zA;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const o=JSON.parse(s);if(t.isVertexAI()){const l=tb(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class MN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new CN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&wT(e.config.tools)&&AT(_);const y=PN(_);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),ae=this.apiClient.getLocation(),ce=this.apiClient.getApiKey(),me=!!z&&!!ae||!!ce;this.apiClient.getCustomBaseUrl()&&!me?m=d:(m=`${d}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,m))}else{const z=this.apiClient.getApiKey();let ae="BidiGenerateContent",ce="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ce="access_token"),m=`${d}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ae}?${ce}=${z}`}let x=()=>{};const S=new Promise(z=>{x=z}),E=e.callbacks,w=function(){var z;(z=E==null?void 0:E.onopen)===null||z===void 0||z.call(E),x({})},R=this.apiClient,O={onopen:w,onmessage:z=>{DN(R,E.onmessage,z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(z){}},N=this.webSocketFactory.create(m,LN(y),O);N.connect(),await S;let F=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const z=this.apiClient.getProject(),ae=this.apiClient.getLocation();z&&ae&&(F=`projects/${z}/locations/${ae}/`+F)}let V={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rc.AUDIO]}:e.config.responseModalities=[Rc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],U=[];for(const z of ne)if(this.isCallableTool(z)){const ae=z;U.push(await ae.tool())}else U.push(z);U.length>0&&(e.config.tools=U);const Z={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=XC(this.apiClient,Z):V=WC(this.apiClient,Z),delete V.config,N.send(JSON.stringify(V)),new kN(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ON={turnComplete:!0};class kN{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=mr(n.turns),e.isVertexAI()||(r=r.map(s=>ef(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(IN)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ON),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eb(e)}:n={realtimeInput:ZC(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function LN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function PN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I_=10;function D_(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if($a(l)){s=!0;break}if(!s)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function $a(t){return"callTool"in t&&typeof t.callTool=="function"}function UN(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>$a(s)))!==null&&r!==void 0?r:!1}function M_(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if($a(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(s)}),n}function O_(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FN extends pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,o,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!UN(n)||D_(n.config))return await this.generateContentInternal(d);const h=M_(n);if(h.length>0){const E=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let m,_;const y=mr(d.contents),x=(o=(s=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:I_;let S=0;for(;S<x&&(m=await this.generateContentInternal(d),!(!m.functionCalls||m.functionCalls.length===0));){const E=m.candidates[0].content,w=[];for(const R of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if($a(R)){const N=await R.callTool(m.functionCalls);w.push(...N)}S++,_={role:"user",parts:w},d.contents=mr(d.contents),d.contents.push(E),d.contents.push(_),O_(d.config)&&(y.push(E),y.push(_))}return O_(d.config)&&(m.automaticFunctionCallingHistory=y),m},this.generateContentStream=async n=>{var r,s,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),D_(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const d=M_(n);if(d.length>0){const _=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(o=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((s=d==null?void 0:d.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ms(fi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,o,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async d=>$a(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&wT(e.config.tools)){const d=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},d);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),AT(h),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(e){var n,r,s;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if($a(l)){const c=l,d=await c.tool();for(const h of(s=d.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(o.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);o.set(h.name,c)}}return o}async processAfcStream(e){var n,r,s;const o=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:I_;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(h,m,_){return Ir(this,arguments,function*(){for(var y,x,S,E,w,R;c<o;){l&&(c++,l=!1);const V=yield $e(h.processParamsMaybeAddMcpUsage(_)),ne=yield $e(h.generateContentStreamInternal(V)),U=[],Z=[];try{for(var O=!0,N=(x=void 0,Dr(ne)),F;F=yield $e(N.next()),y=F.done,!y;O=!0){E=F.value,O=!1;const z=E;if(yield yield $e(z),z.candidates&&(!((w=z.candidates[0])===null||w===void 0)&&w.content)){Z.push(z.candidates[0].content);for(const ae of(R=z.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(c<o&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(ae.functionCall.name)){const ce=yield $e(m.get(ae.functionCall.name).callTool([ae.functionCall]));U.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(z){x={error:z}}finally{try{!O&&!y&&(S=N.return)&&(yield $e(S.call(N)))}finally{if(x)throw x.error}}if(U.length>0){l=!0;const z=new nl;z.candidates=[{content:{role:"user",parts:U}}],yield yield $e(z);const ae=[];ae.push(...Z),ae.push({role:"user",parts:U});const ce=mr(_.contents).concat(ae);_.contents=ce}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=C_(this.apiClient,e);return c=Me("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=R_(m),y=new nl;return Object.assign(y,_),y})}else{const h=A_(this.apiClient,e);return c=Me("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=b_(m),y=new nl;return Object.assign(y,_),y})}}async generateContentStreamInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=C_(this.apiClient,e);return c=Me("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(_){return Ir(this,arguments,function*(){var y,x,S,E;try{for(var w=!0,R=Dr(_),O;O=yield $e(R.next()),y=O.done,!y;w=!0){E=O.value,w=!1;const N=E,F=R_(yield $e(N.json()),e);F.sdkHttpResponse={headers:N.headers};const V=new nl;Object.assign(V,F),yield yield $e(V)}}catch(N){x={error:N}}finally{try{!w&&!y&&(S=R.return)&&(yield $e(S.call(R)))}finally{if(x)throw x.error}}})})}else{const h=A_(this.apiClient,e);return c=Me("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(_){return Ir(this,arguments,function*(){var y,x,S,E;try{for(var w=!0,R=Dr(_),O;O=yield $e(R.next()),y=O.done,!y;w=!0){E=O.value,w=!1;const N=E,F=b_(yield $e(N.json()),e);F.sdkHttpResponse={headers:N.headers};const V=new nl;Object.assign(V,F),yield yield $e(V)}}catch(N){x={error:N}}finally{try{!w&&!y&&(S=R.return)&&(yield $e(S.call(R)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=Mb(this.apiClient,e);return c=Me("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=kb(m),y=new l_;return Object.assign(y,_),y})}else{const h=Db(this.apiClient,e);return c=Me("{model}:batchEmbedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Ob(m),y=new l_;return Object.assign(y,_),y})}}async generateImagesInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=$b(this.apiClient,e);return c=Me("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Yb(m),y=new u_;return Object.assign(y,_),y})}else{const h=zb(this.apiClient,e);return c=Me("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Jb(m),y=new u_;return Object.assign(y,_),y})}}async editImageInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=bb(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Rb(d),m=new MA;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=$R(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=JR(d),m=new OA;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=CR(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=bR(d),m=new kA;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=OR(this.apiClient,e);return o=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=kR(d),m=new LA;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=cR(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>l0(m))}else{const h=uR(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>o0(m))}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=_R(this.apiClient,e);return c=Me("{models_url}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=xR(m),y=new c_;return Object.assign(y,_),y})}else{const h=yR(this.apiClient,e);return c=Me("{models_url}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=TR(m),y=new c_;return Object.assign(y,_),y})}}async update(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=qR(this.apiClient,e);return c=Me("{model}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>l0(m))}else{const h=VR(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>o0(m))}}async delete(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=Sb(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Ab(m),y=new f_;return Object.assign(y,_),y})}else{const h=Eb(this.apiClient,e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=wb(m),y=new f_;return Object.assign(y,_),y})}}async countTokens(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=_b(this.apiClient,e);return c=Me("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=xb(m),y=new h_;return Object.assign(y,_),y})}else{const h=yb(this.apiClient,e);return c=Me("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=Tb(m),y=new h_;return Object.assign(y,_),y})}}async computeTokens(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=fb(this.apiClient,e);return o=Me("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=hb(d),m=new PA;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=Zb(this.apiClient,e);return c=Me("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>{const _=Qb(m),y=new Nc;return Object.assign(y,_),y})}else{const h=jb(this.apiClient,e);return c=Me("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>{const _=Xb(m),y=new Nc;return Object.assign(y,_),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BN extends pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=CA(e);return c=Me("{operationName}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l}else{const h=AA(e);return c=Me("{operationName}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=yA(e);return o=Me("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HN(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function GN(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>XN(o))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function VN(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const l=p(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],WN(t,c));const d=p(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),r}function qN(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],VN(t,r,n)),n}function zN(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $N(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JN(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function YN(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function KN(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const _=p(t,["speechConfig"]);e!==void 0&&_!=null&&g(e,["setup","generationConfig","speechConfig"],B0(_));const y=p(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],GN(vn(S)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let ne=Za(E);Array.isArray(ne)&&(ne=ne.map(U=>jN(ja(U)))),g(e,["setup","tools"],ne)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],QN(w));const R=p(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&g(e,["setup","inputAudioTranscription"],R);const O=p(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","outputAudioTranscription"],O);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const F=p(t,["contextWindowCompression"]);e!==void 0&&F!=null&&g(e,["setup","contextWindowCompression"],F);const V=p(t,["proactivity"]);if(e!==void 0&&V!=null&&g(e,["setup","proactivity"],V),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function WN(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ot(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],KN(s,n)),n}function XN(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],zN(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],$N(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],HN(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const _=p(t,["thoughtSignature"]);_!=null&&g(e,["thoughtSignature"],_);const y=p(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function QN(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jN(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(_=>_)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],JN(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],YN(c));const d=p(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(o=>`${n}.${o}`);e.push(...s)}else e.push(n)}return e.join(",")}function eI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const o=ZN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(h=>l.includes(h)?`generationConfig.${h}`:h));const d=[];o&&d.push(o),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class tI extends pi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=qN(this.apiClient,e);o=Me("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=eI(c,e.config);return s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nI(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function rI(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&nI(r,e),e}function iI(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function sI(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function aI(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&sI(r,e),e}function oI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends pi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ms(fi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iI(e);return o=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rI(e);s=Me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aI(e);return o=Me("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=oI(d),m=new UA;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uI extends pi{constructor(e,n=new lI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ms(fi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZR(e);return o=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nN(e);return o=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tN(e);s=Me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lN(e);return o=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=uN(d),m=new FA;return Object.assign(m,h),m})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cN(e);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=fN(d),m=new BA;return Object.assign(m,h),m})}}async importFile(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sN(e);return o=Me("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=iN(d),m=new k0;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CT=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return CT=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const cI=()=>CT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c0(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const f0=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{}class bn extends gr{constructor(e,n,r,s){super(`${bn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new rf({message:r,cause:f0(n)});const o=n;return e===400?new RT(e,o,r,s):e===401?new NT(e,o,r,s):e===403?new IT(e,o,r,s):e===404?new DT(e,o,r,s):e===409?new MT(e,o,r,s):e===422?new OT(e,o,r,s):e===429?new kT(e,o,r,s):e>=500?new LT(e,o,r,s):new bn(e,o,r,s)}}class h0 extends bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class rf extends bn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class bT extends rf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class RT extends bn{}class NT extends bn{}class IT extends bn{}class DT extends bn{}class MT extends bn{}class OT extends bn{}class kT extends bn{}class LT extends bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fI=/^[a-z][a-z0-9+.-]*:/i,hI=t=>fI.test(t);let d0=t=>(d0=Array.isArray,d0(t));const dI=d0;let pI=dI;const k_=pI;function mI(t){if(!t)return!0;for(const e in t)return!1;return!0}function gI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new gr(`${t} must be an integer`);if(e<0)throw new gr(`${t} must be a positive integer`);return e},yI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _I=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xI=()=>{var t,e,n,r,s;const o=TI();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":P_(Deno.build.os),"X-Stainless-Arch":L_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":P_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":L_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const l=EI();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ka,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:e,version:`${s}.${o}.${l}`}}}return null}const L_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",P_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ic;const SI=()=>ic??(ic=xI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function PT(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function AI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return PT({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function UT(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CI(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pd(t,e,n){return FT(),new File(t,e??"unknown_file",n)}function RI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const NI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BT=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",II=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&BT(t),DI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MI(t,e,n){if(FT(),t=await t,II(t))return t instanceof File?t:Pd([await t.arrayBuffer()],t.name);if(DI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pd(await p0(s),e,n)}const r=await p0(t);if(e||(e=RI(t)),!(n!=null&&n.type)){const s=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Pd(r,e,n)}async function p0(t){var e,n,r,s,o;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(BT(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(NI(t))try{for(var c=!0,d=Dr(t),h;h=await d.next(),e=h.done,!e;c=!0){s=h.value,c=!1;const m=s;l.push(...await p0(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const m=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${OI(t)}`)}return l}function OI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HT{constructor(e){this._client=e}}HT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const U_=Object.freeze(Object.create(null)),kI=(t=GT)=>(function(n,...r){if(n.length===1)return n[0];let s=!1;const o=[],l=n.reduce((m,_,y)=>{var x,S,E;/[?#]/.test(_)&&(s=!0);const w=r[y];let R=(s?encodeURIComponent:t)(""+w);return y!==r.length&&(w==null||typeof w=="object"&&w.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((x=w.hasOwnProperty)!==null&&x!==void 0?x:U_))!==null&&S!==void 0?S:U_))===null||E===void 0?void 0:E.toString))&&(R=w+"",o.push({start:m.length+_.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),m+_+(y===r.length?"":R)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=d.exec(c))!==null;)o.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(o.sort((m,_)=>m.start-_.start),o.length>0){let m=0;const _=o.reduce((y,x)=>{const S=" ".repeat(x.start-m),E="^".repeat(x.length);return m=x.start+x.length,y+S+E},"");throw new gr(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${l}
${_}`)}return l}),sc=kI(GT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT extends HT{create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,o=Dc(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sc`/${s}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(sc`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(sc`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const o=n??{},{api_version:l=this._client.apiVersion}=o,c=Dc(o,["api_version"]);return this._client.get(sc`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}VT._key=Object.freeze(["interactions"]);class qT extends VT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let ac;function G0(t){let e;return(ac??(e=new globalThis.TextEncoder,ac=e.encode.bind(e)))(t)}let oc;function F_(t){let e;return(oc??(e=new globalThis.TextDecoder,oc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?G0(e):e;this.buffer=LI([this.buffer,n]);const r=[];let s;for(;(s=PI(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(F_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,l=F_(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}sf.NEWLINE_CHARS=new Set([`
`,"\r"]);sf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function PI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function UI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mc={off:0,error:200,warn:300,info:400,debug:500},B_=(t,e,n)=>{if(t){if(gI(Mc,t))return t;Sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Mc))}`)}};function al(){}function lc(t,e,n){return!e||Mc[t]>Mc[n]?al:e[t].bind(e)}const FI={error:al,warn:al,info:al,debug:al};let H_=new WeakMap;function Sn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return FI;const s=H_.get(n);if(s&&s[0]===r)return s[1];const o={error:lc("error",n,r),warn:lc("warn",n,r),info:lc("info",n,r),debug:lc("debug",n,r)};return H_.set(n,[r,o]),o}const Es=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ga{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const o=r?Sn(r):console;function l(){return Ir(this,arguments,function*(){var d,h,m,_;if(s)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let y=!1;try{try{for(var x=!0,S=Dr(BI(e,n)),E;E=yield $e(S.next()),d=E.done,!d;x=!0){_=E.value,x=!1;const w=_;if(!y)if(w.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield $e(JSON.parse(w.data))}catch(R){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),R}}}catch(w){h={error:w}}finally{try{!x&&!d&&(m=S.return)&&(yield $e(m.call(S)))}finally{if(h)throw h.error}}y=!0}catch(w){if(c0(w))return yield $e(void 0);throw w}finally{y||n.abort()}})}return new Ga(l,n,r)}static fromReadableStream(e,n,r){let s=!1;function o(){return Ir(this,arguments,function*(){var d,h,m,_;const y=new sf,x=UT(e);try{for(var S=!0,E=Dr(x),w;w=yield $e(E.next()),d=w.done,!d;S=!0){_=w.value,S=!1;const R=_;for(const O of y.decode(R))yield yield $e(O)}}catch(R){h={error:R}}finally{try{!S&&!d&&(m=E.return)&&(yield $e(m.call(E)))}finally{if(h)throw h.error}}for(const R of y.flush())yield yield $e(R)})}function l(){return Ir(this,arguments,function*(){var d,h,m,_;if(s)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let y=!1;try{try{for(var x=!0,S=Dr(o()),E;E=yield $e(S.next()),d=E.done,!d;x=!0){_=E.value,x=!1;const w=_;y||w&&(yield yield $e(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!x&&!d&&(m=S.return)&&(yield $e(m.call(S)))}finally{if(h)throw h.error}}y=!0}catch(w){if(c0(w))return yield $e(void 0);throw w}finally{y||n.abort()}})}return new Ga(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const l=r.next();e.push(l),n.push(l)}return o.shift()}});return[new Ga(()=>s(e),this.controller,this.client),new Ga(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return PT({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:o}=await n.next();if(o)return r.close();const l=G0(JSON.stringify(s)+`
`);r.enqueue(l)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function BI(t,e){return Ir(this,arguments,function*(){var r,s,o,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gr("Attempted to iterate over a response with no body");const c=new GI,d=new sf,h=UT(t.body);try{for(var m=!0,_=Dr(HI(h)),y;y=yield $e(_.next()),r=y.done,!r;m=!0){l=y.value,m=!1;const x=l;for(const S of d.decode(x)){const E=c.decode(S);E&&(yield yield $e(E))}}}catch(x){s={error:x}}finally{try{!m&&!r&&(o=_.return)&&(yield $e(o.call(_)))}finally{if(s)throw s.error}}for(const x of d.flush()){const S=c.decode(x);S&&(yield yield $e(S))}})}function HI(t){return Ir(this,arguments,function*(){var n,r,s,o;let l=new Uint8Array;try{for(var c=!0,d=Dr(t),h;h=yield $e(d.next()),n=h.done,!n;c=!0){o=h.value,c=!1;const m=o;if(m==null)continue;const _=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?G0(m):m;let y=new Uint8Array(l.length+_.length);y.set(l),y.set(_,l.length),l=y;let x;for(;(x=UI(l))!==-1;)yield yield $e(l.slice(0,x)),l=l.slice(x)}}catch(m){r={error:m}}finally{try{!c&&!n&&(s=d.return)&&(yield $e(s.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield $e(l))})}class GI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=VI(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function VI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qI(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:o}=e,l=await(async()=>{var c;if(e.options.stream)return Sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ga.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),h=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return Sn(t).debug(`[${r}] response parsed`,Es({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V0 extends Promise{constructor(e,n,r=qI){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new V0(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zT=Symbol("brand.privateNullableHeaders");function*zI(t){if(!t)return;if(zT in t){const{values:r,nulls:s}=t;yield*r.entries();for(const o of s)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():k_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const o=k_(r[1])?r[1]:[r[1]];let l=!1;for(const c of o)c!==void 0&&(e&&!l&&(l=!0,yield[s,null]),yield[s,c])}}const rl=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[o,l]of zI(r)){const c=o.toLowerCase();s.has(c)||(e.delete(o),s.add(c)),l===null?(e.delete(o),n.add(c)):(e.append(o,l),n.delete(c))}}return{[zT]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ud=t=>{var e,n,r,s,o,l;if(typeof globalThis.process<"u")return(r=(n=(e=hA)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||o===void 0?void 0:o.call(s,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $T;class af{constructor(e){var n,r,s,o,l,c,d,{baseURL:h=Ud("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Ud("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:_="v1beta"}=e,y=Dc(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:m,apiVersion:_},y),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:af.DEFAULT_TIMEOUT,this.logger=(s=x.logger)!==null&&s!==void 0?s:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=B_(x.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:B_(Ud("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=x.fetchOptions,this.maxRetries=(c=x.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=x.fetch)!==null&&d!==void 0?d:wI(),this.encoder=bI,this._options=x,this.apiKey=m,this.apiVersion=_,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=rl([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return rl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return rl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new gr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ka}`}defaultIdempotencyKey(){return`stainless-node-retry-${cI()}`}makeStatusError(e,n,r,s){return bn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,o=hI(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return mI(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new V0(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,o,l;const c=await e,d=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:h,url:m,timeout:_}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(h,{url:m,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Sn(this).debug(`[${y}] sending request`,Es({retryOfRequestLogID:r,method:c.method,url:m,options:c,headers:h.headers})),!((o=c.signal)===null||o===void 0)&&o.aborted)throw new h0;const E=new AbortController,w=await this.fetchWithTimeout(m,h,_,E).catch(f0),R=Date.now();if(w instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new h0;const F=c0(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Sn(this).info(`[${y}] connection ${F?"timed out":"failed"} - ${N}`),Sn(this).debug(`[${y}] connection ${F?"timed out":"failed"} (${N})`,Es({retryOfRequestLogID:r,url:m,durationMs:R-S,message:w.message})),this.retryRequest(c,n,r??y);throw Sn(this).info(`[${y}] connection ${F?"timed out":"failed"} - error; no more retries left`),Sn(this).debug(`[${y}] connection ${F?"timed out":"failed"} (error; no more retries left)`,Es({retryOfRequestLogID:r,url:m,durationMs:R-S,message:w.message})),F?new bT:new rf({cause:w})}const O=`[${y}${x}] ${h.method} ${m} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${R-S}ms`;if(!w.ok){const N=await this.shouldRetry(w);if(n&&N){const z=`retrying, ${n} attempts remaining`;return await CI(w.body),Sn(this).info(`${O} - ${z}`),Sn(this).debug(`[${y}] response error (${z})`,Es({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:R-S})),this.retryRequest(c,n,r??y,w.headers)}const F=N?"error; no more retries left":"error; not retryable";Sn(this).info(`${O} - ${F}`);const V=await w.text().catch(z=>f0(z).message),ne=yI(V),U=ne?void 0:V;throw Sn(this).debug(`[${y}] response error (${F})`,Es({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:U,durationMs:Date.now()-S})),this.makeStatusError(w.status,ne,U,w.headers)}return Sn(this).info(O),Sn(this).debug(`[${y}] response start`,Es({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:R-S})),{response:w,options:c,controller:E,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,s){const o=n||{},{signal:l,method:c}=o,d=Dc(o,["signal","method"]);l&&l.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),r),m=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},m?{duplex:"half"}:{}),{method:"GET"}),d);c&&(_.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var o;let l;const c=s==null?void 0:s.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(l=h)}const d=s==null?void 0:s.get("retry-after");if(d&&!l){const h=parseFloat(d);Number.isNaN(h)?l=Date.parse(d)-Date.now():l=h*1e3}if(!(l&&0<=l&&l<60*1e3)){const h=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,h)}return await _I(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,l=Math.min(.5*Math.pow(2,o),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,o;const l=Object.assign({},e),{method:c,path:d,query:h,defaultBaseURL:m}=l,_=this.buildURL(d,h,m);"timeout"in l&&vI("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:x}=this.buildBody({options:l}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:_,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=rl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),SI()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=rl([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:AI(e)}:this.encoder({body:e,headers:r})}}af.DEFAULT_TIMEOUT=6e4;class en extends af{constructor(){super(...arguments),this.interactions=new qT(this)}}$T=en;en.GeminiNextGenAPIClient=$T;en.GeminiNextGenAPIClientError=gr;en.APIError=bn;en.APIConnectionError=rf;en.APIConnectionTimeoutError=bT;en.APIUserAbortError=h0;en.NotFoundError=DT;en.ConflictError=MT;en.RateLimitError=kT;en.BadRequestError=RT;en.AuthenticationError=NT;en.InternalServerError=LT;en.PermissionDeniedError=IT;en.UnprocessableEntityError=OT;en.toFile=MI;en.Interactions=qT;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $I(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function JI(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function YI(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function KI(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function WI(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const l=p(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(p(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(p(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const d=p(t,["learningRate"]);if(e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","learningRate"],d),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(p(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(p(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(p(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(p(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function XI(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const V=p(t,["validationDataset"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec"],Fd(V))}else if(s==="PREFERENCE_TUNING"){const V=p(t,["validationDataset"]);e!==void 0&&V!=null&&g(e,["preferenceOptimizationSpec"],Fd(V))}else if(s==="DISTILLATION"){const V=p(t,["validationDataset"]);e!==void 0&&V!=null&&g(e,["distillationSpec"],Fd(V))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const l=p(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const V=p(t,["epochCount"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],V)}else if(c==="PREFERENCE_TUNING"){const V=p(t,["epochCount"]);e!==void 0&&V!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],V)}else if(c==="DISTILLATION"){const V=p(t,["epochCount"]);e!==void 0&&V!=null&&g(e,["distillationSpec","hyperParameters","epochCount"],V)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const V=p(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],V)}else if(d==="PREFERENCE_TUNING"){const V=p(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],V)}else if(d==="DISTILLATION"){const V=p(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&g(e,["distillationSpec","hyperParameters","learningRateMultiplier"],V)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const V=p(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],V)}else if(h==="PREFERENCE_TUNING"){const V=p(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],V)}else if(h==="DISTILLATION"){const V=p(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&g(e,["distillationSpec","exportLastCheckpointOnly"],V)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const V=p(t,["adapterSize"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],V)}else if(m==="PREFERENCE_TUNING"){const V=p(t,["adapterSize"]);e!==void 0&&V!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],V)}else if(m==="DISTILLATION"){const V=p(t,["adapterSize"]);e!==void 0&&V!=null&&g(e,["distillationSpec","hyperParameters","adapterSize"],V)}let _=p(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const V=p(t,["tuningMode"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","tuningMode"],V)}const y=p(t,["customBaseModel"]);e!==void 0&&y!=null&&g(e,["customBaseModel"],y);let x=p(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const V=p(t,["batchSize"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","hyperParameters","batchSize"],V)}let S=p(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const V=p(t,["learningRate"]);e!==void 0&&V!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRate"],V)}const E=p(t,["labels"]);e!==void 0&&E!=null&&g(e,["labels"],E);const w=p(t,["beta"]);e!==void 0&&w!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],w);const R=p(t,["baseTeacherModel"]);e!==void 0&&R!=null&&g(e,["distillationSpec","baseTeacherModel"],R);const O=p(t,["tunedTeacherModelSource"]);e!==void 0&&O!=null&&g(e,["distillationSpec","tunedTeacherModelSource"],O);const N=p(t,["sftLossWeightMultiplier"]);e!==void 0&&N!=null&&g(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],N);const F=p(t,["outputUri"]);return e!==void 0&&F!=null&&g(e,["outputUri"],F),r}function QI(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const o=p(t,["trainingDataset"]);o!=null&&l4(o);const l=p(t,["config"]);return l!=null&&WI(l,n),n}function jI(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const o=p(t,["trainingDataset"]);o!=null&&u4(o,n,e);const l=p(t,["config"]);return l!=null&&XI(l,n,e),n}function ZI(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function e4(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function t4(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function n4(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function r4(t,e){const n={},r=p(t,["config"]);return r!=null&&t4(r,n),n}function i4(t,e){const n={},r=p(t,["config"]);return r!=null&&n4(r,n),n}function s4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>JT(c))),g(n,["tuningJobs"],l)}return n}function a4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const o=p(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>m0(c))),g(n,["tuningJobs"],l)}return n}function o4(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function l4(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(n,["examples","examples"],s)}return n}function u4(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(o==="DISTILLATION"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function JT(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["state"]);o!=null&&g(n,["state"],lT(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["tuningTask","completeTime"]);d!=null&&g(n,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const _=p(t,["baseModel"]);_!=null&&g(n,["baseModel"],_);const y=p(t,["_self"]);return y!=null&&g(n,["tunedModel"],o4(y)),n}function m0(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["state"]);o!=null&&g(n,["state"],lT(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(n,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const _=p(t,["description"]);_!=null&&g(n,["description"],_);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const S=p(t,["preTunedModel"]);S!=null&&g(n,["preTunedModel"],S);const E=p(t,["supervisedTuningSpec"]);E!=null&&g(n,["supervisedTuningSpec"],E);const w=p(t,["preferenceOptimizationSpec"]);w!=null&&g(n,["preferenceOptimizationSpec"],w);const R=p(t,["distillationSpec"]);R!=null&&g(n,["distillationSpec"],R);const O=p(t,["tuningDataStats"]);O!=null&&g(n,["tuningDataStats"],O);const N=p(t,["encryptionSpec"]);N!=null&&g(n,["encryptionSpec"],N);const F=p(t,["partnerModelTuningSpec"]);F!=null&&g(n,["partnerModelTuningSpec"],F);const V=p(t,["customBaseModel"]);V!=null&&g(n,["customBaseModel"],V);const ne=p(t,["experiment"]);ne!=null&&g(n,["experiment"],ne);const U=p(t,["labels"]);U!=null&&g(n,["labels"],U);const Z=p(t,["outputUri"]);Z!=null&&g(n,["outputUri"],Z);const z=p(t,["pipelineJob"]);z!=null&&g(n,["pipelineJob"],z);const ae=p(t,["serviceAccount"]);ae!=null&&g(n,["serviceAccount"],ae);const ce=p(t,["tunedModelDisplayName"]);ce!=null&&g(n,["tunedModelDisplayName"],ce);const me=p(t,["veoTuningSpec"]);return me!=null&&g(n,["veoTuningSpec"],me),n}function c4(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(t,["done"]);l!=null&&g(n,["done"],l);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function Fd(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f4 extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ms(fi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:s});return o.baseModel=void 0,await this.tuneInternal(o)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),o=await this.tuneMldevInternal(s);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:n0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=e4(e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>m0(m))}else{const h=ZI(e);return c=Me("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>JT(m))}}async listInternal(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=i4(e);return c=Me("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=a4(m),y=new d_;return Object.assign(y,_),y})}else{const h=r4(e);return c=Me("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=s4(m),y=new d_;return Object.assign(y,_),y})}}async cancel(e){var n,r,s,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=JI(e);return c=Me("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=KI(m),y=new p_;return Object.assign(y,_),y})}else{const h=$I(e);return c=Me("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(_=>{const y=_;return y.sdkHttpResponse={headers:m.headers},y})),l.then(m=>{const _=YI(m),y=new p_;return Object.assign(y,_),y})}}async tuneInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=jI(e,e);return o=Me("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>m0(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QI(e);return o=Me("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>c4(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h4{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const d4=1024*1024*8,p4=3,m4=1e3,g4=2,Oc="x-goog-upload-status";async function v4(t,e,n){var r;const s=await YT(t,e,n),o=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Oc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function y4(t,e,n){var r;const s=await YT(t,e,n),o=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Oc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=nT(o),c=new L0;return Object.assign(c,l),c}async function YT(t,e,n){var r,s;let o=0,l=0,c=new i0(new Response),d="upload";for(o=t.size;l<o;){const h=Math.min(d4,o-l),m=t.slice(l,l+h);l+h>=o&&(d+=", finalize");let _=0,y=m4;for(;_<p4&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Oc]));)_++,await T4(y),y=y*g4;if(l+=h,((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[Oc])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function _4(t){return{size:t.size,type:t.type}}function T4(t){return new Promise(e=>setTimeout(e,t))}class x4{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v4(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E4{create(e,n,r){return new S4(e,n,r)}}class S4{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G_="x-goog-api-key";class w4{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(G_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(G_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A4="gl-node/";class C4{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new en({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=gA(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new w4(this.apiKey);this.apiClient=new _N({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:A4+"web",uploader:new x4,downloader:new h4}),this.models=new FN(this.apiClient),this.live=new MN(this.apiClient,s,new E4),this.batches=new J2(this.apiClient),this.chats=new bC(this.models,this.apiClient),this.caches=new wC(this.apiClient),this.files=new BC(this.apiClient),this.operations=new BN(this.apiClient),this.authTokens=new tI(this.apiClient),this.tunings=new f4(this.apiClient),this.fileSearchStores=new uI(this.apiClient)}}const b4=()=>"YOUR_GEMINI_API_KEY_HERE",q0=()=>{const t=b4();return new C4({apiKey:t})},R4=async(t,e)=>{try{const n=q0(),s=`
          :
      ${e.map(c=>`- ${c.name} (: ${c.locationPath}, : ${c.notes.join(",")})`).join(`
`)}

       : "${t}"
      
              . 
             (,)  . 
          '' .
    `,l=(await n.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:s}]}]})).text||"";return l.includes("")?[]:l.split(",").map(c=>c.trim())}catch(n){return console.error("Gemini Search Error:",n),[]}},N4=async t=>{try{const e=q0(),n=`
       : "${t}"
              3 .
           : [/, /IT, /, ,  , ]
        JSON  : {"category": "", "notes": ["1", "2", "3"]}
    `,s=(await e.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}],config:{responseMimeType:"application/json"}})).text||"{}";return JSON.parse(s)}catch(e){return console.error("Gemini Suggest Error:",e),{category:"",notes:[]}}},I4=async t=>{try{const e=q0(),n=t.replace(/^data:image\/\w+;base64,/,""),o=(await e.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:`
      Analyze this image and identify the main item.
      1. Suggest a concise Korean name for the item (name).
      2. Suggest the most appropriate category (category) from this list: [/, /IT, /, ,  , ].
      3. Suggest 3 relevant Korean search notes (notes) for search.
      
      Return ONLY JSON: {"name": "...", "category": "...", "notes": ["...", "...", "..."]}
    `},{inlineData:{mimeType:"image/jpeg",data:n}}]}],config:{responseMimeType:"application/json"}})).text||"{}";return JSON.parse(o)}catch(e){return console.error("Gemini Image Analysis Error:",e),{name:"",category:"",notes:[]}}},D4="modulepreload",M4=function(t){return"/memo/"+t},V_={},O4=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(h=>{if(h=M4(h),h in V_)return;V_[h]=!0;const m=h.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":D4,m||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((x,S)=>{y.addEventListener("load",x),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},kc={items:[],searchTerm:"",sortOption:"latest",viewMode:"card",isAdding:!1,selectedItem:null,isEditMode:!1,formState:{itemName:"",locType:ly[0],locDetail:uy[0],itemCat:M0.OTHER,itemNotes:"",itemImages:[]},isAnalyzing:!1,aiSearchResults:null,isSearchingAI:!1,isCameraActive:!1,activeCameraSlot:null,config:{locTypes:ly,homeLocs:uy,officeLocs:uA,digitalLocs:cA,categories:fA},isSettingsOpen:!1},k4=(t,e)=>{switch(e.type){case"INITIALIZE_STATE":return{...t,...e.payload};case"SET_ITEMS":return{...t,items:e.payload};case"SET_SEARCH_TERM":return{...t,searchTerm:e.payload};case"SET_SORT_OPTION":return{...t,sortOption:e.payload};case"SET_VIEW_MODE":return{...t,viewMode:e.payload};case"TOGGLE_ADDING":return{...t,isAdding:e.payload,selectedItem:null,isEditMode:!1};case"SET_SELECTED_ITEM":return{...t,selectedItem:e.payload,isAdding:!1};case"TOGGLE_EDIT_MODE":return{...t,isEditMode:e.payload};case"UPDATE_FORM":return{...t,formState:{...t.formState,...e.payload}};case"RESET_FORM":return{...t,formState:kc.formState};case"SET_IS_ANALYZING":return{...t,isAnalyzing:e.payload};case"SET_AI_SEARCH_RESULTS":return{...t,aiSearchResults:e.payload};case"SET_IS_SEARCHING_AI":return{...t,isSearchingAI:e.payload};case"SET_CAMERA_ACTIVE":return{...t,isCameraActive:e.payload.isActive,activeCameraSlot:e.payload.slot};case"UPDATE_CONFIG":return{...t,config:{...t.config,...e.payload}};case"TOGGLE_SETTINGS":return{...t,isSettingsOpen:e.payload};default:return t}},Os=gn.createContext({state:kc,dispatch:()=>null}),L4=({children:t})=>{const[e,n]=gn.useReducer(k4,kc);return gn.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("whereisit_items"),o={locTypes:JSON.parse(localStorage.getItem("config_loc_types")||"null"),homeLocs:JSON.parse(localStorage.getItem("config_home_locs")||"null"),officeLocs:JSON.parse(localStorage.getItem("config_office_locs")||"null"),digitalLocs:JSON.parse(localStorage.getItem("config_digital_locs")||"null"),categories:JSON.parse(localStorage.getItem("config_categories")||"null")},l={};s&&(l.items=JSON.parse(s));const c={};o.locTypes&&(c.locTypes=o.locTypes),o.homeLocs&&(c.homeLocs=o.homeLocs),o.officeLocs&&(c.officeLocs=o.officeLocs),o.digitalLocs&&(c.digitalLocs=o.digitalLocs),o.categories&&(c.categories=o.categories),Object.keys(c).length>0&&(l.config={...kc.config,...c}),n({type:"INITIALIZE_STATE",payload:l})}catch(s){console.error("Failed to load state",s)}})()},[]),gn.useEffect(()=>{O4(async()=>{const{supabaseService:r}=await Promise.resolve().then(()=>l6);return{supabaseService:r}},void 0).then(({supabaseService:r})=>{r.fetchItems().then(s=>{s&&s.length>0&&(console.log("Loaded items from Supabase:",s.length),n({type:"SET_ITEMS",payload:s}))}).catch(s=>console.error("Supabase fetch failed",s))})},[]),gn.useEffect(()=>{try{localStorage.setItem("whereisit_items",JSON.stringify(e.items))}catch(r){r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")?console.warn("LocalStorage is full. Items will only be saved to the cloud (Supabase)."):console.error("Failed to save items to localStorage",r)}},[e.items]),gn.useEffect(()=>{localStorage.setItem("config_loc_types",JSON.stringify(e.config.locTypes)),localStorage.setItem("config_home_locs",JSON.stringify(e.config.homeLocs)),localStorage.setItem("config_office_locs",JSON.stringify(e.config.officeLocs)),localStorage.setItem("config_digital_locs",JSON.stringify(e.config.digitalLocs)),localStorage.setItem("config_categories",JSON.stringify(e.config.categories))},[e.config]),K.jsx(Os.Provider,{value:{state:e,dispatch:n},children:t})},P4=()=>{const{state:t,dispatch:e}=gn.useContext(Os),{searchTerm:n,isSearchingAI:r,aiSearchResults:s,items:o}=t,l=async()=>{if(n.trim()){e({type:"SET_IS_SEARCHING_AI",payload:!0});try{const d=await R4(n,o);e({type:"SET_AI_SEARCH_RESULTS",payload:d})}catch(d){console.error("AI Search failed",d)}finally{e({type:"SET_IS_SEARCHING_AI",payload:!1})}}},c=()=>{e({type:"SET_AI_SEARCH_RESULTS",payload:null}),e({type:"SET_SEARCH_TERM",payload:""})};return K.jsxs("div",{className:"px-6 py-2 bg-transparent sticky top-[80px] z-40 mb-4",children:[K.jsx("div",{className:"relative group flex gap-2",children:K.jsxs("div",{className:"relative flex-1",children:[K.jsx("input",{type:"text",placeholder:"Search items...",className:"w-full pl-12 pr-4 py-3 bg-[#f7f7f7] rounded-2xl border-2 border-[#e5e5e5] border-b-4 focus:bg-white focus:border-duo-blue focus:outline-none transition-all text-lg font-bold text-[#4b4b4b] placeholder:text-gray-400 placeholder:font-medium",value:n,onChange:d=>e({type:"SET_SEARCH_TERM",payload:d.target.value}),onKeyDown:d=>d.key==="Enter"&&l()}),K.jsx("i",{className:"fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),r&&K.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:K.jsx("i",{className:"fas fa-spinner fa-spin text-duo-blue"})})]})}),s&&K.jsxs("div",{className:"mt-3 px-4 py-3 flex items-center justify-between bg-duo-green/10 rounded-xl border-2 border-duo-green/20",children:[K.jsxs("p",{className:"text-sm font-bold text-duo-green flex items-center",children:[K.jsx("i",{className:"fas fa-magic mr-2"})," AI Search Active"]}),K.jsx("button",{onClick:c,className:"text-xs font-bold text-gray-400 hover:text-gray-600 uppercase tracking-wider btn-3d bg-white px-2 py-1 rounded-lg border border-gray-200",children:"Clear"})]})]})},U4=({items:t})=>{const{state:e,dispatch:n}=gn.useContext(Os),r=o=>{n({type:"SET_SELECTED_ITEM",payload:o})},s=o=>{var l;confirm(Zc)&&(n({type:"SET_ITEMS",payload:e.items.filter(c=>c.id!==o)}),((l=e.selectedItem)==null?void 0:l.id)===o&&n({type:"SET_SELECTED_ITEM",payload:null}))};return t.length===0?K.jsxs("div",{className:"text-center py-16",children:[K.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-200 border-dashed",children:K.jsx("i",{className:"fas fa-box-open text-4xl text-gray-300"})}),K.jsx("p",{className:"text-lg font-black text-gray-400",children:"No Items Yet"}),K.jsx("p",{className:"text-sm font-bold text-gray-300 mt-2",children:"Tap the + button to add one!"})]}):e.viewMode==="table"?K.jsx("div",{className:"pb-28 overflow-x-auto -mx-2 px-2",children:K.jsxs("table",{className:"w-full text-left border-collapse bg-white rounded-2xl overflow-hidden border-2 border-gray-200",children:[K.jsx("thead",{children:K.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[K.jsx("th",{className:"px-4 py-3 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Name"}),K.jsx("th",{className:"px-4 py-3 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Loc"}),K.jsx("th",{className:"px-4 py-3 text-xs font-black text-gray-400 uppercase tracking-widest",children:"Cat"}),K.jsx("th",{className:"px-3 py-3 w-10"})]})}),K.jsx("tbody",{className:"divide-y-2 divide-gray-100",children:t.map(o=>{var l;return K.jsxs("tr",{onClick:()=>r(o),className:"hover:bg-duo-blue/5 transition-colors cursor-pointer group active:bg-gray-50",children:[K.jsx("td",{className:"px-4 py-4 font-bold text-[#4b4b4b]",children:o.name}),K.jsx("td",{className:"px-4 py-4 text-sm font-bold text-gray-500",children:(l=o.locationPath.split(">").pop())==null?void 0:l.trim()}),K.jsx("td",{className:"px-4 py-4",children:K.jsx("span",{className:"text-xs font-black text-duo-green uppercase",children:o.category})}),K.jsx("td",{className:"px-3 py-4",children:K.jsx("button",{onClick:c=>{c.stopPropagation(),s(o.id)},className:"w-8 h-8 rounded-xl text-gray-300 hover:bg-duo-red hover:text-white flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:K.jsx("i",{className:"fas fa-trash-alt text-sm"})})})]},o.id)})})]})}):K.jsx("div",{className:"space-y-4 pb-28",children:t.map(o=>{var l;return K.jsxs("div",{onClick:()=>r(o),className:"bg-white p-4 rounded-2xl border-2 border-[#e5e5e5] border-b-4 flex gap-4 items-center group active:border-b-2 active:translate-y-[2px] active:scale-[0.99] transition-all cursor-pointer relative hover:border-duo-blue/30",children:[K.jsx("div",{className:"flex -space-x-3 overflow-hidden p-1 shrink-0",children:o.imageUrls&&o.imageUrls.length>0?o.imageUrls.slice(0,2).map((c,d)=>K.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 bg-gray-100 border-2 border-white ring-1 ring-gray-200 relative z-10",children:K.jsx("img",{src:c,alt:o.name,className:"w-full h-full object-cover"})},d)):K.jsx("div",{className:"w-16 h-16 rounded-xl flex-shrink-0 bg-duo-blue/10 border-2 border-duo-blue/20 flex items-center justify-center text-duo-blue",children:K.jsx("i",{className:"fas fa-cube text-xl"})})}),K.jsxs("div",{className:"flex-1 min-w-0",children:[K.jsx("h4",{className:"font-extrabold text-[#4b4b4b] text-lg mb-1 leading-tight",children:o.name}),K.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[K.jsx("span",{className:"text-xs font-black text-white bg-duo-green px-2 py-0.5 rounded-lg uppercase",children:o.category}),K.jsx("span",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-2 py-0.5 rounded-lg border border-gray-200",children:(l=o.locationPath.split(">").pop())==null?void 0:l.trim()})]})]}),K.jsx("button",{onClick:c=>{c.stopPropagation(),s(o.id)},className:"w-10 h-10 rounded-xl bg-gray-50 text-gray-300 hover:bg-duo-red hover:text-white border-2 border-transparent hover:border-duo-red/50 transition-all flex items-center justify-center shrink-0",children:K.jsx("i",{className:"fas fa-trash-alt text-sm"})})]},o.id)})})},q_=({onSubmit:t,submitLabel:e,isAnalyzing:n,performNameAnalysis:r,removeImage:s,handleImageUpload:o})=>{const{state:l,dispatch:c}=gn.useContext(Os),{formState:d,config:h}=l,{itemName:m,locType:_,locDetail:y,itemNotes:x,itemImages:S}=d,E=w=>{c({type:"UPDATE_FORM",payload:w})};return Ba.useRef(null),Ba.useRef(null),Ba.useRef(null),Ba.useRef(null),K.jsxs("form",{onSubmit:t,className:"space-y-6 pt-2",children:[K.jsx("div",{className:"flex flex-col items-center",children:K.jsx("div",{className:"w-full grid grid-cols-2 gap-4",children:[0,1].map(w=>K.jsx("div",{className:"aspect-square rounded-2xl bg-gray-50 border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer overflow-hidden relative group hover:bg-gray-100 hover:border-duo-blue active:border-solid transition-all",children:S[w]?K.jsxs("div",{className:"w-full h-full relative group",children:[K.jsx("img",{src:S[w],className:"w-full h-full object-cover",alt:"img"}),K.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:K.jsx("button",{type:"button",onClick:()=>s(w),className:"bg-duo-red text-white px-3 py-1.5 rounded-xl font-bold border-b-4 border-[#b91e1e] active:border-b-0 active:translate-y-1",children:"Remove"})})]}):K.jsxs("div",{className:"flex flex-col items-center gap-3",children:[K.jsxs("div",{className:"flex gap-2",children:[K.jsxs("label",{className:"w-12 h-12 bg-white rounded-xl border-2 border-gray-200 border-b-4 flex items-center justify-center hover:bg-gray-50 active:border-b-2 active:translate-y-1 text-gray-400 hover:text-duo-blue cursor-pointer",children:[K.jsx("i",{className:"fas fa-camera text-xl"}),K.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:R=>o(R,w)})]}),K.jsxs("label",{className:"w-12 h-12 bg-white rounded-xl border-2 border-gray-200 border-b-4 flex items-center justify-center hover:bg-gray-50 active:border-b-2 active:translate-y-1 text-gray-400 hover:text-duo-green cursor-pointer",children:[K.jsx("i",{className:"fas fa-image text-xl"}),K.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:R=>o(R,w)})]})]}),K.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:w===0?"ITEM PHOTO":"PLACE PHOTO"})]})},w))})}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2 uppercase tracking-widest",children:"Item Name"}),K.jsx("div",{className:"relative",children:K.jsx("input",{required:!0,type:"text",className:"w-full p-4 bg-gray-100 rounded-xl text-lg outline-none focus:bg-white border-2 border-gray-200 border-b-4 focus:border-duo-blue font-bold placeholder:text-gray-300 transition-all text-[#4b4b4b]",placeholder:"e.g. Passport, Keys",value:m,onChange:w=>E({itemName:w.target.value})})})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2 uppercase tracking-widest",children:"Type"}),K.jsx("select",{className:"w-full p-4 bg-gray-100 rounded-xl text-base font-bold outline-none border-2 border-gray-200 border-b-4 focus:border-duo-purple text-[#4b4b4b]",value:_,onChange:w=>{const R=w.target.value;E({locType:R}),R===h.locTypes[0]&&h.homeLocs.length>0?E({locDetail:h.homeLocs[0]}):R===h.locTypes[1]&&h.officeLocs.length>0?E({locDetail:h.officeLocs[0]}):R===h.locTypes[2]&&h.digitalLocs.length>0?E({locDetail:h.digitalLocs[0]}):E({locDetail:""})},children:h.locTypes.map(w=>K.jsx("option",{value:w,children:w},w))})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2 uppercase tracking-widest",children:"Detail"}),K.jsx("div",{className:"relative",children:[h.locTypes[0],h.locTypes[1],h.locTypes[2]].includes(_)?K.jsxs("select",{className:"w-full p-4 bg-gray-100 rounded-xl text-base font-bold outline-none border-2 border-gray-200 border-b-4 focus:border-duo-purple text-[#4b4b4b]",value:y,onChange:w=>E({locDetail:w.target.value}),children:[_===h.locTypes[0]&&h.homeLocs.map(w=>K.jsx("option",{value:w,children:w},w)),_===h.locTypes[1]&&h.officeLocs.map(w=>K.jsx("option",{value:w,children:w},w)),_===h.locTypes[2]&&h.digitalLocs.map(w=>K.jsx("option",{value:w,children:w},w))]}):K.jsx("input",{type:"text",className:"w-full p-4 bg-gray-100 rounded-xl text-base font-bold outline-none border-2 border-gray-200 border-b-4 focus:border-duo-purple text-[#4b4b4b]",placeholder:"Specific Location",value:y,onChange:w=>E({locDetail:w.target.value}),required:!0})})]})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2 uppercase tracking-widest",children:"Notes"}),K.jsx("textarea",{rows:3,className:"w-full p-4 bg-gray-100 rounded-xl text-base font-bold outline-none border-2 border-gray-200 border-b-4 focus:border-duo-yellow resize-none placeholder:text-gray-300 text-[#4b4b4b]",placeholder:"Detailed description...",value:x,onChange:w=>E({itemNotes:w.target.value})})]}),K.jsx("button",{type:"submit",className:"w-full py-4 bg-duo-green text-white rounded-2xl font-black text-lg shadow-none border-b-4 border-[#58a700] active:border-b-0 active:translate-y-1 active:mt-1 transition-all uppercase tracking-widest hover:bg-[#61e002]",children:e})]})},F4=({item:t,onEdit:e})=>{const{state:n,dispatch:r}=gn.useContext(Os),s=()=>{confirm(Zc)&&(r({type:"SET_ITEMS",payload:n.items.filter(o=>o.id!==t.id)}),r({type:"SET_SELECTED_ITEM",payload:null}))};return K.jsxs("div",{className:"space-y-6 pb-4",children:[K.jsx("div",{className:"grid grid-cols-2 gap-4",children:[0,1].map(o=>K.jsx("div",{className:"flex flex-col gap-2",children:K.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 border-2 border-gray-200 flex items-center justify-center relative",children:[t.imageUrls[o]?K.jsx("img",{src:t.imageUrls[o],alt:o===0?"Item":"Place",className:"w-full h-full object-cover"}):K.jsxs("div",{className:"flex flex-col items-center text-gray-300",children:[K.jsx("i",{className:"fas fa-image text-3xl mb-2"}),K.jsx("span",{className:"text-xs font-black uppercase",children:"No Photo"})]}),K.jsx("div",{className:"absolute top-2 left-2 bg-black/40 backdrop-blur-md px-2 py-1 rounded-lg text-[10px] text-white font-black uppercase tracking-widest border border-white/20",children:o===0?"ITEM":"PLACE"})]})},o))}),K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"bg-white p-4 rounded-2xl border-2 border-gray-200",children:[K.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Identity"}),K.jsxs("div",{className:"flex justify-between items-start",children:[K.jsx("h3",{className:"text-2xl font-extrabold text-[#4b4b4b]",children:t.name}),K.jsx("span",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-3 py-1 rounded-lg border-2 border-gray-200",children:new Date(t.updatedAt).toLocaleDateString()})]})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[K.jsxs("div",{className:"bg-duo-blue/10 p-4 rounded-2xl border-2 border-duo-blue/20 border-b-4",children:[K.jsx("p",{className:"text-xs font-black text-duo-blue uppercase tracking-widest mb-1",children:"Location"}),K.jsx("p",{className:"text-lg font-black text-duo-blue leading-tight truncate",children:t.locationPath})]}),K.jsxs("div",{className:"bg-duo-green/10 p-4 rounded-2xl border-2 border-duo-green/20 border-b-4",children:[K.jsx("p",{className:"text-xs font-black text-duo-green uppercase tracking-widest mb-1",children:"Category"}),K.jsx("p",{className:"text-lg font-black text-duo-green leading-tight truncate",children:t.category})]})]}),K.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border-2 border-gray-200 border-b-4 relative",children:[K.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Notes"}),K.jsxs("div",{className:"text-lg text-[#4b4b4b] font-bold whitespace-pre-wrap relative z-10 leading-relaxed",children:['"',t.notes.length>0?t.notes.join(`
`):"No details recorded.",'"']})]})]}),K.jsxs("div",{className:"flex gap-4 pt-2",children:[K.jsx("button",{onClick:s,className:"flex-1 py-4 bg-white text-duo-red rounded-2xl font-black border-2 border-gray-200 border-b-4 hover:border-duo-red hover:bg-duo-red hover:text-white active:border-b-2 active:translate-y-1 transition-all uppercase tracking-widest",children:"DELETE"}),K.jsx("button",{onClick:e,className:"flex-[2] py-4 bg-duo-blue text-white rounded-2xl font-black border-b-4 border-[#1899d6] active:border-b-0 active:translate-y-1 transition-all uppercase tracking-widest hover:bg-[#2ec0ff]",children:"EDIT ITEM"})]})]})},B4=({isOpen:t,onClose:e,handleExportData:n,handleExportExcel:r,handleImportData:s})=>{const{state:o,dispatch:l}=gn.useContext(Os),{config:c}=o;if(!t)return null;const d=(m,_)=>{l({type:"UPDATE_CONFIG",payload:{[m]:_}})},h=[{title:"Location Groups",key:"locTypes",list:c.locTypes},{title:"Home Details",key:"homeLocs",list:c.homeLocs},{title:"Office Details",key:"officeLocs",list:c.officeLocs},{title:"Digital Paths",key:"digitalLocs",list:c.digitalLocs},{title:"Item Categories",key:"categories",list:c.categories}];return K.jsx("div",{className:"fixed inset-0 bg-black/40 z-[100] flex items-end justify-center backdrop-blur-sm p-4",children:K.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl w-full max-w-md rounded-[3rem] p-8 animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto relative border border-white/50 card-shadow",children:[K.jsxs("div",{className:"flex justify-between items-center mb-8 sticky top-0 bg-white/50 backdrop-blur-md -mx-8 px-8 py-4 z-20 -mt-8 rounded-t-[3rem] border-b border-gray-100/50",children:[K.jsx("h2",{className:"text-base font-black text-gray-900 tracking-tight",children:" "}),K.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center hover:bg-gray-100 transition-all",children:K.jsx("i",{className:"fas fa-times text-gray-400 text-sm"})})]}),K.jsxs("div",{className:"space-y-10 pb-8",children:[K.jsxs("div",{className:"brand-gradient p-8 rounded-[2.5rem] shadow-2xl shadow-brand-100 relative overflow-hidden",children:[K.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -mr-12 -mt-12 blur-xl"}),K.jsxs("h3",{className:"font-black text-sm text-white mb-4 flex items-center gap-2",children:[K.jsx("i",{className:"fas fa-database opacity-70"}),"  "]}),K.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[K.jsxs("button",{onClick:n,className:"py-4 bg-white/20 backdrop-blur-md text-white rounded-2xl text-[11px] font-black border border-white/30 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-white/30",children:[K.jsx("i",{className:"fas fa-file-json"})," JSON "]}),K.jsxs("button",{onClick:r,className:"py-4 bg-emerald-500/80 backdrop-blur-md text-white rounded-2xl text-[11px] font-black border border-white/30 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-emerald-600",children:[K.jsx("i",{className:"fas fa-file-excel"}),"  "]}),K.jsxs("label",{className:"col-span-2 py-4 bg-white text-brand-600 rounded-2xl text-[11px] font-black shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 cursor-pointer hover:bg-brand-50",children:[K.jsx("i",{className:"fas fa-upload"}),"  ",K.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:s})]})]}),K.jsx("p",{className:"text-[9px] text-brand-100 mt-4 leading-relaxed font-bold opacity-80 text-center uppercase tracking-widest",children:"Secure your memories periodically"})]}),h.map((m,_)=>K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"flex justify-between items-center px-1",children:[K.jsx("h3",{className:"font-black text-[10px] text-gray-400 uppercase tracking-[0.2em]",children:m.title}),K.jsx("span",{className:"text-[10px] font-bold text-brand-500 bg-brand-50 px-2 py-0.5 rounded-full",children:m.list.length})]}),K.jsx("div",{className:"flex flex-wrap gap-2.5",children:m.list.map((y,x)=>K.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-50 border border-gray-100 rounded-2xl text-xs font-bold text-gray-700 shadow-sm hover:border-brand-200 transition-colors",children:[y,K.jsx("button",{onClick:()=>{confirm(Zc)&&d(m.key,m.list.filter((S,E)=>E!==x))},className:"text-gray-300 hover:text-red-500 transition-colors",children:K.jsx("i",{className:"fas fa-times-circle"})})]},x))}),K.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=y.currentTarget.elements.namedItem("newItem");x.value.trim()&&(d(m.key,[...m.list,x.value.trim()]),x.value="")},className:"flex gap-2",children:[K.jsx("input",{name:"newItem",type:"text",placeholder:"Add new item...",className:"flex-1 bg-gray-50 border border-gray-100 rounded-[1.5rem] px-5 py-3 text-xs font-bold focus:ring-4 focus:ring-brand-100 outline-none placeholder:text-gray-300 transition-all shadow-inner"}),K.jsx("button",{type:"submit",className:"w-11 h-11 brand-gradient text-white rounded-2xl flex items-center justify-center shadow-lg active:scale-95 transition-all",children:K.jsx("i",{className:"fas fa-plus text-sm"})})]})]},_))]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Lc={};Lc.version="0.18.5";var KT=1252,H4=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WT=function(t){H4.indexOf(t)!=-1&&(KT=t)};function G4(){WT(1252)}var yl=function(t){WT(t)};function V4(){yl(1200),G4()}var uc=function(e){return String.fromCharCode(e)},z_=function(e){return String.fromCharCode(e)},Pc,Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _l(t){for(var e="",n=0,r=0,s=0,o=0,l=0,c=0,d=0,h=0;h<t.length;)n=t.charCodeAt(h++),o=n>>2,r=t.charCodeAt(h++),l=(n&3)<<4|r>>4,s=t.charCodeAt(h++),c=(r&15)<<2|s>>6,d=s&63,isNaN(r)?c=d=64:isNaN(s)&&(d=64),e+=Yi.charAt(o)+Yi.charAt(l)+Yi.charAt(c)+Yi.charAt(d);return e}function hi(t){var e="",n=0,r=0,s=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)o=Yi.indexOf(t.charAt(h++)),l=Yi.indexOf(t.charAt(h++)),n=o<<2|l>>4,e+=String.fromCharCode(n),c=Yi.indexOf(t.charAt(h++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),d=Yi.indexOf(t.charAt(h++)),s=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var ut=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),gi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ns(t){return ut?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function $_(t){return ut?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Rr=function(e){return ut?gi(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function of(t){if(typeof ArrayBuffer>"u")return Rr(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Ml(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function q4(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var cn=ut?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:gi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function z4(t){for(var e=[],n=0,r=t.length+250,s=Ns(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)s[n++]=l;else if(l<2048)s[n++]=192|l>>6&31,s[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;s[n++]=240|l>>8&7,s[n++]=128|l>>2&63,s[n++]=128|c>>6&15|(l&3)<<4,s[n++]=128|c&63}else s[n++]=224|l>>12&15,s[n++]=128|l>>6&63,s[n++]=128|l&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Ns(65535),r=65530)}return e.push(s.slice(0,n)),cn(e)}var ul=/\u0000/g,cc=/[\u0001-\u0006]/g;function Ja(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Nr(t,e){var n=""+t;return n.length>=e?n:kt("0",e-n.length)+n}function z0(t,e){var n=""+t;return n.length>=e?n:kt(" ",e-n.length)+n}function Uc(t,e){var n=""+t;return n.length>=e?n:n+kt(" ",e-n.length)}function $4(t,e){var n=""+Math.round(t);return n.length>=e?n:kt("0",e-n.length)+n}function J4(t,e){var n=""+t;return n.length>=e?n:kt("0",e-n.length)+n}var J_=Math.pow(2,32);function Aa(t,e){if(t>J_||t<-J_)return $4(t,e);var n=Math.round(t);return J4(n,e)}function Fc(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Y_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bd=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Y4(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Lt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},K_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},K4={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bc(t,e,n){for(var r=t<0?-1:1,s=t*r,o=0,l=1,c=0,d=1,h=0,m=0,_=Math.floor(s);h<e&&(_=Math.floor(s),c=_*l+o,m=_*h+d,!(s-_<5e-8));)s=1/(s-_),o=l,l=c,d=h,h=m;if(m>e&&(h>e?(m=d,c=o):(m=h,c=l)),!n)return[0,r*c,m];var y=Math.floor(r*c/m);return[y,r*c-y*m,m]}function fc(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),o=0,l=[],c={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),r<60&&(o=(o+6)%7),n&&(o=tD(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=o,c}var XT=new Date(1899,11,31,0,0,0),W4=XT.getTime(),X4=new Date(1900,2,1,0,0,0);function QT(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=X4&&(n+=1440*60*1e3),(n-(W4+(t.getTimezoneOffset()-XT.getTimezoneOffset())*6e4))/(1440*60*1e3)}function $0(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Q4(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function j4(t){var e=t<0?12:11,n=$0(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Z4(t){var e=$0(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function eD(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=j4(t):e===10?n=t.toFixed(10).substr(0,12):n=Z4(t),$0(Q4(n.toUpperCase()))}function g0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):eD(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Wi(14,QT(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function tD(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function nD(t,e,n,r){var s="",o=0,l=0,c=n.y,d,h=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,h=e.length;break;case 3:return Bd[n.m-1][1];case 5:return Bd[n.m-1][0];default:return Bd[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,h=e.length;break;case 3:return Y_[n.q][0];default:return Y_[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Nr(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(s=Nr(o,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=c,h=1;break}var m=h>0?Nr(d,h):"";return m}function Ki(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var jT=/%/g;function rD(t,e,n){var r=e.replace(jT,""),s=e.length-r.length;return li(t,r,n*Math.pow(10,2*s))+kt("%",s)}function iD(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return li(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ZT(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ZT(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),n=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(s+o)%s)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var ex=/# (\?+)( ?)\/( ?)(\d+)/;function sD(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),o=Math.floor(s/r),l=s-o*r,c=r;return n+(o===0?"":""+o)+" "+(l===0?kt(" ",t[1].length+1+t[4].length):z0(l,t[1].length)+t[2]+"/"+t[3]+Nr(c,t[4].length))}function aD(t,e,n){return n+(e===0?"":""+e)+kt(" ",t[1].length+2+t[4].length)}var tx=/^#*0*\.([0#]+)/,nx=/\).*[0#]/,rx=/\(###\) ###\\?-####/;function wn(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function W_(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function X_(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function oD(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function lD(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function dr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nx)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?dr("n",r,n):"("+dr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return iD(t,e,n);if(e.indexOf("%")!==-1)return rD(t,e,n);if(e.indexOf("E")!==-1)return ZT(e,n);if(e.charCodeAt(0)===36)return"$"+dr(t,e.substr(e.charAt(1)==" "?2:1),n);var s,o,l,c,d=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+Aa(d,e.length);if(e.match(/^[#?]+$/))return s=Aa(n,0),s==="0"&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(ex))return sD(o,d,h);if(e.match(/^#+0+$/))return h+Aa(d,e.length-e.indexOf("0"));if(o=e.match(tx))return s=W_(n,o[1].length).replace(/^([^\.]+)$/,"$1."+wn(o[1])).replace(/\.$/,"."+wn(o[1])).replace(/\.(\d*)$/,function(S,E){return"."+E+kt("0",wn(o[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+W_(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+Ki(Aa(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+dr(t,e,-n):Ki(""+(Math.floor(n)+oD(n,o[1].length)))+"."+Nr(X_(n,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return dr(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Ja(dr(t,e.replace(/[\\-]/g,""),n)),l=0,Ja(Ja(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(rx))return s=dr(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Bc(d,Math.pow(10,l)-1,!1),s=""+h,m=li("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+o[2]+"/"+o[3],m=Uc(c[2],l),m.length<o[4].length&&(m=wn(o[4].substr(o[4].length-m.length))+m),s+=m,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Bc(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?z0(c[1],l)+o[2]+"/"+o[3]+Uc(c[2],l):kt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=Aa(n,0),e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var _=e.indexOf(".")-l,y=e.length-s.length-_;return wn(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=X_(n,o[1].length),n<0?"-"+dr(t,e,-n):Ki(lD(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Nr(0,3-S.length):"")+S})+"."+Nr(l,o[1].length);switch(e){case"###,##0.00":return dr(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=Ki(Aa(d,0));return x!=="0"?h+x:"";case"###,###.00":return dr(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return dr(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function uD(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return li(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function cD(t,e,n){var r=e.replace(jT,""),s=e.length-r.length;return li(t,r,n*Math.pow(10,2*s))+kt("%",s)}function ix(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ix(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),n=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(s+o)%s)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Hr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(nx)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Hr("n",r,n):"("+Hr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return uD(t,e,n);if(e.indexOf("%")!==-1)return cD(t,e,n);if(e.indexOf("E")!==-1)return ix(e,n);if(e.charCodeAt(0)===36)return"$"+Hr(t,e.substr(e.charAt(1)==" "?2:1),n);var s,o,l,c,d=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+Nr(d,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(ex))return aD(o,d,h);if(e.match(/^#+0+$/))return h+Nr(d,e.length-e.indexOf("0"));if(o=e.match(tx))return s=(""+n).replace(/^([^\.]+)$/,"$1."+wn(o[1])).replace(/\.$/,"."+wn(o[1])),s=s.replace(/\.(\d*)$/,function(S,E){return"."+E+kt("0",wn(o[1]).length-E.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+Ki(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Hr(t,e,-n):Ki(""+n)+"."+kt("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Hr(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Ja(Hr(t,e.replace(/[\\-]/g,""),n)),l=0,Ja(Ja(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<s.length?s.charAt(l++):S==="0"?"0":""}));if(e.match(rx))return s=Hr(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Bc(d,Math.pow(10,l)-1,!1),s=""+h,m=li("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),s+=m+o[2]+"/"+o[3],m=Uc(c[2],l),m.length<o[4].length&&(m=wn(o[4].substr(o[4].length-m.length))+m),s+=m,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Bc(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?z0(c[1],l)+o[2]+"/"+o[3]+Uc(c[2],l):kt(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:wn(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var _=e.indexOf(".")-l,y=e.length-s.length-_;return wn(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Hr(t,e,-n):Ki(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Nr(0,3-S.length):"")+S})+"."+Nr(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=Ki(""+d);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return Hr(t,e.slice(0,e.lastIndexOf(".")),n)+wn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function li(t,e,n){return(n|0)===n?Hr(t,e,n):dr(t,e,n)}function fD(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var sx=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ax(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Fc(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(sx))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function hD(t,e,n,r){for(var s=[],o="",l=0,c="",d="t",h,m,_,y="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!Fc(t,l))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(_=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(_);s[s.length]={t:"t",v:o},++l;break;case"\\":var x=t.charAt(++l),S=x==="("||x===")"?x:"t";s[s.length]={t:S,v:x},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=fc(e,n,t.charAt(l+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=fc(e,n),h==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),s[s.length]={t:c,v:o},d=c;break;case"A":case"a":case"":var E={t:c,v:c};if(h==null&&(h=fc(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(E.v=h.H>=12?"P":"A"),E.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(E.v=h.H>=12?"PM":"AM"),E.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="/"?(h!=null&&(E.v=h.H>=12?"":""),E.t="T",l+=5,y="h"):(E.t="t",++l),h==null&&E.t==="T")return"";s[s.length]=E,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(sx)){if(h==null&&(h=fc(e,n),h==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",ax(t)||(s[s.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;s[s.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;s[s.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:c,v:c},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++l;break}var w=0,R=0,O;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=y,d="h",w<1&&(w=1);break;case"s":(O=s[l].v.match(/\.0+$/))&&(R=Math.max(R,O[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":d==="s"&&(s[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&s[l].v.match(/[Hh]/)&&(w=1),w<2&&s[l].v.match(/[Mm]/)&&(w=2),w<3&&s[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var N="",F;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=nD(s[l].t.charCodeAt(0),s[l].v,h,R),s[l].t="t";break;case"n":case"?":for(F=l+1;s[F]!=null&&((c=s[F].t)==="?"||c==="D"||(c===" "||c==="t")&&s[F+1]!=null&&(s[F+1].t==="?"||s[F+1].t==="t"&&s[F+1].v==="/")||s[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[F].v==="/"||s[F].v===" "&&s[F+1]!=null&&s[F+1].t=="?"));)s[l].v+=s[F].v,s[F]={v:"",t:";"},++F;N+=s[l].v,l=F-1;break;case"G":s[l].t="t",s[l].v=g0(e,n);break}var V="",ne,U;if(N.length>0){N.charCodeAt(0)==40?(ne=e<0&&N.charCodeAt(0)===45?-e:e,U=li("n",N,ne)):(ne=e<0&&r>1?-e:e,U=li("n",N,ne),ne<0&&s[0]&&s[0].t=="t"&&(U=U.substr(1),s[0].v="-"+s[0].v)),F=U.length-1;var Z=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){Z=l;break}var z=s.length;if(Z===s.length&&U.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(F>=s[l].v.length-1?(F-=s[l].v.length,s[l].v=U.substr(F+1,s[l].v.length)):F<0?s[l].v="":(s[l].v=U.substr(0,F+1),F=-1),s[l].t="t",z=l);F>=0&&z<s.length&&(s[z].v=U.substr(0,F+1)+s[z].v)}else if(Z!==s.length&&U.indexOf("E")===-1){for(F=U.indexOf(".")-1,l=Z;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(m=s[l].v.indexOf(".")>-1&&l===Z?s[l].v.indexOf(".")-1:s[l].v.length-1,V=s[l].v.substr(m+1);m>=0;--m)F>=0&&(s[l].v.charAt(m)==="0"||s[l].v.charAt(m)==="#")&&(V=U.charAt(F--)+V);s[l].v=V,s[l].t="t",z=l}for(F>=0&&z<s.length&&(s[z].v=U.substr(0,F+1)+s[z].v),F=U.indexOf(".")+1,l=Z;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==Z)){for(m=s[l].v.indexOf(".")>-1&&l===Z?s[l].v.indexOf(".")+1:0,V=s[l].v.substr(0,m);m<s[l].v.length;++m)F<U.length&&(V+=U.charAt(F++));s[l].v=V,s[l].t="t",z=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(ne=r>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=li(s[l].t,s[l].v,ne),s[l].t="t");var ae="";for(l=0;l!==s.length;++l)s[l]!=null&&(ae+=s[l].v);return ae}var Q_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j_(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function dD(t,e){var n=fD(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(Q_),c=n[1].match(Q_);return j_(e,l)?[r,n[0]]:j_(e,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,o]}function Wi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Lt)[t],r==null&&(r=n.table&&n.table[K_[t]]||Lt[K_[t]]),r==null&&(r=K4[t]||"General");break}if(Fc(r,0))return g0(e,n);e instanceof Date&&(e=QT(e,n.date1904));var s=dD(r,e);if(Fc(s[1]))return g0(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return hD(s[1],e,n,s[0])}function ox(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Lt[n]==null){e<0&&(e=n);continue}if(Lt[n]==t){e=n;break}}e<0&&(e=391)}return Lt[e]=t,e}function lf(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ox(t[e],e)}function uf(){Lt=Y4()}var lx=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pD(t){var e=typeof t=="number"?Lt[t]:t;return e=e.replace(lx,"(\\d+)"),new RegExp("^"+e+"$")}function mD(t,e,n){var r=-1,s=-1,o=-1,l=-1,c=-1,d=-1;(e.match(lx)||[]).forEach(function(_,y){var x=parseInt(n[y+1],10);switch(_.toLowerCase().charAt(0)){case"y":r=x;break;case"d":o=x;break;case"h":l=x;break;case"s":d=x;break;case"m":l>=0?c=x:s=x;break}}),d>=0&&c==-1&&s>=0&&(c=s,s=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?h:r==-1&&s==-1&&o==-1?m:h+"T"+m}var gD=(function(){var t={};t.version="1.2.0";function e(){for(var U=0,Z=new Array(256),z=0;z!=256;++z)U=z,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,Z[z]=U;return typeof Int32Array<"u"?new Int32Array(Z):Z}var n=e();function r(U){var Z=0,z=0,ae=0,ce=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ae=0;ae!=256;++ae)ce[ae]=U[ae];for(ae=0;ae!=256;++ae)for(z=U[ae],Z=256+ae;Z<4096;Z+=256)z=ce[Z]=z>>>8^U[z&255];var me=[];for(ae=1;ae!=16;++ae)me[ae-1]=typeof Int32Array<"u"?ce.subarray(ae*256,ae*256+256):ce.slice(ae*256,ae*256+256);return me}var s=r(n),o=s[0],l=s[1],c=s[2],d=s[3],h=s[4],m=s[5],_=s[6],y=s[7],x=s[8],S=s[9],E=s[10],w=s[11],R=s[12],O=s[13],N=s[14];function F(U,Z){for(var z=Z^-1,ae=0,ce=U.length;ae<ce;)z=z>>>8^n[(z^U.charCodeAt(ae++))&255];return~z}function V(U,Z){for(var z=Z^-1,ae=U.length-15,ce=0;ce<ae;)z=N[U[ce++]^z&255]^O[U[ce++]^z>>8&255]^R[U[ce++]^z>>16&255]^w[U[ce++]^z>>>24]^E[U[ce++]]^S[U[ce++]]^x[U[ce++]]^y[U[ce++]]^_[U[ce++]]^m[U[ce++]]^h[U[ce++]]^d[U[ce++]]^c[U[ce++]]^l[U[ce++]]^o[U[ce++]]^n[U[ce++]];for(ae+=15;ce<ae;)z=z>>>8^n[(z^U[ce++])&255];return~z}function ne(U,Z){for(var z=Z^-1,ae=0,ce=U.length,me=0,ue=0;ae<ce;)me=U.charCodeAt(ae++),me<128?z=z>>>8^n[(z^me)&255]:me<2048?(z=z>>>8^n[(z^(192|me>>6&31))&255],z=z>>>8^n[(z^(128|me&63))&255]):me>=55296&&me<57344?(me=(me&1023)+64,ue=U.charCodeAt(ae++)&1023,z=z>>>8^n[(z^(240|me>>8&7))&255],z=z>>>8^n[(z^(128|me>>2&63))&255],z=z>>>8^n[(z^(128|ue>>6&15|(me&3)<<4))&255],z=z>>>8^n[(z^(128|ue&63))&255]):(z=z>>>8^n[(z^(224|me>>12&15))&255],z=z>>>8^n[(z^(128|me>>6&63))&255],z=z>>>8^n[(z^(128|me&63))&255]);return~z}return t.table=n,t.bstr=F,t.buf=V,t.str=ne,t})(),_t=(function(){var e={};e.version="1.2.1";function n(C,L){for(var D=C.split("/"),M=L.split("/"),k=0,P=0,ee=Math.min(D.length,M.length);k<ee;++k){if(P=D[k].length-M[k].length)return P;if(D[k]!=M[k])return D[k]<M[k]?-1:1}return D.length-M.length}function r(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:r(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(0,L+1)}function s(C){if(C.charAt(C.length-1)=="/")return s(C.slice(0,-1));var L=C.lastIndexOf("/");return L===-1?C:C.slice(L+1)}function o(C,L){typeof L=="string"&&(L=new Date(L));var D=L.getHours();D=D<<6|L.getMinutes(),D=D<<5|L.getSeconds()>>>1,C.write_shift(2,D);var M=L.getFullYear()-1980;M=M<<4|L.getMonth()+1,M=M<<5|L.getDate(),C.write_shift(2,M)}function l(C){var L=C.read_shift(2)&65535,D=C.read_shift(2)&65535,M=new Date,k=D&31;D>>>=5;var P=D&15;D>>>=4,M.setMilliseconds(0),M.setFullYear(D+1980),M.setMonth(P-1),M.setDate(k);var ee=L&31;L>>>=5;var pe=L&63;return L>>>=6,M.setHours(L),M.setMinutes(pe),M.setSeconds(ee<<1),M}function c(C){Wn(C,0);for(var L={},D=0;C.l<=C.length-4;){var M=C.read_shift(2),k=C.read_shift(2),P=C.l+k,ee={};switch(M){case 21589:D=C.read_shift(1),D&1&&(ee.mtime=C.read_shift(4)),k>5&&(D&2&&(ee.atime=C.read_shift(4)),D&4&&(ee.ctime=C.read_shift(4))),ee.mtime&&(ee.mt=new Date(ee.mtime*1e3));break}C.l=P,L[M]=ee}return L}var d;function h(){return d||(d={})}function m(C,L){if(C[0]==80&&C[1]==75)return es(C,L);if((C[0]|32)==109&&(C[1]|32)==105)return ns(C,L);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var D=3,M=512,k=0,P=0,ee=0,pe=0,te=0,re=[],se=C.slice(0,512);Wn(se,0);var Te=_(se);switch(D=Te[0],D){case 3:M=512;break;case 4:M=4096;break;case 0:if(Te[1]==0)return es(C,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+D)}M!==512&&(se=C.slice(0,M),Wn(se,28));var we=C.slice(0,M);y(se,D);var De=se.read_shift(4,"i");if(D===3&&De!==0)throw new Error("# Directory Sectors: Expected 0 saw "+De);se.l+=4,ee=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),pe=se.read_shift(4,"i"),k=se.read_shift(4,"i"),te=se.read_shift(4,"i"),P=se.read_shift(4,"i");for(var xe=-1,Ie=0;Ie<109&&(xe=se.read_shift(4,"i"),!(xe<0));++Ie)re[Ie]=xe;var Ue=x(C,M);w(te,P,Ue,M,re);var Et=O(Ue,ee,re,M);Et[ee].name="!Directory",k>0&&pe!==ue&&(Et[pe].name="!MiniFAT"),Et[re[0]].name="!FAT",Et.fat_addrs=re,Et.ssz=M;var St={},Nt=[],nr=[],rs=[];N(ee,Et,Ue,Nt,k,St,nr,pe),S(nr,rs,Nt),Nt.shift();var _i={FileIndex:nr,FullPaths:rs};return L&&L.raw&&(_i.raw={header:we,sectors:Ue}),_i}function _(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(ye,"Header Signature: "),C.l+=16;var L=C.read_shift(2,"u");return[C.read_shift(2,"u"),L]}function y(C,L){var D=9;switch(C.l+=2,D=C.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+D);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+D);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+D)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function x(C,L){for(var D=Math.ceil(C.length/L)-1,M=[],k=1;k<D;++k)M[k-1]=C.slice(k*L,(k+1)*L);return M[D-1]=C.slice(D*L),M}function S(C,L,D){for(var M=0,k=0,P=0,ee=0,pe=0,te=D.length,re=[],se=[];M<te;++M)re[M]=se[M]=M,L[M]=D[M];for(;pe<se.length;++pe)M=se[pe],k=C[M].L,P=C[M].R,ee=C[M].C,re[M]===M&&(k!==-1&&re[k]!==k&&(re[M]=re[k]),P!==-1&&re[P]!==P&&(re[M]=re[P])),ee!==-1&&(re[ee]=M),k!==-1&&M!=re[M]&&(re[k]=re[M],se.lastIndexOf(k)<pe&&se.push(k)),P!==-1&&M!=re[M]&&(re[P]=re[M],se.lastIndexOf(P)<pe&&se.push(P));for(M=1;M<te;++M)re[M]===M&&(P!==-1&&re[P]!==P?re[M]=re[P]:k!==-1&&re[k]!==k&&(re[M]=re[k]));for(M=1;M<te;++M)if(C[M].type!==0){if(pe=M,pe!=re[pe])do pe=re[pe],L[M]=L[pe]+"/"+L[M];while(pe!==0&&re[pe]!==-1&&pe!=re[pe]);re[M]=-1}for(L[0]+="/",M=1;M<te;++M)C[M].type!==2&&(L[M]+="/")}function E(C,L,D){for(var M=C.start,k=C.size,P=[],ee=M;D&&k>0&&ee>=0;)P.push(L.slice(ee*me,ee*me+me)),k-=me,ee=ws(D,ee*4);return P.length===0?he(0):cn(P).slice(0,C.size)}function w(C,L,D,M,k){var P=ue;if(C===ue){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var ee=D[C],pe=(M>>>2)-1;if(!ee)return;for(var te=0;te<pe&&(P=ws(ee,te*4))!==ue;++te)k.push(P);w(ws(ee,M-4),L-1,D,M,k)}}function R(C,L,D,M,k){var P=[],ee=[];k||(k=[]);var pe=M-1,te=0,re=0;for(te=L;te>=0;){k[te]=!0,P[P.length]=te,ee.push(C[te]);var se=D[Math.floor(te*4/M)];if(re=te*4&pe,M<4+re)throw new Error("FAT boundary crossed: "+te+" 4 "+M);if(!C[se])break;te=ws(C[se],re)}return{nodes:P,data:a1([ee])}}function O(C,L,D,M){var k=C.length,P=[],ee=[],pe=[],te=[],re=M-1,se=0,Te=0,we=0,De=0;for(se=0;se<k;++se)if(pe=[],we=se+L,we>=k&&(we-=k),!ee[we]){te=[];var xe=[];for(Te=we;Te>=0;){xe[Te]=!0,ee[Te]=!0,pe[pe.length]=Te,te.push(C[Te]);var Ie=D[Math.floor(Te*4/M)];if(De=Te*4&re,M<4+De)throw new Error("FAT boundary crossed: "+Te+" 4 "+M);if(!C[Ie]||(Te=ws(C[Ie],De),xe[Te]))break}P[we]={nodes:pe,data:a1([te])}}return P}function N(C,L,D,M,k,P,ee,pe){for(var te=0,re=M.length?2:0,se=L[C].data,Te=0,we=0,De;Te<se.length;Te+=128){var xe=se.slice(Te,Te+128);Wn(xe,64),we=xe.read_shift(2),De=X0(xe,0,we-re),M.push(De);var Ie={name:De,type:xe.read_shift(1),color:xe.read_shift(1),L:xe.read_shift(4,"i"),R:xe.read_shift(4,"i"),C:xe.read_shift(4,"i"),clsid:xe.read_shift(16),state:xe.read_shift(4,"i"),start:0,size:0},Ue=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);Ue!==0&&(Ie.ct=F(xe,xe.l-8));var Et=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);Et!==0&&(Ie.mt=F(xe,xe.l-8)),Ie.start=xe.read_shift(4,"i"),Ie.size=xe.read_shift(4,"i"),Ie.size<0&&Ie.start<0&&(Ie.size=Ie.type=0,Ie.start=ue,Ie.name=""),Ie.type===5?(te=Ie.start,k>0&&te!==ue&&(L[te].name="!StreamData")):Ie.size>=4096?(Ie.storage="fat",L[Ie.start]===void 0&&(L[Ie.start]=R(D,Ie.start,L.fat_addrs,L.ssz)),L[Ie.start].name=Ie.name,Ie.content=L[Ie.start].data.slice(0,Ie.size)):(Ie.storage="minifat",Ie.size<0?Ie.size=0:te!==ue&&Ie.start!==ue&&L[te]&&(Ie.content=E(Ie,L[te].data,(L[pe]||{}).data))),Ie.content&&Wn(Ie.content,0),P[De]=Ie,ee.push(Ie)}}function F(C,L){return new Date((Qn(C,L+4)/1e7*Math.pow(2,32)+Qn(C,L)/1e7-11644473600)*1e3)}function V(C,L){return h(),m(d.readFileSync(C),L)}function ne(C,L){var D=L&&L.type;switch(D||ut&&Buffer.isBuffer(C)&&(D="buffer"),D||"base64"){case"file":return V(C,L);case"base64":return m(Rr(hi(C)),L);case"binary":return m(Rr(C),L)}return m(C,L)}function U(C,L){var D=L||{},M=D.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=M+"/",C.FileIndex[0]={name:M,type:5}),D.CLSID&&(C.FileIndex[0].clsid=D.CLSID),Z(C)}function Z(C){var L="Sh33tJ5";if(!_t.find(C,"/"+L)){var D=he(4);D[0]=55,D[1]=D[3]=50,D[2]=54,C.FileIndex.push({name:L,type:2,content:D,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+L),z(C)}}function z(C,L){U(C);for(var D=!1,M=!1,k=C.FullPaths.length-1;k>=0;--k){var P=C.FileIndex[k];switch(P.type){case 0:M?D=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:M=!0,isNaN(P.R*P.L*P.C)&&(D=!0),P.R>-1&&P.L>-1&&P.R==P.L&&(D=!0);break;default:D=!0;break}}if(!(!D&&!L)){var ee=new Date(1987,1,19),pe=0,te=Object.create?Object.create(null):{},re=[];for(k=0;k<C.FullPaths.length;++k)te[C.FullPaths[k]]=!0,C.FileIndex[k].type!==0&&re.push([C.FullPaths[k],C.FileIndex[k]]);for(k=0;k<re.length;++k){var se=r(re[k][0]);M=te[se],M||(re.push([se,{name:s(se).replace("/",""),type:1,clsid:X,ct:ee,mt:ee,content:null}]),te[se]=!0)}for(re.sort(function(De,xe){return n(De[0],xe[0])}),C.FullPaths=[],C.FileIndex=[],k=0;k<re.length;++k)C.FullPaths[k]=re[k][0],C.FileIndex[k]=re[k][1];for(k=0;k<re.length;++k){var Te=C.FileIndex[k],we=C.FullPaths[k];if(Te.name=s(we).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||X,k===0)Te.C=re.length>1?1:-1,Te.size=0,Te.type=5;else if(we.slice(-1)=="/"){for(pe=k+1;pe<re.length&&r(C.FullPaths[pe])!=we;++pe);for(Te.C=pe>=re.length?-1:pe,pe=k+1;pe<re.length&&r(C.FullPaths[pe])!=r(we);++pe);Te.R=pe>=re.length?-1:pe,Te.type=1}else r(C.FullPaths[k+1]||"")==r(we)&&(Te.R=k+1),Te.type=2}}}function ae(C,L){var D=L||{};if(D.fileType=="mad")return Ef(C,D);switch(z(C),D.fileType){case"zip":return qs(C,D)}var M=(function(De){for(var xe=0,Ie=0,Ue=0;Ue<De.FileIndex.length;++Ue){var Et=De.FileIndex[Ue];if(Et.content){var St=Et.content.length;St>0&&(St<4096?xe+=St+63>>6:Ie+=St+511>>9)}}for(var Nt=De.FullPaths.length+3>>2,nr=xe+7>>3,rs=xe+127>>7,_i=nr+Ie+Nt+rs,Lr=_i+127>>7,fo=Lr<=109?0:Math.ceil((Lr-109)/127);_i+Lr+fo+127>>7>Lr;)fo=++Lr<=109?0:Math.ceil((Lr-109)/127);var Rn=[1,fo,Lr,rs,Nt,Ie,xe,0];return De.FileIndex[0].size=xe<<6,Rn[7]=(De.FileIndex[0].start=Rn[0]+Rn[1]+Rn[2]+Rn[3]+Rn[4]+Rn[5])+(Rn[6]+7>>3),Rn})(C),k=he(M[7]<<9),P=0,ee=0;{for(P=0;P<8;++P)k.write_shift(1,Ee[P]);for(P=0;P<8;++P)k.write_shift(2,0);for(k.write_shift(2,62),k.write_shift(2,3),k.write_shift(2,65534),k.write_shift(2,9),k.write_shift(2,6),P=0;P<3;++P)k.write_shift(2,0);for(k.write_shift(4,0),k.write_shift(4,M[2]),k.write_shift(4,M[0]+M[1]+M[2]+M[3]-1),k.write_shift(4,0),k.write_shift(4,4096),k.write_shift(4,M[3]?M[0]+M[1]+M[2]-1:ue),k.write_shift(4,M[3]),k.write_shift(-4,M[1]?M[0]-1:ue),k.write_shift(4,M[1]),P=0;P<109;++P)k.write_shift(-4,P<M[2]?M[1]+P:-1)}if(M[1])for(ee=0;ee<M[1];++ee){for(;P<236+ee*127;++P)k.write_shift(-4,P<M[2]?M[1]+P:-1);k.write_shift(-4,ee===M[1]-1?ue:ee+1)}var pe=function(De){for(ee+=De;P<ee-1;++P)k.write_shift(-4,P+1);De&&(++P,k.write_shift(-4,ue))};for(ee=P=0,ee+=M[1];P<ee;++P)k.write_shift(-4,fe.DIFSECT);for(ee+=M[2];P<ee;++P)k.write_shift(-4,fe.FATSECT);pe(M[3]),pe(M[4]);for(var te=0,re=0,se=C.FileIndex[0];te<C.FileIndex.length;++te)se=C.FileIndex[te],se.content&&(re=se.content.length,!(re<4096)&&(se.start=ee,pe(re+511>>9)));for(pe(M[6]+7>>3);k.l&511;)k.write_shift(-4,fe.ENDOFCHAIN);for(ee=P=0,te=0;te<C.FileIndex.length;++te)se=C.FileIndex[te],se.content&&(re=se.content.length,!(!re||re>=4096)&&(se.start=ee,pe(re+63>>6)));for(;k.l&511;)k.write_shift(-4,fe.ENDOFCHAIN);for(P=0;P<M[4]<<2;++P){var Te=C.FullPaths[P];if(!Te||Te.length===0){for(te=0;te<17;++te)k.write_shift(4,0);for(te=0;te<3;++te)k.write_shift(4,-1);for(te=0;te<12;++te)k.write_shift(4,0);continue}se=C.FileIndex[P],P===0&&(se.start=se.size?se.start-1:ue);var we=P===0&&D.root||se.name;if(re=2*(we.length+1),k.write_shift(64,we,"utf16le"),k.write_shift(2,re),k.write_shift(1,se.type),k.write_shift(1,se.color),k.write_shift(-4,se.L),k.write_shift(-4,se.R),k.write_shift(-4,se.C),se.clsid)k.write_shift(16,se.clsid,"hex");else for(te=0;te<4;++te)k.write_shift(4,0);k.write_shift(4,se.state||0),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(4,se.start),k.write_shift(4,se.size),k.write_shift(4,0)}for(P=1;P<C.FileIndex.length;++P)if(se=C.FileIndex[P],se.size>=4096)if(k.l=se.start+1<<9,ut&&Buffer.isBuffer(se.content))se.content.copy(k,k.l,0,se.size),k.l+=se.size+511&-512;else{for(te=0;te<se.size;++te)k.write_shift(1,se.content[te]);for(;te&511;++te)k.write_shift(1,0)}for(P=1;P<C.FileIndex.length;++P)if(se=C.FileIndex[P],se.size>0&&se.size<4096)if(ut&&Buffer.isBuffer(se.content))se.content.copy(k,k.l,0,se.size),k.l+=se.size+63&-64;else{for(te=0;te<se.size;++te)k.write_shift(1,se.content[te]);for(;te&63;++te)k.write_shift(1,0)}if(ut)k.l=k.length;else for(;k.l<k.length;)k.write_shift(1,0);return k}function ce(C,L){var D=C.FullPaths.map(function(te){return te.toUpperCase()}),M=D.map(function(te){var re=te.split("/");return re[re.length-(te.slice(-1)=="/"?2:1)]}),k=!1;L.charCodeAt(0)===47?(k=!0,L=D[0].slice(0,-1)+L):k=L.indexOf("/")!==-1;var P=L.toUpperCase(),ee=k===!0?D.indexOf(P):M.indexOf(P);if(ee!==-1)return C.FileIndex[ee];var pe=!P.match(cc);for(P=P.replace(ul,""),pe&&(P=P.replace(cc,"!")),ee=0;ee<D.length;++ee)if((pe?D[ee].replace(cc,"!"):D[ee]).replace(ul,"")==P||(pe?M[ee].replace(cc,"!"):M[ee]).replace(ul,"")==P)return C.FileIndex[ee];return null}var me=64,ue=-2,ye="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ue,FREESECT:-1,HEADER_SIGNATURE:ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function be(C,L,D){h();var M=ae(C,D);d.writeFileSync(L,M)}function ke(C){for(var L=new Array(C.length),D=0;D<C.length;++D)L[D]=String.fromCharCode(C[D]);return L.join("")}function He(C,L){var D=ae(C,L);switch(L&&L.type||"buffer"){case"file":return h(),d.writeFileSync(L.filename,D),D;case"binary":return typeof D=="string"?D:ke(D);case"base64":return _l(typeof D=="string"?D:ke(D));case"buffer":if(ut)return Buffer.isBuffer(D)?D:gi(D);case"array":return typeof D=="string"?Rr(D):D}return D}var J;function I(C){try{var L=C.InflateRaw,D=new L;if(D._processChunk(new Uint8Array([3,0]),D._finishFlushFlag),D.bytesRead)J=C;else throw new Error("zlib does not expose bytesRead")}catch(M){console.error("cannot use native zlib: "+(M.message||M))}}function q(C,L){if(!J)return Vl(C,L);var D=J.InflateRaw,M=new D,k=M._processChunk(C.slice(C.l),M._finishFlushFlag);return C.l+=M.bytesRead,k}function B(C){return J?J.deflateRawSync(C):oo(C)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(C){var L=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(L>>16|L>>8|L)&255}for(var Re=typeof Uint8Array<"u",Ne=Re?new Uint8Array(256):[],rt=0;rt<256;++rt)Ne[rt]=Oe(rt);function Qe(C,L){var D=Ne[C&255];return L<=8?D>>>8-L:(D=D<<8|Ne[C>>8&255],L<=16?D>>>16-L:(D=D<<8|Ne[C>>16&255],D>>>24-L))}function Wt(C,L){var D=L&7,M=L>>>3;return(C[M]|(D<=6?0:C[M+1]<<8))>>>D&3}function Xe(C,L){var D=L&7,M=L>>>3;return(C[M]|(D<=5?0:C[M+1]<<8))>>>D&7}function Fn(C,L){var D=L&7,M=L>>>3;return(C[M]|(D<=4?0:C[M+1]<<8))>>>D&15}function xt(C,L){var D=L&7,M=L>>>3;return(C[M]|(D<=3?0:C[M+1]<<8))>>>D&31}function Le(C,L){var D=L&7,M=L>>>3;return(C[M]|(D<=1?0:C[M+1]<<8))>>>D&127}function Tn(C,L,D){var M=L&7,k=L>>>3,P=(1<<D)-1,ee=C[k]>>>M;return D<8-M||(ee|=C[k+1]<<8-M,D<16-M)||(ee|=C[k+2]<<16-M,D<24-M)||(ee|=C[k+3]<<24-M),ee&P}function Bn(C,L,D){var M=L&7,k=L>>>3;return M<=5?C[k]|=(D&7)<<M:(C[k]|=D<<M&255,C[k+1]=(D&7)>>8-M),L+3}function yr(C,L,D){var M=L&7,k=L>>>3;return D=(D&1)<<M,C[k]|=D,L+1}function kr(C,L,D){var M=L&7,k=L>>>3;return D<<=M,C[k]|=D&255,D>>>=8,C[k+1]=D,L+8}function Bl(C,L,D){var M=L&7,k=L>>>3;return D<<=M,C[k]|=D&255,D>>>=8,C[k+1]=D&255,C[k+2]=D>>>8,L+16}function ao(C,L){var D=C.length,M=2*D>L?2*D:L+5,k=0;if(D>=L)return C;if(ut){var P=$_(M);if(C.copy)C.copy(P);else for(;k<C.length;++k)P[k]=C[k];return P}else if(Re){var ee=new Uint8Array(M);if(ee.set)ee.set(C);else for(;k<D;++k)ee[k]=C[k];return ee}return C.length=M,C}function Rt(C){for(var L=new Array(C),D=0;D<C;++D)L[D]=0;return L}function Bs(C,L,D){var M=1,k=0,P=0,ee=0,pe=0,te=C.length,re=Re?new Uint16Array(32):Rt(32);for(P=0;P<32;++P)re[P]=0;for(P=te;P<D;++P)C[P]=0;te=C.length;var se=Re?new Uint16Array(te):Rt(te);for(P=0;P<te;++P)re[k=C[P]]++,M<k&&(M=k),se[P]=0;for(re[0]=0,P=1;P<=M;++P)re[P+16]=pe=pe+re[P-1]<<1;for(P=0;P<te;++P)pe=C[P],pe!=0&&(se[P]=re[pe+16]++);var Te=0;for(P=0;P<te;++P)if(Te=C[P],Te!=0)for(pe=Qe(se[P],M)>>M-Te,ee=(1<<M+4-Te)-1;ee>=0;--ee)L[pe|ee<<Te]=Te&15|P<<4;return M}var Hs=Re?new Uint16Array(512):Rt(512),Gs=Re?new Uint16Array(32):Rt(32);if(!Re){for(var er=0;er<512;++er)Hs[er]=0;for(er=0;er<32;++er)Gs[er]=0}(function(){for(var C=[],L=0;L<32;L++)C.push(5);Bs(C,Gs,32);var D=[];for(L=0;L<=143;L++)D.push(8);for(;L<=255;L++)D.push(9);for(;L<=279;L++)D.push(7);for(;L<=287;L++)D.push(8);Bs(D,Hs,288)})();var _f=(function(){for(var L=Re?new Uint8Array(32768):[],D=0,M=0;D<Se.length-1;++D)for(;M<Se[D+1];++M)L[M]=D;for(;M<32768;++M)L[M]=29;var k=Re?new Uint8Array(259):[];for(D=0,M=0;D<oe.length-1;++D)for(;M<oe[D+1];++M)k[M]=D;function P(pe,te){for(var re=0;re<pe.length;){var se=Math.min(65535,pe.length-re),Te=re+se==pe.length;for(te.write_shift(1,+Te),te.write_shift(2,se),te.write_shift(2,~se&65535);se-- >0;)te[te.l++]=pe[re++]}return te.l}function ee(pe,te){for(var re=0,se=0,Te=Re?new Uint16Array(32768):[];se<pe.length;){var we=Math.min(65535,pe.length-se);if(we<10){for(re=Bn(te,re,+(se+we==pe.length)),re&7&&(re+=8-(re&7)),te.l=re/8|0,te.write_shift(2,we),te.write_shift(2,~we&65535);we-- >0;)te[te.l++]=pe[se++];re=te.l*8;continue}re=Bn(te,re,+(se+we==pe.length)+2);for(var De=0;we-- >0;){var xe=pe[se];De=(De<<5^xe)&32767;var Ie=-1,Ue=0;if((Ie=Te[De])&&(Ie|=se&-32768,Ie>se&&(Ie-=32768),Ie<se))for(;pe[Ie+Ue]==pe[se+Ue]&&Ue<250;)++Ue;if(Ue>2){xe=k[Ue],xe<=22?re=kr(te,re,Ne[xe+1]>>1)-1:(kr(te,re,3),re+=5,kr(te,re,Ne[xe-23]>>5),re+=3);var Et=xe<8?0:xe-4>>2;Et>0&&(Bl(te,re,Ue-oe[xe]),re+=Et),xe=L[se-Ie],re=kr(te,re,Ne[xe]>>3),re-=3;var St=xe<4?0:xe-2>>1;St>0&&(Bl(te,re,se-Ie-Se[xe]),re+=St);for(var Nt=0;Nt<Ue;++Nt)Te[De]=se&32767,De=(De<<5^pe[se])&32767,++se;we-=Ue-1}else xe<=143?xe=xe+48:re=yr(te,re,1),re=kr(te,re,Ne[xe]),Te[De]=se&32767,++se}re=kr(te,re,0)-1}return te.l=(re+7)/8|0,te.l}return function(te,re){return te.length<8?P(te,re):ee(te,re)}})();function oo(C){var L=he(50+Math.floor(C.length*1.1)),D=_f(C,L);return L.slice(0,D)}var Hl=Re?new Uint16Array(32768):Rt(32768),Gl=Re?new Uint16Array(32768):Rt(32768),yi=Re?new Uint16Array(128):Rt(128),pn=1,_r=1;function xn(C,L){var D=xt(C,L)+257;L+=5;var M=xt(C,L)+1;L+=5;var k=Fn(C,L)+4;L+=4;for(var P=0,ee=Re?new Uint8Array(19):Rt(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,re=Re?new Uint8Array(8):Rt(8),se=Re?new Uint8Array(8):Rt(8),Te=ee.length,we=0;we<k;++we)ee[G[we]]=P=Xe(C,L),te<P&&(te=P),re[P]++,L+=3;var De=0;for(re[0]=0,we=1;we<=te;++we)se[we]=De=De+re[we-1]<<1;for(we=0;we<Te;++we)(De=ee[we])!=0&&(pe[we]=se[De]++);var xe=0;for(we=0;we<Te;++we)if(xe=ee[we],xe!=0){De=Ne[pe[we]]>>8-xe;for(var Ie=(1<<7-xe)-1;Ie>=0;--Ie)yi[De|Ie<<xe]=xe&7|we<<3}var Ue=[];for(te=1;Ue.length<D+M;)switch(De=yi[Le(C,L)],L+=De&7,De>>>=3){case 16:for(P=3+Wt(C,L),L+=2,De=Ue[Ue.length-1];P-- >0;)Ue.push(De);break;case 17:for(P=3+Xe(C,L),L+=3;P-- >0;)Ue.push(0);break;case 18:for(P=11+Le(C,L),L+=7;P-- >0;)Ue.push(0);break;default:Ue.push(De),te<De&&(te=De);break}var Et=Ue.slice(0,D),St=Ue.slice(D);for(we=D;we<286;++we)Et[we]=0;for(we=M;we<30;++we)St[we]=0;return pn=Bs(Et,Hl,286),_r=Bs(St,Gl,30),L}function Tf(C,L){if(C[0]==3&&!(C[1]&3))return[Ns(L),2];for(var D=0,M=0,k=$_(L||1<<18),P=0,ee=k.length>>>0,pe=0,te=0;(M&1)==0;){if(M=Xe(C,D),D+=3,M>>>1)M>>1==1?(pe=9,te=5):(D=xn(C,D),pe=pn,te=_r);else{D&7&&(D+=8-(D&7));var re=C[D>>>3]|C[(D>>>3)+1]<<8;if(D+=32,re>0)for(!L&&ee<P+re&&(k=ao(k,P+re),ee=k.length);re-- >0;)k[P++]=C[D>>>3],D+=8;continue}for(;;){!L&&ee<P+32767&&(k=ao(k,P+32767),ee=k.length);var se=Tn(C,D,pe),Te=M>>>1==1?Hs[se]:Hl[se];if(D+=Te&15,Te>>>=4,(Te>>>8&255)===0)k[P++]=Te;else{if(Te==256)break;Te-=257;var we=Te<8?0:Te-4>>2;we>5&&(we=0);var De=P+oe[Te];we>0&&(De+=Tn(C,D,we),D+=we),se=Tn(C,D,te),Te=M>>>1==1?Gs[se]:Gl[se],D+=Te&15,Te>>>=4;var xe=Te<4?0:Te-2>>1,Ie=Se[Te];for(xe>0&&(Ie+=Tn(C,D,xe),D+=xe),!L&&ee<De&&(k=ao(k,De+100),ee=k.length);P<De;)k[P]=k[P-Ie],++P}}}return L?[k,D+7>>>3]:[k.slice(0,P),D+7>>>3]}function Vl(C,L){var D=C.slice(C.l||0),M=Tf(D,L);return C.l+=M[1],M[0]}function ql(C,L){if(C)typeof console<"u"&&console.error(L);else throw new Error(L)}function es(C,L){var D=C;Wn(D,0);var M=[],k=[],P={FileIndex:M,FullPaths:k};U(P,{root:L.root});for(var ee=D.length-4;(D[ee]!=80||D[ee+1]!=75||D[ee+2]!=5||D[ee+3]!=6)&&ee>=0;)--ee;D.l=ee+4,D.l+=4;var pe=D.read_shift(2);D.l+=6;var te=D.read_shift(4);for(D.l=te,ee=0;ee<pe;++ee){D.l+=20;var re=D.read_shift(4),se=D.read_shift(4),Te=D.read_shift(2),we=D.read_shift(2),De=D.read_shift(2);D.l+=8;var xe=D.read_shift(4),Ie=c(D.slice(D.l+Te,D.l+Te+we));D.l+=Te+we+De;var Ue=D.l;D.l=xe+4,Vs(D,re,se,P,Ie),D.l=Ue}return P}function Vs(C,L,D,M,k){C.l+=2;var P=C.read_shift(2),ee=C.read_shift(2),pe=l(C);if(P&8257)throw new Error("Unsupported ZIP encryption");for(var te=C.read_shift(4),re=C.read_shift(4),se=C.read_shift(4),Te=C.read_shift(2),we=C.read_shift(2),De="",xe=0;xe<Te;++xe)De+=String.fromCharCode(C[C.l++]);if(we){var Ie=c(C.slice(C.l,C.l+we));(Ie[21589]||{}).mt&&(pe=Ie[21589].mt),((k||{})[21589]||{}).mt&&(pe=k[21589].mt)}C.l+=we;var Ue=C.slice(C.l,C.l+re);switch(ee){case 8:Ue=q(C,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ee)}var Et=!1;P&8&&(te=C.read_shift(4),te==134695760&&(te=C.read_shift(4),Et=!0),re=C.read_shift(4),se=C.read_shift(4)),re!=L&&ql(Et,"Bad compressed size: "+L+" != "+re),se!=D&&ql(Et,"Bad uncompressed size: "+D+" != "+se),$s(M,De,Ue,{unsafe:!0,mt:pe})}function qs(C,L){var D=L||{},M=[],k=[],P=he(1),ee=D.compression?8:0,pe=0,te=0,re=0,se=0,Te=0,we=C.FullPaths[0],De=we,xe=C.FileIndex[0],Ie=[],Ue=0;for(te=1;te<C.FullPaths.length;++te)if(De=C.FullPaths[te].slice(we.length),xe=C.FileIndex[te],!(!xe.size||!xe.content||De=="Sh33tJ5")){var Et=se,St=he(De.length);for(re=0;re<De.length;++re)St.write_shift(1,De.charCodeAt(re)&127);St=St.slice(0,St.l),Ie[Te]=gD.buf(xe.content,0);var Nt=xe.content;ee==8&&(Nt=B(Nt)),P=he(30),P.write_shift(4,67324752),P.write_shift(2,20),P.write_shift(2,pe),P.write_shift(2,ee),xe.mt?o(P,xe.mt):P.write_shift(4,0),P.write_shift(-4,Ie[Te]),P.write_shift(4,Nt.length),P.write_shift(4,xe.content.length),P.write_shift(2,St.length),P.write_shift(2,0),se+=P.length,M.push(P),se+=St.length,M.push(St),se+=Nt.length,M.push(Nt),P=he(46),P.write_shift(4,33639248),P.write_shift(2,0),P.write_shift(2,20),P.write_shift(2,pe),P.write_shift(2,ee),P.write_shift(4,0),P.write_shift(-4,Ie[Te]),P.write_shift(4,Nt.length),P.write_shift(4,xe.content.length),P.write_shift(2,St.length),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(4,0),P.write_shift(4,Et),Ue+=P.l,k.push(P),Ue+=St.length,k.push(St),++Te}return P=he(22),P.write_shift(4,101010256),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,Te),P.write_shift(2,Te),P.write_shift(4,Ue),P.write_shift(4,se),P.write_shift(2,0),cn([cn(M),cn(k),P])}var tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function zs(C,L){if(C.ctype)return C.ctype;var D=C.name||"",M=D.match(/\.([^\.]+)$/);return M&&tr[M[1]]||L&&(M=(D=L).match(/[\.\\]([^\.\\])+$/),M&&tr[M[1]])?tr[M[1]]:"application/octet-stream"}function ts(C){for(var L=_l(C),D=[],M=0;M<L.length;M+=76)D.push(L.slice(M,M+76));return D.join(`\r
`)+`\r
`}function xf(C){var L=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var se=re.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var D=[],M=L.split(`\r
`),k=0;k<M.length;++k){var P=M[k];if(P.length==0){D.push("");continue}for(var ee=0;ee<P.length;){var pe=76,te=P.slice(ee,ee+pe);te.charAt(pe-1)=="="?pe--:te.charAt(pe-2)=="="?pe-=2:te.charAt(pe-3)=="="&&(pe-=3),te=P.slice(ee,ee+pe),ee+=pe,ee<P.length&&(te+="="),D.push(te)}}return D.join(`\r
`)}function zl(C){for(var L=[],D=0;D<C.length;++D){for(var M=C[D];D<=C.length&&M.charAt(M.length-1)=="=";)M=M.slice(0,M.length-1)+C[++D];L.push(M)}for(var k=0;k<L.length;++k)L[k]=L[k].replace(/[=][0-9A-Fa-f]{2}/g,function(P){return String.fromCharCode(parseInt(P.slice(1),16))});return Rr(L.join(`\r
`))}function lo(C,L,D){for(var M="",k="",P="",ee,pe=0;pe<10;++pe){var te=L[pe];if(!te||te.match(/^\s*$/))break;var re=te.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":M=re[2].trim();break;case"content-type":P=re[2].trim();break;case"content-transfer-encoding":k=re[2].trim();break}}switch(++pe,k.toLowerCase()){case"base64":ee=Rr(hi(L.slice(pe).join("")));break;case"quoted-printable":ee=zl(L.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+k)}var se=$s(C,M.slice(D.length),ee,{unsafe:!0});P&&(se.ctype=P)}function ns(C,L){if(ke(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var D=L&&L.root||"",M=(ut&&Buffer.isBuffer(C)?C.toString("binary"):ke(C)).split(`\r
`),k=0,P="";for(k=0;k<M.length;++k)if(P=M[k],!!/^Content-Location:/i.test(P)&&(P=P.slice(P.indexOf("file")),D||(D=P.slice(0,P.lastIndexOf("/")+1)),P.slice(0,D.length)!=D))for(;D.length>0&&(D=D.slice(0,D.length-1),D=D.slice(0,D.lastIndexOf("/")+1),P.slice(0,D.length)!=D););var ee=(M[1]||"").match(/boundary="(.*?)"/);if(!ee)throw new Error("MAD cannot find boundary");var pe="--"+(ee[1]||""),te=[],re=[],se={FileIndex:te,FullPaths:re};U(se);var Te,we=0;for(k=0;k<M.length;++k){var De=M[k];De!==pe&&De!==pe+"--"||(we++&&lo(se,M.slice(Te,k),D),Te=k)}return se}function Ef(C,L){var D=L||{},M=D.boundary||"SheetJS";M="------="+M;for(var k=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+M.slice(2)+'"',"","",""],P=C.FullPaths[0],ee=P,pe=C.FileIndex[0],te=1;te<C.FullPaths.length;++te)if(ee=C.FullPaths[te].slice(P.length),pe=C.FileIndex[te],!(!pe.size||!pe.content||ee=="Sh33tJ5")){ee=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ue){return"_x"+Ue.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ue){return"_u"+Ue.charCodeAt(0).toString(16)+"_"});for(var re=pe.content,se=ut&&Buffer.isBuffer(re)?re.toString("binary"):ke(re),Te=0,we=Math.min(1024,se.length),De=0,xe=0;xe<=we;++xe)(De=se.charCodeAt(xe))>=32&&De<128&&++Te;var Ie=Te>=we*4/5;k.push(M),k.push("Content-Location: "+(D.root||"file:///C:/SheetJS/")+ee),k.push("Content-Transfer-Encoding: "+(Ie?"quoted-printable":"base64")),k.push("Content-Type: "+zs(pe,ee)),k.push(""),k.push(Ie?xf(se):ts(se))}return k.push(M+`--\r
`),k.join(`\r
`)}function $l(C){var L={};return U(L,C),L}function $s(C,L,D,M){var k=M&&M.unsafe;k||U(C);var P=!k&&_t.find(C,L);if(!P){var ee=C.FullPaths[0];L.slice(0,ee.length)==ee?ee=L:(ee.slice(-1)!="/"&&(ee+="/"),ee=(ee+L).replace("//","/")),P={name:s(L),type:2},C.FileIndex.push(P),C.FullPaths.push(ee),k||_t.utils.cfb_gc(C)}return P.content=D,P.size=D?D.length:0,M&&(M.CLSID&&(P.clsid=M.CLSID),M.mt&&(P.mt=M.mt),M.ct&&(P.ct=M.ct)),P}function Jl(C,L){U(C);var D=_t.find(C,L);if(D){for(var M=0;M<C.FileIndex.length;++M)if(C.FileIndex[M]==D)return C.FileIndex.splice(M,1),C.FullPaths.splice(M,1),!0}return!1}function uo(C,L,D){U(C);var M=_t.find(C,L);if(M){for(var k=0;k<C.FileIndex.length;++k)if(C.FileIndex[k]==M)return C.FileIndex[k].name=s(D),C.FullPaths[k]=D,!0}return!1}function co(C){z(C,!0)}return e.find=ce,e.read=ne,e.parse=m,e.write=He,e.writeFile=be,e.utils={cfb_new:$l,cfb_add:$s,cfb_del:Jl,cfb_mov:uo,cfb_gc:co,ReadShift:fl,CheckField:Cx,prep_blob:Wn,bconcat:cn,use_zlib:I,_deflateRaw:oo,_inflateRaw:Vl,consts:fe},e})();function vD(t){return typeof t=="string"?of(t):Array.isArray(t)?q4(t):t}function Ol(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=of(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?xl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([vD(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Ml(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function dn(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Z_(t,e){for(var n=[],r=dn(t),s=0;s!==r.length;++s)n[t[r[s]][e]]==null&&(n[t[r[s]][e]]=r[s]);return n}function J0(t){for(var e=[],n=dn(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function cf(t){for(var e=[],n=dn(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function yD(t){for(var e=[],n=dn(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Hc=new Date(1899,11,30,0,0,0);function Pn(t,e){var n=t.getTime(),r=Hc.getTime()+(t.getTimezoneOffset()-Hc.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var ux=new Date,_D=Hc.getTime()+(ux.getTimezoneOffset()-Hc.getTimezoneOffset())*6e4,e1=ux.getTimezoneOffset();function cx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+_D),e.getTimezoneOffset()!==e1&&e.setTime(e.getTime()+(e.getTimezoneOffset()-e1)*6e4),e}var t1=new Date("2017-02-19T19:06:09.000Z"),fx=isNaN(t1.getFullYear())?new Date("2/19/17"):t1,TD=fx.getFullYear()==2017;function Cn(t,e){var n=new Date(t);if(TD)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(fx.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function ff(t,e){if(ut&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return n[o]||o})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function Un(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Un(t[n]));return e}function kt(t,e){for(var n="";n.length<e;)n+=t;return n}function ui(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,o){return n=-n,o}),!isNaN(e=Number(r)))?e/n:e}var xD=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tl(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),o=e.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&xD.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||o>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function We(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return ut?r=gi(n):r=z4(n),_t.utils.cfb_add(t,e,r)}_t.utils.cfb_add(t,e,n)}else t.file(e,n)}function Y0(){return _t.utils.cfb_new()}var $t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ED={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K0=J0(ED),W0=/[&<>'"]/g,SD=/[\u0000-\u0008\u000b-\u001f]/g;function pt(t){var e=t+"";return e.replace(W0,function(n){return K0[n]}).replace(SD,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function n1(t){return pt(t).replace(/ /g,"_x0020_")}var hx=/[\u0000-\u001f]/g;function wD(t){var e=t+"";return e.replace(W0,function(n){return K0[n]}).replace(/\n/g,"<br/>").replace(hx,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function AD(t){var e=t+"";return e.replace(W0,function(n){return K0[n]}).replace(hx,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function CD(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function bD(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Hd(t){for(var e="",n=0,r=0,s=0,o=0,l=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);continue}l=t.charCodeAt(n++),c=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function r1(t){var e=Ns(2*t.length),n,r,s=1,o=0,l=0,c;for(r=0;r<t.length;r+=s)s=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),s=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=n%256,e[o++]=n>>>8;return e.slice(0,o).toString("ucs2")}function i1(t){return gi(t,"binary").toString("utf8")}var hc="foo bar baz",cl=ut&&(i1(hc)==Hd(hc)&&i1||r1(hc)==Hd(hc)&&r1)||Hd,xl=ut?function(t){return gi(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},RD=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}})(),dx=/(^\s|\s$|\n)/;function fn(t,e){return"<"+t+(e.match(dx)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function El(t){return dn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ae(t,e,n){return"<"+t+(n!=null?El(n):"")+(e!=null?(e.match(dx)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function v0(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function ND(t,e){switch(typeof t){case"string":var n=Ae("vt:lpwstr",pt(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Ae((t|0)==t?"vt:i4":"vt:r8",pt(String(t)));case"boolean":return Ae("vt:bool",t?"true":"false")}if(t instanceof Date)return Ae("vt:filetime",v0(t));throw new Error("Unable to serialize "+t)}var Qt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},to=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ID(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,o=5;o>=0;--o)s=s*256+t[e+o];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function DD(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,o=0,l=r?-e:e;isFinite(l)?l==0?s=o=0:(s=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(e)?26985:0);for(var c=0;c<=5;++c,o/=256)t[n+c]=o&255;t[n+6]=(s&15)<<4|o&15,t[n+7]=s>>4|r}var s1=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,o=t[0][r].length;s<o;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},a1=ut?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:gi(e)})):s1(t)}:s1,o1=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(ol(t,s)));return r.join("").replace(ul,"")},X0=ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ul,""):o1(t,e,n)}:o1,l1=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},px=ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):l1(t,e,n)}:l1,u1=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(La(t,s)));return r.join("")},kl=ut?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):u1(e,n,r)}:u1,mx=function(t,e){var n=Qn(t,e);return n>0?kl(t,e+4,e+4+n-1):""},gx=mx,vx=function(t,e){var n=Qn(t,e);return n>0?kl(t,e+4,e+4+n-1):""},yx=vx,_x=function(t,e){var n=2*Qn(t,e);return n>0?kl(t,e+4,e+4+n-1):""},Tx=_x,xx=function(e,n){var r=Qn(e,n);return r>0?X0(e,n+4,n+4+r):""},Ex=xx,Sx=function(t,e){var n=Qn(t,e);return n>0?kl(t,e+4,e+4+n):""},wx=Sx,Ax=function(t,e){return ID(t,e)},Gc=Ax,Q0=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ut&&(gx=function(e,n){if(!Buffer.isBuffer(e))return mx(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yx=function(e,n){if(!Buffer.isBuffer(e))return vx(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},Tx=function(e,n){if(!Buffer.isBuffer(e))return _x(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},Ex=function(e,n){if(!Buffer.isBuffer(e))return xx(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},wx=function(e,n){if(!Buffer.isBuffer(e))return Sx(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Gc=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Ax(e,n)},Q0=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var La=function(t,e){return t[e]},ol=function(t,e){return t[e+1]*256+t[e]},MD=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Qn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ws=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},OD=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function fl(t,e){var n="",r,s,o=[],l,c,d,h;switch(e){case"dbcs":if(h=this.l,ut&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(ol(this,h)),h+=2;t*=2;break;case"utf8":n=kl(this,this.l,this.l+t);break;case"utf16le":t*=2,n=X0(this,this.l,this.l+t);break;case"wstr":return fl.call(this,t,"dbcs");case"lpstr-ansi":n=gx(this,this.l),t=4+Qn(this,this.l);break;case"lpstr-cp":n=yx(this,this.l),t=4+Qn(this,this.l);break;case"lpwstr":n=Tx(this,this.l),t=4+2*Qn(this,this.l);break;case"lpp4":t=4+Qn(this,this.l),n=Ex(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Qn(this,this.l),n=wx(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=La(this,this.l+t++))!==0;)o.push(uc(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=ol(this,this.l+t))!==0;)o.push(uc(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=La(this,h),this.l=h+1,c=fl.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(uc(ol(this,h))),h+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=La(this,h),this.l=h+1,c=fl.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(uc(La(this,h))),h+=1}n=o.join("");break;default:switch(t){case 1:return r=La(this,this.l),this.l++,r;case 2:return r=(e==="i"?MD:ol)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?ws:OD)(this,this.l),this.l+=4,r):(s=Qn(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Gc(this,this.l):s=Gc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=px(this,this.l,t);break}}return this.l+=t,n}var kD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},LD=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},PD=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function UD(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)PD(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kD(this,e,this.l);break;case 8:if(r=8,n==="f"){DD(this,e,this.l);break}case 16:break;case-4:r=4,LD(this,e,this.l);break}return this.l+=r,this}function Cx(t,e){var n=px(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Wn(t,e){t.l=e,t.read_shift=fl,t.chk=Cx,t.write_shift=UD}function Vr(t,e){t.l+=e}function he(t){var e=Ns(t);return Wn(e,0),e}function Ln(){var t=[],e=ut?256:2048,n=function(h){var m=he(h);return Wn(m,0),m},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},o=function(h){return r&&h<r.length-r.l?r:(s(),r=n(Math.max(h+1,e)))},l=function(){return s(),cn(t)},c=function(h){s(),r=h,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:c,end:l,_bufs:t}}function _e(t,e,n,r){var s=+e,o;if(!isNaN(s)){r||(r=IP[s].p||(n||[]).length||0),o=1+(s>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var l=t.next(o);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Q0(n)&&t.push(n)}}function hl(t,e,n){var r=Un(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function c1(t,e,n){var r=Un(t);return r.s=hl(r.s,e.s,n),r.e=hl(r.e,e.s,n),r}function dl(t,e){if(t.cRel&&t.c<0)for(t=Un(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Un(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=mt(t);return!t.cRel&&t.cRel!=null&&(n=HD(n)),!t.rRel&&t.rRel!=null&&(n=FD(n)),n}function Gd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+yn(t.s.c)+":"+(t.e.cRel?"":"$")+yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hn(t.s.r)+":"+(t.e.rRel?"":"$")+hn(t.e.r):dl(t.s,e.biff)+":"+dl(t.e,e.biff)}function j0(t){return parseInt(BD(t),10)-1}function hn(t){return""+(t+1)}function FD(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function BD(t){return t.replace(/\$(\d+)$/,"$1")}function Z0(t){for(var e=GD(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function yn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function HD(t){return t.replace(/^([A-Z])/,"$$$1")}function GD(t){return t.replace(/^\$([A-Z])/,"$1")}function VD(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jt(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function mt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Zn(t){var e=t.indexOf(":");return e==-1?{s:jt(t),e:jt(t)}:{s:jt(t.slice(0,e)),e:jt(t.slice(e+1))}}function zt(t,e){return typeof e>"u"||typeof e=="number"?zt(t.s,t.e):(typeof t!="string"&&(t=mt(t)),typeof e!="string"&&(e=mt(e)),t==e?t:t+":"+e)}function bt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,o=t.length;for(n=0;r<o&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<o&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===o||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=o&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=o&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function f1(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Wi(t.z,n?Pn(e):e)}catch{}try{return t.w=Wi((t.XF||{}).numFmtId||(n?14:0),n?Pn(e):e)}catch{return""+e}}function di(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Ll[t.v]||t.v:e==null?f1(t,t.v):f1(t,e))}function ks(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function bx(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,o=t||(s?[]:{}),l=0,c=0;if(o&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?jt(r.origin):r.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var m=bt(o["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(h.e.r=l=m.e.r+1)}for(var _=0;_!=e.length;++_)if(e[_]){if(!Array.isArray(e[_]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[_].length;++y)if(!(typeof e[_][y]>"u")){var x={v:e[_][y]},S=l+_,E=c+y;if(h.s.r>S&&(h.s.r=S),h.s.c>E&&(h.s.c=E),h.e.r<S&&(h.e.r=S),h.e.c<E&&(h.e.c=E),e[_][y]&&typeof e[_][y]=="object"&&!Array.isArray(e[_][y])&&!(e[_][y]instanceof Date))x=e[_][y];else if(Array.isArray(x.v)&&(x.f=e[_][y][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||Lt[14],r.cellDates?(x.t="d",x.w=Wi(x.z,Pn(x.v))):(x.t="n",x.v=Pn(x.v),x.w=Wi(x.z,x.v))):x.t="s";if(s)o[S]||(o[S]=[]),o[S][E]&&o[S][E].z&&(x.z=o[S][E].z),o[S][E]=x;else{var w=mt({c:E,r:S});o[w]&&o[w].z&&(x.z=o[w].z),o[w]=x}}}return h.s.c<1e7&&(o["!ref"]=zt(h)),o}function no(t,e){return bx(null,t,e)}function qD(t){return t.read_shift(4,"i")}function Mr(t,e){return e||(e=he(4)),e.write_shift(4,t),e}function _n(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Zt(t,e){var n=!1;return e==null&&(n=!0,e=he(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function zD(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function $D(t,e){return e||(e=he(4)),e.write_shift(2,0),e.write_shift(2,0),e}function ep(t,e){var n=t.l,r=t.read_shift(1),s=_n(t),o=[],l={t:s,h:s};if((r&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push(zD(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}function JD(t,e){var n=!1;return e==null&&(n=!0,e=he(15+4*t.t.length)),e.write_shift(1,0),Zt(t.t,e),n?e.slice(0,e.l):e}var YD=ep;function KD(t,e){var n=!1;return e==null&&(n=!0,e=he(23+4*t.t.length)),e.write_shift(1,1),Zt(t.t,e),e.write_shift(4,1),$D({},e),n?e.slice(0,e.l):e}function vr(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Ls(t,e){return e==null&&(e=he(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ps(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Us(t,e){return e==null&&(e=he(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var WD=_n,Rx=Zt;function tp(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Vc(t,e){var n=!1;return e==null&&(n=!0,e=he(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var XD=_n,y0=tp,np=Vc;function Nx(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?Gc([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ws(e,0)>>2;return n?s/100:s}function Ix(t,e){e==null&&(e=he(4));var n=0,r=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?s:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function Dx(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function QD(t,e){return e||(e=he(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Fs=Dx,ro=QD;function io(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Is(t,e){return(e||he(8)).write_shift(8,t,"f")}function jD(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var h=oM[s];h&&(e.rgb=E1(h));break;case 2:e.rgb=E1([l,c,d]);break;case 3:e.theme=s;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function qc(t,e){if(e||(e=he(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function ZD(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function eM(t,e){e||(e=he(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var Mx=2,Kn=3,dc=11,zc=19,pc=64,tM=65,nM=71,rM=4108,iM=4126,un=80,h1={1:{n:"CodePage",t:Mx},2:{n:"Category",t:un},3:{n:"PresentationFormat",t:un},4:{n:"ByteCount",t:Kn},5:{n:"LineCount",t:Kn},6:{n:"ParagraphCount",t:Kn},7:{n:"SlideCount",t:Kn},8:{n:"NoteCount",t:Kn},9:{n:"HiddenCount",t:Kn},10:{n:"MultimediaClipCount",t:Kn},11:{n:"ScaleCrop",t:dc},12:{n:"HeadingPairs",t:rM},13:{n:"TitlesOfParts",t:iM},14:{n:"Manager",t:un},15:{n:"Company",t:un},16:{n:"LinksUpToDate",t:dc},17:{n:"CharacterCount",t:Kn},19:{n:"SharedDoc",t:dc},22:{n:"HyperlinksChanged",t:dc},23:{n:"AppVersion",t:Kn,p:"version"},24:{n:"DigSig",t:tM},26:{n:"ContentType",t:un},27:{n:"ContentStatus",t:un},28:{n:"Language",t:un},29:{n:"Version",t:un},255:{},2147483648:{n:"Locale",t:zc},2147483651:{n:"Behavior",t:zc},1919054434:{}},d1={1:{n:"CodePage",t:Mx},2:{n:"Title",t:un},3:{n:"Subject",t:un},4:{n:"Author",t:un},5:{n:"Keywords",t:un},6:{n:"Comments",t:un},7:{n:"Template",t:un},8:{n:"LastAuthor",t:un},9:{n:"RevNumber",t:un},10:{n:"EditTime",t:pc},11:{n:"LastPrinted",t:pc},12:{n:"CreatedDate",t:pc},13:{n:"ModifiedDate",t:pc},14:{n:"PageCount",t:Kn},15:{n:"WordCount",t:Kn},16:{n:"CharCount",t:Kn},17:{n:"Thumbnail",t:nM},18:{n:"Application",t:un},19:{n:"DocSecurity",t:Kn},255:{},2147483648:{n:"Locale",t:zc},2147483651:{n:"Behavior",t:zc},1919054434:{}};function sM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var aM=sM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),oM=Un(aM),Ll={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},mc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ox(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kx(t,e){var n=yD(lM),r=[],s;r[r.length]=$t,r[r.length]=Ae("Types",null,{xmlns:Qt.CT,"xmlns:xsd":Qt.xsd,"xmlns:xsi":Qt.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ae("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(s=t[d][0],r[r.length]=Ae("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:mc[d][e.bookType]||mc[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){r[r.length]=Ae("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:mc[d][e.bookType]||mc[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(h){r[r.length]=Ae("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:n[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var at={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Lx(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ya(t){var e=[$t,Ae("Relationships",null,{xmlns:Qt.RELS})];return dn(t["!id"]).forEach(function(n){e[e.length]=Ae("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dt(t,e,n,r,s,o){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=n,[at.HLINK,at.XPATH,at.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function uM(t){var e=[$t];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function p1(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function cM(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function fM(t){var e=[$t];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(p1(t[n][0],t[n][1])),e.push(cM("",t[n][0]));return e.push(p1("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Px(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Lc.version+"</meta:generator></office:meta></office:document-meta>"}var Rs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Vd(t,e,n,r,s){s[t]!=null||e==null||e===""||(s[t]=e,e=pt(e),r[r.length]=n?Ae(t,e,n):fn(t,e))}function Ux(t,e){var n=e||{},r=[$t,Ae("cp:coreProperties",null,{"xmlns:cp":Qt.CORE_PROPS,"xmlns:dc":Qt.dc,"xmlns:dcterms":Qt.dcterms,"xmlns:dcmitype":Qt.dcmitype,"xmlns:xsi":Qt.xsi})],s={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Vd("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:v0(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),t.ModifiedDate!=null&&Vd("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:v0(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var o=0;o!=Rs.length;++o){var l=Rs[o],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Vd(l[0],c,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ka=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Fx=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Bx(t){var e=[],n=Ae;return t||(t={}),t.Application="SheetJS",e[e.length]=$t,e[e.length]=Ae("Properties",null,{xmlns:Qt.EXT_PROPS,"xmlns:vt":Qt.vt}),Ka.forEach(function(r){if(t[r[1]]!==void 0){var s;switch(r[2]){case"string":s=pt(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=n(r[0],s))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+pt(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function Hx(t){var e=[$t,Ae("Properties",null,{xmlns:Qt.CUST_PROPS,"xmlns:vt":Qt.vt})];if(!t)return e.join("");var n=1;return dn(t).forEach(function(s){++n,e[e.length]=Ae("property",ND(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:pt(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var m1={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hM(t,e){var n=[];return dn(m1).map(function(r){for(var s=0;s<Rs.length;++s)if(Rs[s][1]==r)return Rs[s];for(s=0;s<Ka.length;++s)if(Ka[s][1]==r)return Ka[s];throw r}).forEach(function(r){if(t[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(fn(m1[r[1]]||r[1],s))}}),Ae("DocumentProperties",n.join(""),{xmlns:Xn.o})}function dM(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&dn(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<Rs.length;++l)if(o==Rs[l][1])return;for(l=0;l<Ka.length;++l)if(o==Ka[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),s.push(Ae(n1(o),c,{"dt:dt":d}))}}),e&&dn(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=e[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),s.push(Ae(n1(o),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Xn.o+'">'+s.join("")+"</"+r+">"}function pM(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),s=(n-r)/Math.pow(2,32);r*=1e7,s*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),s+=o);var l=he(8);return l.write_shift(4,r),l.write_shift(4,s),l}function g1(t,e){var n=he(4),r=he(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=he(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=pM(e);break;case 31:case 80:for(r=he(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return cn([n,r])}var Gx=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mM(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function v1(t,e,n){var r=he(8),s=[],o=[],l=8,c=0,d=he(8),h=he(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),o.push(d),s.push(h),l+=8+d.length,!e){h=he(8),h.write_shift(4,0),s.unshift(h);var m=[he(4)];for(m[0].write_shift(4,t.length),c=0;c<t.length;++c){var _=t[c][0];for(d=he(8+2*(_.length+1)+(_.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,_.length+1),d.write_shift(0,_,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=cn(m),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(Gx.indexOf(t[c][0])>-1||Fx.indexOf(t[c][0])>-1)&&t[c][1]!=null){var y=t[c][1],x=0;if(e){x=+e[t[c][0]];var S=n[x];if(S.p=="version"&&typeof y=="string"){var E=y.split(".");y=(+E[0]<<16)+(+E[1]||0)}d=g1(S.t,y)}else{var w=mM(y);w==-1&&(w=31,y=String(y)),d=g1(w,y)}o.push(d),h=he(8),h.write_shift(4,e?x:2+c),s.push(h),l+=8+d.length}var R=8*(o.length+1);for(c=0;c<o.length;++c)s[c].write_shift(4,R),R+=o[c].length;return r.write_shift(4,l),r.write_shift(4,o.length),cn([r].concat(s).concat(o))}function y1(t,e,n,r,s,o){var l=he(s?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,_t.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,s?68:48);var d=v1(t,n,r);if(c.push(d),s){var h=v1(s,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(h)}return cn(c)}function gM(t,e){e||(e=he(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function vM(t,e){return t.read_shift(e)===1}function An(t,e){return e||(e=he(2)),e.write_shift(2,+!!t),e}function Vx(t){return t.read_shift(2,"u")}function pr(t,e){return e||(e=he(2)),e.write_shift(2,t),e}function qx(t,e,n){return n||(n=he(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function zx(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var l=r?t.read_shift(r,s):"";return l}function yM(t){var e=t.t||"",n=he(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=he(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[n,r];return cn(s)}function _M(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function TM(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):_M(t,r,n)}function xM(t,e,n){if(n.biff>5)return TM(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $x(t,e,n){return n||(n=he(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function _1(t,e){e||(e=he(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function EM(t){var e=he(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),o=s>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)e.write_shift(4,l[n]);if(o==28)r=r.slice(1),_1(r,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));var c=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),o&8&&_1(s>-1?r.slice(s+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Ds(t,e,n,r){return r||(r=he(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function SM(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),o=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[s,o,l]}function wM(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function Jx(t,e){return e||(e=he(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function rp(t,e,n){var r=1536,s=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=he(s);return o.write_shift(2,r),o.write_shift(2,e),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function AM(t,e){var n=!e||e.biff==8,r=he(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function CM(t,e){var n=!e||e.biff>=8?2:1,r=he(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function bM(t,e){var n=he(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=yM(t[s]);var o=cn([n].concat(r));return o.parts=[n.length].concat(r.map(function(l){return l.length})),o}function RM(){var t=he(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function NM(t){var e=he(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function IM(t,e){var n=t.name||"Arial",r=e&&e.biff==5,s=r?15+n.length:16+2*n.length,o=he(s);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function DM(t,e,n,r){var s=he(10);return Ds(t,e,r,s),s.write_shift(4,n),s}function MM(t,e,n,r,s){var o=!s||s.biff==8,l=he(8+ +o+(1+o)*n.length);return Ds(t,e,r,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function OM(t,e,n,r){var s=n&&n.biff==5;r||(r=he(s?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function kM(t,e){var n=e.biff==8||!e.biff?4:2,r=he(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function T1(t,e,n,r){var s=n&&n.biff==5;r||(r=he(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&s&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function LM(t){var e=he(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function PM(t,e,n,r,s,o){var l=he(8);return Ds(t,e,r,l),qx(n,o,l),l}function UM(t,e,n,r){var s=he(14);return Ds(t,e,r,s),Is(n,s),s}function FM(t,e,n){if(n.biff<8)return BM(t,e,n);for(var r=[],s=t.l+e,o=t.read_shift(n.biff>8?4:2);o--!==0;)r.push(SM(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function BM(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=zx(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function HM(t){var e=he(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)Jx(t[n],e);return e}function GM(t){var e=he(24),n=jt(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return cn([e,EM(t[1])])}function VM(t){var e=t[1].Tooltip,n=he(10+2*(e.length+1));n.write_shift(2,2048);var r=jt(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<e.length;++s)n.write_shift(2,e.charCodeAt(s));return n.write_shift(2,0),n}function qM(t){return t||(t=he(4)),t.write_shift(2,1),t.write_shift(2,1),t}function zM(t,e,n){if(!n.cellStyles)return Vr(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var h={s,e:o,w:l,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(h.level=d>>8&7),h}function $M(t,e){var n=he(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function JM(t){for(var e=he(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function YM(t,e,n){var r=he(15);return Ul(r,t,e),r.write_shift(8,n,"f"),r}function KM(t,e,n){var r=he(9);return Ul(r,t,e),r.write_shift(2,n),r}var WM=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=J0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var h=[],m=Ns(1);switch(d.type){case"base64":m=Rr(hi(c));break;case"binary":m=Rr(c);break;case"buffer":case"array":m=c;break}Wn(m,0);var _=m.read_shift(1),y=!!(_&136),x=!1,S=!1;switch(_){case 2:break;case 3:break;case 48:x=!0,y=!0;break;case 49:x=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+_.toString(16))}var E=0,w=521;_==2&&(E=m.read_shift(2)),m.l+=3,_!=2&&(E=m.read_shift(4)),E>1048576&&(E=1e6),_!=2&&(w=m.read_shift(2));var R=m.read_shift(2),O=d.codepage||1252;_!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(O=t[m[m.l]]),m.l+=1,m.l+=2),S&&(m.l+=36);for(var N=[],F={},V=Math.min(m.length,_==2?521:w-10-(x?264:0)),ne=S?32:11;m.l<V&&m[m.l]!=13;)switch(F={},F.name=Pc.utils.decode(O,m.slice(m.l,m.l+ne)).replace(/[\u0000\r\n].*$/g,""),m.l+=ne,F.type=String.fromCharCode(m.read_shift(1)),_!=2&&!S&&(F.offset=m.read_shift(4)),F.len=m.read_shift(1),_==2&&(F.offset=m.read_shift(2)),F.dec=m.read_shift(1),F.name.length&&N.push(F),_!=2&&(m.l+=S?13:14),F.type){case"B":(!x||F.len!=8)&&d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(m[m.l]!==13&&(m.l=w-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=w;var U=0,Z=0;for(h[0]=[],Z=0;Z!=N.length;++Z)h[0][Z]=N[Z].name;for(;E-- >0;){if(m[m.l]===42){m.l+=R;continue}for(++m.l,h[++U]=[],Z=0,Z=0;Z!=N.length;++Z){var z=m.slice(m.l,m.l+N[Z].len);m.l+=N[Z].len,Wn(z,0);var ae=Pc.utils.decode(O,z);switch(N[Z].type){case"C":ae.trim().length&&(h[U][Z]=ae.replace(/\s+$/,""));break;case"D":ae.length===8?h[U][Z]=new Date(+ae.slice(0,4),+ae.slice(4,6)-1,+ae.slice(6,8)):h[U][Z]=ae;break;case"F":h[U][Z]=parseFloat(ae.trim());break;case"+":case"I":h[U][Z]=S?z.read_shift(-4,"i")^2147483648:z.read_shift(4,"i");break;case"L":switch(ae.trim().toUpperCase()){case"Y":case"T":h[U][Z]=!0;break;case"N":case"F":h[U][Z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ae+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+_.toString(16));h[U][Z]="##MEMO##"+(S?parseInt(ae.trim(),10):z.read_shift(4));break;case"N":ae=ae.replace(/\u0000/g,"").trim(),ae&&ae!="."&&(h[U][Z]=+ae||0);break;case"@":h[U][Z]=new Date(z.read_shift(-8,"f")-621356832e5);break;case"T":h[U][Z]=new Date((z.read_shift(4)-2440588)*864e5+z.read_shift(4));break;case"Y":h[U][Z]=z.read_shift(4,"i")/1e4+z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[U][Z]=-z.read_shift(-8,"f");break;case"B":if(x&&N[Z].len==8){h[U][Z]=z.read_shift(8,"f");break}case"G":case"P":z.l+=N[Z].len;break;case"0":if(N[Z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[Z].type)}}}if(_!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=N,h}function r(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=no(n(c,h),h);return m["!cols"]=h.DBF.map(function(_){return{wch:_.len,DBF:_}}),delete h.DBF,m}function s(c,d){try{return ks(r(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var h=d||{};if(+h.codepage>=0&&yl(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ln(),_=Wc(c,{header:1,raw:!0,cellDates:!0}),y=_[0],x=_.slice(1),S=c["!cols"]||[],E=0,w=0,R=0,O=1;for(E=0;E<y.length;++E){if(((S[E]||{}).DBF||{}).name){y[E]=S[E].DBF.name,++R;continue}if(y[E]!=null){if(++R,typeof y[E]=="number"&&(y[E]=y[E].toString(10)),typeof y[E]!="string")throw new Error("DBF Invalid column name "+y[E]+" |"+typeof y[E]+"|");if(y.indexOf(y[E])!==E){for(w=0;w<1024;++w)if(y.indexOf(y[E]+"_"+w)==-1){y[E]+="_"+w;break}}}}var N=bt(c["!ref"]),F=[],V=[],ne=[];for(E=0;E<=N.e.c-N.s.c;++E){var U="",Z="",z=0,ae=[];for(w=0;w<x.length;++w)x[w][E]!=null&&ae.push(x[w][E]);if(ae.length==0||y[E]==null){F[E]="?";continue}for(w=0;w<ae.length;++w){switch(typeof ae[w]){case"number":Z="B";break;case"string":Z="C";break;case"boolean":Z="L";break;case"object":Z=ae[w]instanceof Date?"D":"C";break;default:Z="C"}z=Math.max(z,String(ae[w]).length),U=U&&U!=Z?"C":Z}z>250&&(z=250),Z=((S[E]||{}).DBF||{}).type,Z=="C"&&S[E].DBF.len>z&&(z=S[E].DBF.len),U=="B"&&Z=="N"&&(U="N",ne[E]=S[E].DBF.dec,z=S[E].DBF.len),V[E]=U=="C"||Z=="N"?z:o[U]||0,O+=V[E],F[E]=U}var ce=m.next(32);for(ce.write_shift(4,318902576),ce.write_shift(4,x.length),ce.write_shift(2,296+32*R),ce.write_shift(2,O),E=0;E<4;++E)ce.write_shift(4,0);for(ce.write_shift(4,0|(+e[KT]||3)<<8),E=0,w=0;E<y.length;++E)if(y[E]!=null){var me=m.next(32),ue=(y[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);me.write_shift(1,ue,"sbcs"),me.write_shift(1,F[E]=="?"?"C":F[E],"sbcs"),me.write_shift(4,w),me.write_shift(1,V[E]||o[F[E]]||0),me.write_shift(1,ne[E]||0),me.write_shift(1,2),me.write_shift(4,0),me.write_shift(1,0),me.write_shift(4,0),me.write_shift(4,0),w+=V[E]||o[F[E]]||0}var ye=m.next(264);for(ye.write_shift(4,13),E=0;E<65;++E)ye.write_shift(4,0);for(E=0;E<x.length;++E){var Ee=m.next(O);for(Ee.write_shift(1,0),w=0;w<y.length;++w)if(y[w]!=null)switch(F[w]){case"L":Ee.write_shift(1,x[E][w]==null?63:x[E][w]?84:70);break;case"B":Ee.write_shift(8,x[E][w]||0,"f");break;case"N":var X="0";for(typeof x[E][w]=="number"&&(X=x[E][w].toFixed(ne[w]||0)),R=0;R<V[w]-X.length;++R)Ee.write_shift(1,32);Ee.write_shift(1,X,"sbcs");break;case"D":x[E][w]?(Ee.write_shift(4,("0000"+x[E][w].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(x[E][w].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+x[E][w].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var fe=String(x[E][w]!=null?x[E][w]:"").slice(0,V[w]);for(Ee.write_shift(1,fe,"sbcs"),R=0;R<V[w]-fe.length;++R)Ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:s,to_sheet:r,from_sheet:l}})(),XM=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+dn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(y,x){var S=t[x];return typeof S=="number"?z_(S):S},r=function(y,x,S){var E=x.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return E==59?y:z_(E)};t["|"]=254;function s(y,x){switch(x.type){case"base64":return o(hi(y),x);case"binary":return o(y,x);case"buffer":return o(ut&&Buffer.isBuffer(y)?y.toString("binary"):Ml(y),x);case"array":return o(ff(y),x)}throw new Error("Unrecognized type "+x.type)}function o(y,x){var S=y.split(/[\n\r]+/),E=-1,w=-1,R=0,O=0,N=[],F=[],V=null,ne={},U=[],Z=[],z=[],ae=0,ce;for(+x.codepage>=0&&yl(+x.codepage);R!==S.length;++R){ae=0;var me=S[R].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),ue=me.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),ye=ue[0],Ee;if(me.length>0)switch(ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ue[1].charAt(0)=="P"&&F.push(me.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,fe=!1,be=!1,ke=!1,He=-1,J=-1;for(O=1;O<ue.length;++O)switch(ue[O].charAt(0)){case"A":break;case"X":w=parseInt(ue[O].slice(1))-1,fe=!0;break;case"Y":for(E=parseInt(ue[O].slice(1))-1,fe||(w=0),ce=N.length;ce<=E;++ce)N[ce]=[];break;case"K":Ee=ue[O].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(ui(Ee))?isNaN(Tl(Ee).getDate())||(Ee=Cn(Ee)):(Ee=ui(Ee),V!==null&&ax(V)&&(Ee=cx(Ee))),X=!0;break;case"E":ke=!0;var I=KO(ue[O].slice(1),{r:E,c:w});N[E][w]=[N[E][w],I];break;case"S":be=!0,N[E][w]=[N[E][w],"S5S"];break;case"G":break;case"R":He=parseInt(ue[O].slice(1))-1;break;case"C":J=parseInt(ue[O].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+me)}if(X&&(N[E][w]&&N[E][w].length==2?N[E][w][0]=Ee:N[E][w]=Ee,V=null),be){if(ke)throw new Error("SYLK shared formula cannot have own formula");var q=He>-1&&N[He][J];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");N[E][w][1]=WO(q[1],{r:E-He,c:w-J})}break;case"F":var B=0;for(O=1;O<ue.length;++O)switch(ue[O].charAt(0)){case"X":w=parseInt(ue[O].slice(1))-1,++B;break;case"Y":for(E=parseInt(ue[O].slice(1))-1,ce=N.length;ce<=E;++ce)N[ce]=[];break;case"M":ae=parseInt(ue[O].slice(1))/20;break;case"F":break;case"G":break;case"P":V=F[parseInt(ue[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(z=ue[O].slice(1).split(" "),ce=parseInt(z[0],10);ce<=parseInt(z[1],10);++ce)ae=parseInt(z[2],10),Z[ce-1]=ae===0?{hidden:!0}:{wch:ae},ip(Z[ce-1]);break;case"C":w=parseInt(ue[O].slice(1))-1,Z[w]||(Z[w]={});break;case"R":E=parseInt(ue[O].slice(1))-1,U[E]||(U[E]={}),ae>0?(U[E].hpt=ae,U[E].hpx=Qx(ae)):ae===0&&(U[E].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+me)}B<1&&(V=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+me)}}return U.length>0&&(ne["!rows"]=U),Z.length>0&&(ne["!cols"]=Z),x&&x.sheetRows&&(N=N.slice(0,x.sheetRows)),[N,ne]}function l(y,x){var S=s(y,x),E=S[0],w=S[1],R=no(E,x);return dn(w).forEach(function(O){R[O]=w[O]}),R}function c(y,x){return ks(l(y,x),x)}function d(y,x,S,E){var w="C;Y"+(S+1)+";X"+(E+1)+";K";switch(y.t){case"n":w+=y.v||0,y.f&&!y.F&&(w+=";E"+ap(y.f,{r:S,c:E}));break;case"b":w+=y.v?"TRUE":"FALSE";break;case"e":w+=y.w||y.v;break;case"d":w+='"'+(y.w||y.v)+'"';break;case"s":w+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function h(y,x){x.forEach(function(S,E){var w="F;W"+(E+1)+" "+(E+1)+" ";S.hidden?w+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=$c(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Jc(S.wpx)),typeof S.wch=="number"&&(w+=Math.round(S.wch))),w.charAt(w.length-1)!=" "&&y.push(w)})}function m(y,x){x.forEach(function(S,E){var w="F;";S.hidden?w+="M0;":S.hpt?w+="M"+20*S.hpt+";":S.hpx&&(w+="M"+20*Yc(S.hpx)+";"),w.length>2&&y.push(w+"R"+(E+1))})}function _(y,x){var S=["ID;PWXL;N;E"],E=[],w=bt(y["!ref"]),R,O=Array.isArray(y),N=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&h(S,y["!cols"]),y["!rows"]&&m(S,y["!rows"]),S.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var F=w.s.r;F<=w.e.r;++F)for(var V=w.s.c;V<=w.e.c;++V){var ne=mt({r:F,c:V});R=O?(y[F]||[])[V]:y[ne],!(!R||R.v==null&&(!R.f||R.F))&&E.push(d(R,y,F,V))}return S.join(N)+N+E.join(N)+N+"E"+N}return{to_workbook:c,to_sheet:l,from_sheet:_}})(),QM=(function(){function t(o,l){switch(l.type){case"base64":return e(hi(o),l);case"binary":return e(o,l);case"buffer":return e(ut&&Buffer.isBuffer(o)?o.toString("binary"):Ml(o),l);case"array":return e(ff(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var c=o.split(`
`),d=-1,h=-1,m=0,_=[];m!==c.length;++m){if(c[m].trim()==="BOT"){_[++d]=[],h=0;continue}if(!(d<0)){var y=c[m].trim().split(","),x=y[0],S=y[1];++m;for(var E=c[m]||"";(E.match(/["]/g)||[]).length&1&&m<c.length-1;)E+=`
`+c[++m];switch(E=E.trim(),+x){case-1:if(E==="BOT"){_[++d]=[],h=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?_[d][h]=!0:E==="FALSE"?_[d][h]=!1:isNaN(ui(S))?isNaN(Tl(S).getDate())?_[d][h]=S:_[d][h]=Cn(S):_[d][h]=ui(S),++h;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),_[d][h++]=E!==""?E:null;break}if(E==="EOD")break}}return l&&l.sheetRows&&(_=_.slice(0,l.sheetRows)),_}function n(o,l){return no(t(o,l),l)}function r(o,l){return ks(n(o,l),l)}var s=(function(){var o=function(d,h,m,_,y){d.push(h),d.push(m+","+_),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,h,m,_){d.push(h+","+m),d.push(h==1?'"'+_.replace(/"/g,'""')+'"':_)};return function(d){var h=[],m=bt(d["!ref"]),_,y=Array.isArray(d);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,m.e.r-m.s.r+1,""),o(h,"TUPLES",0,m.e.c-m.s.c+1,""),o(h,"DATA",0,0,"");for(var x=m.s.r;x<=m.e.r;++x){l(h,-1,0,"BOT");for(var S=m.s.c;S<=m.e.c;++S){var E=mt({r:x,c:S});if(_=y?(d[x]||[])[S]:d[E],!_){l(h,1,0,"");continue}switch(_.t){case"n":var w=_.w;!w&&_.v!=null&&(w=_.v),w==null?_.f&&!_.F?l(h,1,0,"="+_.f):l(h,1,0,""):l(h,0,w,"V");break;case"b":l(h,0,_.v?1:0,_.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Wi(_.z||Lt[14],Pn(Cn(_.v)))),l(h,0,_.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var R=`\r
`,O=h.join(R);return O}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),Yx=(function(){function t(_){return _.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(_){return _.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(_,y){for(var x=_.split(`
`),S=-1,E=-1,w=0,R=[];w!==x.length;++w){var O=x[w].trim().split(":");if(O[0]==="cell"){var N=jt(O[1]);if(R.length<=N.r)for(S=R.length;S<=N.r;++S)R[S]||(R[S]=[]);switch(S=N.r,E=N.c,O[2]){case"t":R[S][E]=t(O[3]);break;case"v":R[S][E]=+O[3];break;case"vtf":var F=O[O.length-1];case"vtc":switch(O[3]){case"nl":R[S][E]=!!+O[4];break;default:R[S][E]=+O[4];break}O[2]=="vtf"&&(R[S][E]=[R[S][E],F])}}}return y&&y.sheetRows&&(R=R.slice(0,y.sheetRows)),R}function r(_,y){return no(n(_,y),y)}function s(_,y){return ks(r(_,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(_){if(!_||!_["!ref"])return"";for(var y=[],x=[],S,E="",w=Zn(_["!ref"]),R=Array.isArray(_),O=w.s.r;O<=w.e.r;++O)for(var N=w.s.c;N<=w.e.c;++N)if(E=mt({r:O,c:N}),S=R?(_[O]||[])[N]:_[E],!(!S||S.v==null||S.t==="z")){switch(x=["cell",E,"t"],S.t){case"s":case"str":x.push(e(S.v));break;case"n":S.f?(x[2]="vtf",x[3]="n",x[4]=S.v,x[5]=e(S.f)):(x[2]="v",x[3]=S.v);break;case"b":x[2]="vt"+(S.f?"f":"c"),x[3]="nl",x[4]=S.v?"1":"0",x[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var F=Pn(Cn(S.v));x[2]="vtc",x[3]="nd",x[4]=""+F,x[5]=S.w||Wi(S.z||Lt[14],F);break;case"e":continue}y.push(x.join(":"))}return y.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(_){return[o,l,c,l,h(_),d].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:m}})(),jM=(function(){function t(m,_,y,x,S){S.raw?_[y][x]=m:m===""||(m==="TRUE"?_[y][x]=!0:m==="FALSE"?_[y][x]=!1:isNaN(ui(m))?isNaN(Tl(m).getDate())?_[y][x]=m:_[y][x]=Cn(m):_[y][x]=ui(m))}function e(m,_){var y=_||{},x=[];if(!m||m.length===0)return x;for(var S=m.split(/[\r\n]/),E=S.length-1;E>=0&&S[E].length===0;)--E;for(var w=10,R=0,O=0;O<=E;++O)R=S[O].indexOf(" "),R==-1?R=S[O].length:R++,w=Math.max(w,R);for(O=0;O<=E;++O){x[O]=[];var N=0;for(t(S[O].slice(0,w).trim(),x,O,N,y),N=1;N<=(S[O].length-w)/10+1;++N)t(S[O].slice(w+(N-1)*10,w+N*10).trim(),x,O,N,y)}return y.sheetRows&&(x=x.slice(0,y.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(m){for(var _={},y=!1,x=0,S=0;x<m.length;++x)(S=m.charCodeAt(x))==34?y=!y:!y&&S in n&&(_[S]=(_[S]||0)+1);S=[];for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&S.push([_[x],x]);if(!S.length){_=r;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&S.push([_[x],x])}return S.sort(function(E,w){return E[0]-w[0]||r[E[1]]-r[w[1]]}),n[S.pop()[1]]||44}function o(m,_){var y=_||{},x="",S=y.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(x=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(x=m.charAt(4),m=m.slice(6)):x=s(m.slice(0,1024)):y&&y.FS?x=y.FS:x=s(m.slice(0,1024));var w=0,R=0,O=0,N=0,F=0,V=x.charCodeAt(0),ne=!1,U=0,Z=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var z=y.dateNF!=null?pD(y.dateNF):null;function ae(){var ce=m.slice(N,F),me={};if(ce.charAt(0)=='"'&&ce.charAt(ce.length-1)=='"'&&(ce=ce.slice(1,-1).replace(/""/g,'"')),ce.length===0)me.t="z";else if(y.raw)me.t="s",me.v=ce;else if(ce.trim().length===0)me.t="s",me.v=ce;else if(ce.charCodeAt(0)==61)ce.charCodeAt(1)==34&&ce.charCodeAt(ce.length-1)==34?(me.t="s",me.v=ce.slice(2,-1).replace(/""/g,'"')):XO(ce)?(me.t="n",me.f=ce.slice(1)):(me.t="s",me.v=ce);else if(ce=="TRUE")me.t="b",me.v=!0;else if(ce=="FALSE")me.t="b",me.v=!1;else if(!isNaN(O=ui(ce)))me.t="n",y.cellText!==!1&&(me.w=ce),me.v=O;else if(!isNaN(Tl(ce).getDate())||z&&ce.match(z)){me.z=y.dateNF||Lt[14];var ue=0;z&&ce.match(z)&&(ce=mD(ce,y.dateNF,ce.match(z)||[]),ue=1),y.cellDates?(me.t="d",me.v=Cn(ce,ue)):(me.t="n",me.v=Pn(Cn(ce,ue))),y.cellText!==!1&&(me.w=Wi(me.z,me.v instanceof Date?Pn(me.v):me.v)),y.cellNF||delete me.z}else me.t="s",me.v=ce;if(me.t=="z"||(y.dense?(S[w]||(S[w]=[]),S[w][R]=me):S[mt({c:R,r:w})]=me),N=F+1,Z=m.charCodeAt(N),E.e.c<R&&(E.e.c=R),E.e.r<w&&(E.e.r=w),U==V)++R;else if(R=0,++w,y.sheetRows&&y.sheetRows<=w)return!0}e:for(;F<m.length;++F)switch(U=m.charCodeAt(F)){case 34:Z===34&&(ne=!ne);break;case V:case 10:case 13:if(!ne&&ae())break e;break}return F-N>0&&ae(),S["!ref"]=zt(E),S}function l(m,_){return!(_&&_.PRN)||_.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?o(m,_):no(e(m,_),_)}function c(m,_){var y="",x=_.type=="string"?[0,0,0,0]:cU(m,_);switch(_.type){case"base64":y=hi(m);break;case"binary":y=m;break;case"buffer":_.codepage==65001?y=m.toString("utf8"):_.codepage&&typeof Pc<"u"||(y=ut&&Buffer.isBuffer(m)?m.toString("binary"):Ml(m));break;case"array":y=ff(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+_.type)}return x[0]==239&&x[1]==187&&x[2]==191?y=cl(y.slice(3)):_.type!="string"&&_.type!="buffer"&&_.codepage==65001?y=cl(y):_.type=="binary"&&typeof Pc<"u",y.slice(0,19)=="socialcalc:version:"?Yx.to_sheet(_.type=="string"?y:cl(y),_):l(y,_)}function d(m,_){return ks(c(m,_),_)}function h(m){for(var _=[],y=bt(m["!ref"]),x,S=Array.isArray(m),E=y.s.r;E<=y.e.r;++E){for(var w=[],R=y.s.c;R<=y.e.c;++R){var O=mt({r:E,c:R});if(x=S?(m[E]||[])[R]:m[O],!x||x.v==null){w.push("          ");continue}for(var N=(x.w||(di(x),x.w)||"").slice(0,10);N.length<10;)N+=" ";w.push(N+(R===0?" ":""))}_.push(w.join(""))}return _.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}})(),x1=(function(){function t(I,q,B){if(I){Wn(I,I.l||0);for(var G=B.Enum||He;I.l<I.length;){var oe=I.read_shift(2),Se=G[oe]||G[65535],Oe=I.read_shift(2),Re=I.l+Oe,Ne=Se.f&&Se.f(I,Oe,B);if(I.l=Re,q(Ne,Se,oe))return}}}function e(I,q){switch(q.type){case"base64":return n(Rr(hi(I)),q);case"binary":return n(Rr(I),q);case"buffer":case"array":return n(I,q)}throw"Unsupported type "+q.type}function n(I,q){if(!I)return I;var B=q||{},G=B.dense?[]:{},oe="Sheet1",Se="",Oe=0,Re={},Ne=[],rt=[],Qe={s:{r:0,c:0},e:{r:0,c:0}},Wt=B.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)B.Enum=He,t(I,function(Le,Tn,Bn){switch(Bn){case 0:B.vers=Le,Le>=4096&&(B.qpro=!0);break;case 6:Qe=Le;break;case 204:Le&&(Se=Le);break;case 222:Se=Le;break;case 15:case 51:B.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:Bn==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=B.dateNF||Lt[14],B.cellDates&&(Le[1].t="d",Le[1].v=cx(Le[1].v))),B.qpro&&Le[3]>Oe&&(G["!ref"]=zt(Qe),Re[oe]=G,Ne.push(oe),G=B.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},Oe=Le[3],oe=Se||"Sheet"+(Oe+1),Se="");var yr=B.dense?(G[Le[0].r]||[])[Le[0].c]:G[mt(Le[0])];if(yr){yr.t=Le[1].t,yr.v=Le[1].v,Le[1].z!=null&&(yr.z=Le[1].z),Le[1].f!=null&&(yr.f=Le[1].f);break}B.dense?(G[Le[0].r]||(G[Le[0].r]=[]),G[Le[0].r][Le[0].c]=Le[1]):G[mt(Le[0])]=Le[1];break}},B);else if(I[2]==26||I[2]==14)B.Enum=J,I[2]==14&&(B.qpro=!0,I.l=0),t(I,function(Le,Tn,Bn){switch(Bn){case 204:oe=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>Oe&&(G["!ref"]=zt(Qe),Re[oe]=G,Ne.push(oe),G=B.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},Oe=Le[3],oe="Sheet"+(Oe+1)),Wt>0&&Le[0].r>=Wt)break;B.dense?(G[Le[0].r]||(G[Le[0].r]=[]),G[Le[0].r][Le[0].c]=Le[1]):G[mt(Le[0])]=Le[1],Qe.e.c<Le[0].c&&(Qe.e.c=Le[0].c),Qe.e.r<Le[0].r&&(Qe.e.r=Le[0].r);break;case 27:Le[14e3]&&(rt[Le[14e3][0]]=Le[14e3][1]);break;case 1537:rt[Le[0]]=Le[1],Le[0]==Oe&&(oe=Le[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(G["!ref"]=zt(Qe),Re[Se||oe]=G,Ne.push(Se||oe),!rt.length)return{SheetNames:Ne,Sheets:Re};for(var Xe={},Fn=[],xt=0;xt<rt.length;++xt)Re[Ne[xt]]?(Fn.push(rt[xt]||Ne[xt]),Xe[rt[xt]]=Re[rt[xt]]||Re[Ne[xt]]):(Fn.push(rt[xt]),Xe[rt[xt]]={"!ref":"A1"});return{SheetNames:Fn,Sheets:Xe}}function r(I,q){var B=q||{};if(+B.codepage>=0&&yl(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Ln(),oe=bt(I["!ref"]),Se=Array.isArray(I),Oe=[];Ce(G,0,o(1030)),Ce(G,6,d(oe));for(var Re=Math.min(oe.e.r,8191),Ne=oe.s.r;Ne<=Re;++Ne)for(var rt=hn(Ne),Qe=oe.s.c;Qe<=oe.e.c;++Qe){Ne===oe.s.r&&(Oe[Qe]=yn(Qe));var Wt=Oe[Qe]+rt,Xe=Se?(I[Ne]||[])[Qe]:I[Wt];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")(Xe.v|0)==Xe.v&&Xe.v>=-32768&&Xe.v<=32767?Ce(G,13,x(Ne,Qe,Xe.v)):Ce(G,14,E(Ne,Qe,Xe.v));else{var Fn=di(Xe);Ce(G,15,_(Ne,Qe,Fn.slice(0,239)))}}return Ce(G,1),G.end()}function s(I,q){var B=q||{};if(+B.codepage>=0&&yl(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Ln();Ce(G,0,l(I));for(var oe=0,Se=0;oe<I.SheetNames.length;++oe)(I.Sheets[I.SheetNames[oe]]||{})["!ref"]&&Ce(G,27,ke(I.SheetNames[oe],Se++));var Oe=0;for(oe=0;oe<I.SheetNames.length;++oe){var Re=I.Sheets[I.SheetNames[oe]];if(!(!Re||!Re["!ref"])){for(var Ne=bt(Re["!ref"]),rt=Array.isArray(Re),Qe=[],Wt=Math.min(Ne.e.r,8191),Xe=Ne.s.r;Xe<=Wt;++Xe)for(var Fn=hn(Xe),xt=Ne.s.c;xt<=Ne.e.c;++xt){Xe===Ne.s.r&&(Qe[xt]=yn(xt));var Le=Qe[xt]+Fn,Tn=rt?(Re[Xe]||[])[xt]:Re[Le];if(!(!Tn||Tn.t=="z"))if(Tn.t=="n")Ce(G,23,ae(Xe,xt,Oe,Tn.v));else{var Bn=di(Tn);Ce(G,22,U(Xe,xt,Oe,Bn.slice(0,239)))}}++Oe}}return Ce(G,1),G.end()}function o(I){var q=he(2);return q.write_shift(2,I),q}function l(I){var q=he(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var B=0,G=0,oe=0,Se=0;Se<I.SheetNames.length;++Se){var Oe=I.SheetNames[Se],Re=I.Sheets[Oe];if(!(!Re||!Re["!ref"])){++oe;var Ne=Zn(Re["!ref"]);B<Ne.e.r&&(B=Ne.e.r),G<Ne.e.c&&(G=Ne.e.c)}}return B>8191&&(B=8191),q.write_shift(2,B),q.write_shift(1,oe),q.write_shift(1,G),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function c(I,q,B){var G={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&B.qpro?(G.s.c=I.read_shift(1),I.l++,G.s.r=I.read_shift(2),G.e.c=I.read_shift(1),I.l++,G.e.r=I.read_shift(2),G):(G.s.c=I.read_shift(2),G.s.r=I.read_shift(2),q==12&&B.qpro&&(I.l+=2),G.e.c=I.read_shift(2),G.e.r=I.read_shift(2),q==12&&B.qpro&&(I.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function d(I){var q=he(8);return q.write_shift(2,I.s.c),q.write_shift(2,I.s.r),q.write_shift(2,I.e.c),q.write_shift(2,I.e.r),q}function h(I,q,B){var G=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(G[0].c=I.read_shift(1),G[3]=I.read_shift(1),G[0].r=I.read_shift(2),I.l+=2):(G[2]=I.read_shift(1),G[0].c=I.read_shift(2),G[0].r=I.read_shift(2)),G}function m(I,q,B){var G=I.l+q,oe=h(I,q,B);if(oe[1].t="s",B.vers==20768){I.l++;var Se=I.read_shift(1);return oe[1].v=I.read_shift(Se,"utf8"),oe}return B.qpro&&I.l++,oe[1].v=I.read_shift(G-I.l,"cstr"),oe}function _(I,q,B){var G=he(7+B.length);G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,I),G.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var Se=B.charCodeAt(oe);G.write_shift(1,Se>=128?95:Se)}return G.write_shift(1,0),G}function y(I,q,B){var G=h(I,q,B);return G[1].v=I.read_shift(2,"i"),G}function x(I,q,B){var G=he(7);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,I),G.write_shift(2,B,"i"),G}function S(I,q,B){var G=h(I,q,B);return G[1].v=I.read_shift(8,"f"),G}function E(I,q,B){var G=he(13);return G.write_shift(1,255),G.write_shift(2,q),G.write_shift(2,I),G.write_shift(8,B,"f"),G}function w(I,q,B){var G=I.l+q,oe=h(I,q,B);if(oe[1].v=I.read_shift(8,"f"),B.qpro)I.l=G;else{var Se=I.read_shift(2);F(I.slice(I.l,I.l+Se),oe),I.l+=Se}return oe}function R(I,q,B){var G=q&32768;return q&=-32769,q=(G?I:0)+(q>=8192?q-16384:q),(G?"":"$")+(B?yn(q):hn(q))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(I,q){Wn(I,0);for(var B=[],G=0,oe="",Se="",Oe="",Re="";I.l<I.length;){var Ne=I[I.l++];switch(Ne){case 0:B.push(I.read_shift(8,"f"));break;case 1:Se=R(q[0].c,I.read_shift(2),!0),oe=R(q[0].r,I.read_shift(2),!1),B.push(Se+oe);break;case 2:{var rt=R(q[0].c,I.read_shift(2),!0),Qe=R(q[0].r,I.read_shift(2),!1);Se=R(q[0].c,I.read_shift(2),!0),oe=R(q[0].r,I.read_shift(2),!1),B.push(rt+Qe+":"+Se+oe)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(I.read_shift(2));break;case 6:{for(var Wt="";Ne=I[I.l++];)Wt+=String.fromCharCode(Ne);B.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:Re=B.pop(),Oe=B.pop(),B.push(["AND","OR"][Ne-20]+"("+Oe+","+Re+")");break;default:if(Ne<32&&N[Ne])Re=B.pop(),Oe=B.pop(),B.push(Oe+N[Ne]+Re);else if(O[Ne]){if(G=O[Ne][1],G==69&&(G=I[I.l++]),G>B.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+B.join("|")+"|");return}var Xe=B.slice(-G);B.length-=G,B.push(O[Ne][0]+"("+Xe.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}B.length==1?q[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function V(I){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=I.read_shift(2),q[3]=I[I.l++],q[0].c=I[I.l++],q}function ne(I,q){var B=V(I);return B[1].t="s",B[1].v=I.read_shift(q-4,"cstr"),B}function U(I,q,B,G){var oe=he(6+G.length);oe.write_shift(2,I),oe.write_shift(1,B),oe.write_shift(1,q),oe.write_shift(1,39);for(var Se=0;Se<G.length;++Se){var Oe=G.charCodeAt(Se);oe.write_shift(1,Oe>=128?95:Oe)}return oe.write_shift(1,0),oe}function Z(I,q){var B=V(I);B[1].v=I.read_shift(2);var G=B[1].v>>1;if(B[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return B[1].v=G,B}function z(I,q){var B=V(I),G=I.read_shift(4),oe=I.read_shift(4),Se=I.read_shift(2);if(Se==65535)return G===0&&oe===3221225472?(B[1].t="e",B[1].v=15):G===0&&oe===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var Oe=Se&32768;return Se=(Se&32767)-16446,B[1].v=(1-Oe*2)*(oe*Math.pow(2,Se+32)+G*Math.pow(2,Se)),B}function ae(I,q,B,G){var oe=he(14);if(oe.write_shift(2,I),oe.write_shift(1,B),oe.write_shift(1,q),G==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var Se=0,Oe=0,Re=0,Ne=0;return G<0&&(Se=1,G=-G),Oe=Math.log2(G)|0,G/=Math.pow(2,Oe-31),Ne=G>>>0,(Ne&2147483648)==0&&(G/=2,++Oe,Ne=G>>>0),G-=Ne,Ne|=2147483648,Ne>>>=0,G*=Math.pow(2,32),Re=G>>>0,oe.write_shift(4,Re),oe.write_shift(4,Ne),Oe+=16383+(Se?32768:0),oe.write_shift(2,Oe),oe}function ce(I,q){var B=z(I);return I.l+=q-14,B}function me(I,q){var B=V(I),G=I.read_shift(4);return B[1].v=G>>6,B}function ue(I,q){var B=V(I),G=I.read_shift(8,"f");return B[1].v=G,B}function ye(I,q){var B=ue(I);return I.l+=q-10,B}function Ee(I,q){return I[I.l+q-1]==0?I.read_shift(q,"cstr"):""}function X(I,q){var B=I[I.l++];B>q-1&&(B=q-1);for(var G="";G.length<B;)G+=String.fromCharCode(I[I.l++]);return G}function fe(I,q,B){if(!(!B.qpro||q<21)){var G=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var oe=I.read_shift(q-21,"cstr");return[G,oe]}}function be(I,q){for(var B={},G=I.l+q;I.l<G;){var oe=I.read_shift(2);if(oe==14e3){for(B[oe]=[0,""],B[oe][0]=I.read_shift(2);I[I.l];)B[oe][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return B}function ke(I,q){var B=he(5+I.length);B.write_shift(2,14e3),B.write_shift(2,q);for(var G=0;G<I.length;++G){var oe=I.charCodeAt(G);B[B.l++]=oe>127?95:oe}return B[B.l++]=0,B}var He={0:{n:"BOF",f:Vx},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ne},23:{n:"NUMBER17",f:z},24:{n:"NUMBER18",f:Z},25:{n:"FORMULA19",f:ce},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:me},38:{n:"??"},39:{n:"NUMBER27",f:ue},40:{n:"FORMULA28",f:ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})(),ZM=/^\s|\s$|[\t\n\r]/;function Kx(t,e){if(!e.bookSST)return"";var n=[$t];n[n.length]=Ae("sst",null,{xmlns:to[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var s=t[r],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(ZM)&&(o+=' xml:space="preserve"'),o+=">"+pt(s.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function eO(t){return[t.read_shift(4),t.read_shift(4)]}function tO(t,e){return e||(e=he(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var nO=JD;function rO(t){var e=Ln();_e(e,159,tO(t));for(var n=0;n<t.length;++n)_e(e,19,nO(t[n]));return _e(e,160),e.end()}function iO(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Wx(t){var e=0,n,r=iO(t),s=r.length+1,o,l,c,d,h;for(n=Ns(s),n[0]=r.length,o=1;o!=s;++o)n[o]=r[o-1];for(o=s-1;o>=0;--o)l=n[o],c=(e&16384)===0?0:1,d=e<<1&32767,h=c|d,e=h^l;return e^52811}var sO=(function(){function t(s,o){switch(o.type){case"base64":return e(hi(s),o);case"binary":return e(s,o);case"buffer":return e(ut&&Buffer.isBuffer(s)?s.toString("binary"):Ml(s),o);case"array":return e(ff(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){var l=o||{},c=l.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,_){Array.isArray(c)&&(c[_]=[]);for(var y=/\\\w+\b/g,x=0,S,E=-1;S=y.exec(m);){switch(S[0]){case"\\cell":var w=m.slice(x,y.lastIndex-S[0].length);if(w[0]==" "&&(w=w.slice(1)),++E,w.length){var R={v:w,t:"s"};Array.isArray(c)?c[_][E]=R:c[mt({r:_,c:E})]=R}break}x=y.lastIndex}E>h.e.c&&(h.e.c=E)}),c["!ref"]=zt(h),c}function n(s,o){return ks(t(s,o),o)}function r(s){for(var o=["{\\rtf1\\ansi"],l=bt(s["!ref"]),c,d=Array.isArray(s),h=l.s.r;h<=l.e.r;++h){o.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)o.push("\\cellx"+(m+1));for(o.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var _=mt({r:h,c:m});c=d?(s[h]||[])[m]:s[_],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(di(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function E1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var aO=6,ci=aO;function $c(t){return Math.floor((t+Math.round(128/ci)/256)*ci)}function Jc(t){return Math.floor((t-5)/ci*100+.5)/100}function _0(t){return Math.round((t*ci+5)/ci*256)/256}function ip(t){t.width?(t.wpx=$c(t.width),t.wch=Jc(t.wpx),t.MDW=ci):t.wpx?(t.wch=Jc(t.wpx),t.width=_0(t.wch),t.MDW=ci):typeof t.wch=="number"&&(t.width=_0(t.wch),t.wpx=$c(t.width),t.MDW=ci),t.customWidth&&delete t.customWidth}var oO=96,Xx=oO;function Yc(t){return t*96/Xx}function Qx(t){return t*Xx/96}function lO(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Ae("numFmt",null,{numFmtId:r,formatCode:pt(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ae("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function uO(t){var e=[];return e[e.length]=Ae("cellXfs",null),t.forEach(function(n){e[e.length]=Ae("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ae("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function jx(t,e){var n=[$t,Ae("styleSheet",null,{xmlns:to[0],"xmlns:vt":Qt.vt})],r;return t.SSF&&(r=lO(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=uO(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function cO(t,e){var n=t.read_shift(2),r=_n(t);return[n,r]}function fO(t,e,n){n||(n=he(6+4*e.length)),n.write_shift(2,t),Zt(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function hO(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=ZD(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var o=t.read_shift(2);switch(o===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var c=t.read_shift(1);c>0&&(r.family=c);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=jD(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=_n(t),r}function dO(t,e){e||(e=he(153)),e.write_shift(2,t.sz*20),eM(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),qc(t.color,e);var r=0;return r=2,e.write_shift(1,r),Zt(t.name,e),e.length>e.l?e.slice(0,e.l):e}var pO=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],qd,mO=Vr;function S1(t,e){e||(e=he(84)),qd||(qd=J0(pO));var n=qd[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(qc({auto:1},e),qc({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function gO(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}function Zx(t,e,n){n||(n=he(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function il(t,e){return e||(e=he(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var vO=Vr;function yO(t,e){return e||(e=he(51)),e.write_shift(1,0),il(null,e),il(null,e),il(null,e),il(null,e),il(null,e),e.length>e.l?e.slice(0,e.l):e}function _O(t,e){return e||(e=he(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Vc(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function TO(t,e,n){var r=he(2052);return r.write_shift(4,t),Vc(e,r),Vc(n,r),r.length>r.l?r.slice(0,r.l):r}function xO(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++n}),n!=0&&(_e(t,615,Mr(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&_e(t,44,fO(s,e[s]))}),_e(t,616))}}function EO(t){var e=1;_e(t,611,Mr(e)),_e(t,43,dO({sz:12,color:{theme:1},name:"Calibri",family:2})),_e(t,612)}function SO(t){var e=2;_e(t,603,Mr(e)),_e(t,45,S1({patternType:"none"})),_e(t,45,S1({patternType:"gray125"})),_e(t,604)}function wO(t){var e=1;_e(t,613,Mr(e)),_e(t,46,yO()),_e(t,614)}function AO(t){var e=1;_e(t,626,Mr(e)),_e(t,47,Zx({numFmtId:0},65535)),_e(t,627)}function CO(t,e){_e(t,617,Mr(e.length)),e.forEach(function(n){_e(t,47,Zx(n,0))}),_e(t,618)}function bO(t){var e=1;_e(t,619,Mr(e)),_e(t,48,_O({xfId:0,name:"Normal"})),_e(t,620)}function RO(t){var e=0;_e(t,505,Mr(e)),_e(t,506)}function NO(t){var e=0;_e(t,508,TO(e,"TableStyleMedium9","PivotStyleMedium4")),_e(t,509)}function IO(t,e){var n=Ln();return _e(n,278),xO(n,t.SSF),EO(n),SO(n),wO(n),AO(n),CO(n,e.cellXfs),bO(n),RO(n),NO(n),_e(n,279),n.end()}function eE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[$t];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function DO(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:_n(t)}}function MO(t){var e=he(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Zt(t.name,e),e.slice(0,e.l)}function OO(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function kO(t){var e=he(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function LO(t,e){var n=he(8+2*e.length);return n.write_shift(4,t),Zt(e,n),n.slice(0,n.l)}function PO(t){return t.l+=4,t.read_shift(4)!=0}function UO(t,e){var n=he(8);return n.write_shift(4,t),n.write_shift(4,1),n}function FO(){var t=Ln();return _e(t,332),_e(t,334,Mr(1)),_e(t,335,MO({name:"XLDAPR",version:12e4,flags:3496657072})),_e(t,336),_e(t,339,LO(1,"XLDAPR")),_e(t,52),_e(t,35,Mr(514)),_e(t,4096,Mr(0)),_e(t,4097,pr(1)),_e(t,36),_e(t,53),_e(t,340),_e(t,337,UO(1)),_e(t,51,kO([[1,0]])),_e(t,338),_e(t,333),t.end()}function tE(){var t=[$t];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function BO(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=mt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Va=1024;function nE(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Ae("xml",null,{"xmlns:v":Xn.v,"xmlns:o":Xn.o,"xmlns:x":Xn.x,"xmlns:mv":Xn.mv}).replace(/\/>/,">"),Ae("o:shapelayout",Ae("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ae("v:shapetype",[Ae("v:stroke",null,{joinstyle:"miter"}),Ae("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Va<t*1e3;)Va+=1e3;return e.forEach(function(o){var l=jt(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ae("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Ae("v:fill",d,c),m={on:"t",obscured:"t"};++Va,s=s.concat(["<v:shape"+El({id:"_x0000_s"+Va,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Ae("v:shadow",null,m),Ae("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),fn("x:AutoFill","False"),fn("x:Row",String(l.r)),fn("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function rE(t){var e=[$t,Ae("comments",null,{xmlns:to[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var o=pt(s.a);n.indexOf(o)==-1&&(n.push(o),e.push("<author>"+o+"</author>")),s.T&&s.ID&&n.indexOf("tc="+s.ID)==-1&&(n.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var s=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(s=n.indexOf(pt(d.a))),o.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),o.length<=1)e.push(fn("t",pt(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;e.push(fn("t",pt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function HO(t,e,n){var r=[$t,Ae("ThreadedComments",null,{xmlns:Qt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var o="";(s[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Ae("threadedComment",fn("text",l.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function GO(t){var e=[$t,Ae("personList",null,{xmlns:Qt.TCMNT,"xmlns:x":to[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Ae("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function VO(t){var e={};e.iauthor=t.read_shift(4);var n=Fs(t);return e.rfx=n.s,e.ref=mt(n.s),t.l+=16,e}function qO(t,e){return e==null&&(e=he(36)),e.write_shift(4,t[1].iauthor),ro(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var zO=_n;function $O(t){return Zt(t.slice(0,54))}function JO(t){var e=Ln(),n=[];return _e(e,628),_e(e,630),t.forEach(function(r){r[1].forEach(function(s){n.indexOf(s.a)>-1||(n.push(s.a.slice(0,54)),_e(e,632,$O(s.a)))})}),_e(e,631),_e(e,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=n.indexOf(s.a);var o={s:jt(r[0]),e:jt(r[0])};_e(e,635,qO([o,s])),s.t&&s.t.length>0&&_e(e,637,KD(s)),_e(e,636),delete s.iauthor})}),_e(e,634),_e(e,629),e.end()}function YO(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&_t.utils.cfb_add(t,s,e.FileIndex[r].content)}})}var iE=["xlsb","xlsm","xlam","biff8","xla"],KO=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=e.c:--m,d?h+=e.r:--h,s+(c?"":"$")+yn(m)+(d?"":"$")+hn(h)}return function(s,o){return e=o,s.replace(t,n)}})(),sp=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ap=(function(){return function(e,n){return e.replace(sp,function(r,s,o,l,c,d){var h=Z0(l)-(o?0:n.c),m=j0(d)-(c?0:n.r),_=m==0?"":c?m+1:"["+m+"]",y=h==0?"":o?h+1:"["+h+"]";return s+"R"+_+"C"+y})}})();function WO(t,e){return t.replace(sp,function(n,r,s,o,l,c){return r+(s=="$"?s+o:yn(Z0(o)+e.c))+(l=="$"?l+c:hn(j0(c)+e.r))})}function XO(t){return t.length!=1}function Vt(t){t.l+=1}function Xi(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function sE(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return aE(t);n.biff==12&&(r=4)}var s=t.read_shift(r),o=t.read_shift(r),l=Xi(t),c=Xi(t);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function aE(t){var e=Xi(t),n=Xi(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function QO(t,e,n){if(n.biff<8)return aE(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),o=Xi(t),l=Xi(t);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function oE(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return jO(t);var r=t.read_shift(n&&n.biff==12?4:2),s=Xi(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function jO(t){var e=Xi(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function ZO(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function e3(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return t3(t);var s=t.read_shift(r>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;s>524287;)s-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:l,rRel:c}}function t3(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function n3(t,e,n){var r=(t[t.l++]&96)>>5,s=sE(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function r3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=sE(t,o,n);return[r,s,l]}function i3(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function s3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[r,s]}function a3(t,e,n){var r=(t[t.l++]&96)>>5,s=QO(t,e-1,n);return[r,s]}function o3(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function w1(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function l3(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],o=0;o<=r;++o)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function u3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function c3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function f3(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function h3(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function lE(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function d3(t){return t.read_shift(2),lE(t)}function p3(t){return t.read_shift(2),lE(t)}function m3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=oE(t,0,n);return[r,s]}function g3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=e3(t,0,n);return[r,s]}function v3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=oE(t,0,n);return[r,s,o]}function y3(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[yk[s],fE[s],r]}function _3(t,e,n){var r=t[t.l++],s=t.read_shift(1),o=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:T3(t);return[s,(o[0]===0?fE:vk)[o[1]]]}function T3(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function x3(t,e,n){t.l+=n&&n.biff==2?3:4}function E3(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function S3(t){return t.l++,Ll[t.read_shift(1)]}function w3(t){return t.l++,t.read_shift(2)}function A3(t){return t.l++,t.read_shift(1)!==0}function C3(t){return t.l++,io(t)}function b3(t,e,n){return t.l++,zx(t,e-1,n)}function R3(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=vM(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Ll[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=io(t);break;case 2:n[1]=xM(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function N3(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],o=0;o!=r;++o)s.push((n.biff==12?Fs:wM)(t));return s}function I3(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var o=0,l=[];o!=r&&(l[o]=[]);++o)for(var c=0;c!=s;++c)l[o][c]=R3(t,n.biff);return l}function D3(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,o=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,o]}function M3(t,e,n){if(n.biff==5)return O3(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),o=t.read_shift(4);return[r,s,o]}function O3(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function k3(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function L3(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function P3(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function U3(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[r,s]}var F3=Vr,B3=Vr,H3=Vr;function Pl(t,e,n){return t.l+=2,[ZO(t)]}function op(t){return t.l+=6,[]}var G3=Pl,V3=op,q3=op,z3=Pl;function uE(t){return t.l+=2,[Vx(t),t.read_shift(2)&1]}var $3=Pl,J3=uE,Y3=op,K3=Pl,W3=Pl,X3=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Q3(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),o=t.read_shift(2),l=X3[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:s,C:o}}function j3(t){return t.l+=2,[t.read_shift(4)]}function Z3(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function ek(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function tk(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function nk(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function rk(t){return t.l+=4,[0,0]}var A1={1:{n:"PtgExp",f:E3},2:{n:"PtgTbl",f:H3},3:{n:"PtgAdd",f:Vt},4:{n:"PtgSub",f:Vt},5:{n:"PtgMul",f:Vt},6:{n:"PtgDiv",f:Vt},7:{n:"PtgPower",f:Vt},8:{n:"PtgConcat",f:Vt},9:{n:"PtgLt",f:Vt},10:{n:"PtgLe",f:Vt},11:{n:"PtgEq",f:Vt},12:{n:"PtgGe",f:Vt},13:{n:"PtgGt",f:Vt},14:{n:"PtgNe",f:Vt},15:{n:"PtgIsect",f:Vt},16:{n:"PtgUnion",f:Vt},17:{n:"PtgRange",f:Vt},18:{n:"PtgUplus",f:Vt},19:{n:"PtgUminus",f:Vt},20:{n:"PtgPercent",f:Vt},21:{n:"PtgParen",f:Vt},22:{n:"PtgMissArg",f:Vt},23:{n:"PtgStr",f:b3},26:{n:"PtgSheet",f:Z3},27:{n:"PtgEndSheet",f:ek},28:{n:"PtgErr",f:S3},29:{n:"PtgBool",f:A3},30:{n:"PtgInt",f:w3},31:{n:"PtgNum",f:C3},32:{n:"PtgArray",f:o3},33:{n:"PtgFunc",f:y3},34:{n:"PtgFuncVar",f:_3},35:{n:"PtgName",f:D3},36:{n:"PtgRef",f:m3},37:{n:"PtgArea",f:n3},38:{n:"PtgMemArea",f:k3},39:{n:"PtgMemErr",f:F3},40:{n:"PtgMemNoMem",f:B3},41:{n:"PtgMemFunc",f:L3},42:{n:"PtgRefErr",f:P3},43:{n:"PtgAreaErr",f:i3},44:{n:"PtgRefN",f:g3},45:{n:"PtgAreaN",f:a3},46:{n:"PtgMemAreaN",f:tk},47:{n:"PtgMemNoMemN",f:nk},57:{n:"PtgNameX",f:M3},58:{n:"PtgRef3d",f:v3},59:{n:"PtgArea3d",f:r3},60:{n:"PtgRefErr3d",f:U3},61:{n:"PtgAreaErr3d",f:s3},255:{}},ik={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sk={1:{n:"PtgElfLel",f:uE},2:{n:"PtgElfRw",f:K3},3:{n:"PtgElfCol",f:G3},6:{n:"PtgElfRwV",f:W3},7:{n:"PtgElfColV",f:z3},10:{n:"PtgElfRadical",f:$3},11:{n:"PtgElfRadicalS",f:Y3},13:{n:"PtgElfColS",f:V3},15:{n:"PtgElfColSV",f:q3},16:{n:"PtgElfRadicalLel",f:J3},25:{n:"PtgList",f:Q3},29:{n:"PtgSxName",f:j3},255:{}},ak={0:{n:"PtgAttrNoop",f:rk},1:{n:"PtgAttrSemi",f:h3},2:{n:"PtgAttrIf",f:c3},4:{n:"PtgAttrChoose",f:l3},8:{n:"PtgAttrGoto",f:u3},16:{n:"PtgAttrSum",f:x3},32:{n:"PtgAttrBaxcel",f:w1},33:{n:"PtgAttrBaxcel",f:w1},64:{n:"PtgAttrSpace",f:d3},65:{n:"PtgAttrSpaceSemi",f:p3},128:{n:"PtgAttrIfError",f:f3},255:{}};function ok(t,e,n,r){if(r.biff<8)return Vr(t,e);for(var s=t.l+e,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=I3(t,0,r),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=N3(t,n[l][1],r),o.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=s-t.l,e!==0&&o.push(Vr(t,e)),o}function lk(t,e,n){for(var r=t.l+e,s,o,l=[];r!=t.l;)e=r-t.l,o=t[t.l],s=A1[o]||A1[ik[o]],(o===24||o===25)&&(s=(o===24?sk:ak)[t[t.l+1]]),!s||!s.f?Vr(t,e):l.push([s.n,s.f(t,e,n)]);return l}function uk(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],o=0;o<r.length;++o){var l=r[o];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var ck={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fk(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function cE(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function C1(t,e,n){var r=cE(t,e,n);return r=="#REF"?r:fk(r,n)}function Qa(t,e,n,r,s){var o=s&&s.biff||8,l={s:{c:0,r:0}},c=[],d,h,m,_=0,y=0,x,S="";if(!t[0]||!t[0][0])return"";for(var E=-1,w="",R=0,O=t[0].length;R<O;++R){var N=t[0][R];switch(N[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),E>=0){switch(t[0][E][1][0]){case 0:w=kt(" ",t[0][E][1][1]);break;case 1:w=kt("\r",t[0][E][1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}h=h+w,E=-1}c.push(h+ck[N[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=hl(N[1][1],l,s),c.push(dl(m,o));break;case"PtgRefN":m=n?hl(N[1][1],n,s):N[1][1],c.push(dl(m,o));break;case"PtgRef3d":_=N[1][1],m=hl(N[1][2],l,s),S=C1(r,_,s),c.push(S+"!"+dl(m,o));break;case"PtgFunc":case"PtgFuncVar":var F=N[1][0],V=N[1][1];F||(F=0),F&=127;var ne=F==0?[]:c.slice(-F);c.length-=F,V==="User"&&(V=ne.shift()),c.push(V+"("+ne.join(",")+")");break;case"PtgBool":c.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(N[1]);break;case"PtgNum":c.push(String(N[1]));break;case"PtgStr":c.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(N[1]);break;case"PtgAreaN":x=c1(N[1][1],n?{s:n}:l,s),c.push(Gd(x,s));break;case"PtgArea":x=c1(N[1][1],l,s),c.push(Gd(x,s));break;case"PtgArea3d":_=N[1][1],x=N[1][2],S=C1(r,_,s),c.push(S+"!"+Gd(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=N[1][2];var U=(r.names||[])[y-1]||(r[0]||[])[y],Z=U?U.Name:"SH33TJSNAME"+String(y);Z&&Z.slice(0,6)=="_xlfn."&&!s.xlfn&&(Z=Z.slice(6)),c.push(Z);break;case"PtgNameX":var z=N[1][1];y=N[1][2];var ae;if(s.biff<=5)z<0&&(z=-z),r[z]&&(ae=r[z][y]);else{var ce="";if(((r[z]||[])[0]||[])[0]==14849||(((r[z]||[])[0]||[])[0]==1025?r[z][y]&&r[z][y].itab>0&&(ce=r.SheetNames[r[z][y].itab-1]+"!"):ce=r.SheetNames[y-1]+"!"),r[z]&&r[z][y])ce+=r[z][y].Name;else if(r[0]&&r[0][y])ce+=r[0][y].Name;else{var me=(cE(r,z,s)||"").split(";;");me[y-1]?ce=me[y-1]:ce+="SH33TJSERRX"}c.push(ce);break}ae||(ae={Name:"SH33TJSERRY"}),c.push(ae.Name);break;case"PtgParen":var ue="(",ye=")";if(E>=0){switch(w="",t[0][E][1][0]){case 2:ue=kt(" ",t[0][E][1][1])+ue;break;case 3:ue=kt("\r",t[0][E][1][1])+ue;break;case 4:ye=kt(" ",t[0][E][1][1])+ye;break;case 5:ye=kt("\r",t[0][E][1][1])+ye;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][E][1][0])}E=-1}c.push(ue+c.pop()+ye);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:N[1][1],r:N[1][0]};var Ee={c:n.c,r:n.r};if(r.sharedf[mt(m)]){var X=r.sharedf[mt(m)];c.push(Qa(X,l,Ee,r,s))}else{var fe=!1;for(d=0;d!=r.arrayf.length;++d)if(h=r.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(Qa(h[1],l,Ee,r,s)),fe=!0;break}fe||c.push(N[1])}break;case"PtgArray":c.push("{"+uk(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=R;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&E>=0&&be.indexOf(t[0][R][0])==-1){N=t[0][E];var ke=!0;switch(N[1][0]){case 4:ke=!1;case 0:w=kt(" ",N[1][1]);break;case 5:ke=!1;case 1:w=kt("\r",N[1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}c.push((ke?w:"")+c.pop()+(ke?"":w)),E=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function hk(t){if(t==null){var e=he(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Is(t);return Is(0)}function dk(t,e,n,r,s){var o=Ds(e,n,s),l=hk(t.v),c=he(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var h=he(t.bf.length),m=0;m<t.bf.length;++m)h[m]=t.bf[m];var _=cn([o,l,c,h]);return _}function hf(t,e,n){var r=t.read_shift(4),s=lk(t,r,n),o=t.read_shift(4),l=o>0?ok(t,o,s,n):null;return[s,l]}var pk=hf,df=hf,mk=hf,gk=hf,vk={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yk={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _k(t){var e="of:="+t.replace(sp,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Tk(t){return t.replace(/\./,"!")}var pl=typeof Map<"u";function lp(t,e,n){var r=0,s=t.length;if(n){if(pl?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var o=pl?n.get(e):n[e];r<o.length;++r)if(t[o[r]].t===e)return t.Count++,o[r]}}else for(;r<s;++r)if(t[r].t===e)return t.Count++,r;return t[s]={t:e},t.Count++,t.Unique++,n&&(pl?(n.has(e)||n.set(e,[]),n.get(e).push(s)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(s))),s}function pf(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ci=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Jc(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=_0(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function hE(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Zi(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],s=60,o=t.length;if(r==null&&n.ssf){for(;s<392;++s)if(n.ssf[s]==null){ox(e.z,s),n.ssf[s]=e.z,n.revssf[e.z]=r=s;break}}for(s=0;s!=o;++s)if(t[s].numFmtId===r)return s;return t[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function xk(t,e,n){if(t&&t["!ref"]){var r=bt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function Ek(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+zt(t[n])+'"/>';return e+"</mergeCells>"}function Sk(t,e,n,r,s){var o=!1,l={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}o=!0,l.codeName=xl(pt(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+Ae("outlinePr",null,h)}!o&&!c||(s[s.length]=Ae("sheetPr",c,l))}var wk=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ak=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ck(t){var e={sheet:1};return wk.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),Ak.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=Wx(t.password).toString(16).toUpperCase()),Ae("sheetProtection",null,e)}function bk(t){return hE(t),Ae("pageMargins",null,t)}function Rk(t,e){for(var n=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(n[n.length]=Ae("col",null,pf(s,r)));return n[n.length]="</cols>",n.join("")}function Nk(t,e,n,r){var s=typeof t.ref=="string"?t.ref:zt(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Zn(s);l.s.r==l.e.r&&(l.e.r=Zn(e["!ref"]).e.r,s=zt(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ae("autoFilter",null,{ref:s})}function Ik(t,e,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ae("sheetViews",Ae("sheetView",null,s),{})}function Dk(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Ll[t.v];break;case"d":r&&r.cellDates?s=Cn(t.v,-1).toISOString():(t=Un(t),t.t="n",s=""+(t.v=Pn(Cn(t.v)))),typeof t.z>"u"&&(t.z=Lt[14]);break;default:s=t.v;break}var c=fn("v",pt(s)),d={r:e},h=Zi(r.cellXfs,t,r);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=fn("v",""+lp(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Ae("f",pt(t.f),m)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),Ae("c",c,d)}function Mk(t,e,n,r){var s=[],o=[],l=bt(t["!ref"]),c="",d,h="",m=[],_=0,y=0,x=t["!rows"],S=Array.isArray(t),E={r:h},w,R=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=yn(y);for(_=l.s.r;_<=l.e.r;++_){for(o=[],h=hn(_),y=l.s.c;y<=l.e.c;++y){d=m[y]+h;var O=S?(t[_]||[])[y]:t[d];O!==void 0&&(c=Dk(O,d,t,e))!=null&&o.push(c)}(o.length>0||x&&x[_])&&(E={r:h},x&&x[_]&&(w=x[_],w.hidden&&(E.hidden=1),R=-1,w.hpx?R=Yc(w.hpx):w.hpt&&(R=w.hpt),R>-1&&(E.ht=R,E.customHeight=1),w.level&&(E.outlineLevel=w.level)),s[s.length]=Ae("row",o.join(""),E))}if(x)for(;_<x.length;++_)x&&x[_]&&(E={r:_+1},w=x[_],w.hidden&&(E.hidden=1),R=-1,w.hpx?R=Yc(w.hpx):w.hpt&&(R=w.hpt),R>-1&&(E.ht=R,E.customHeight=1),w.level&&(E.outlineLevel=w.level),s[s.length]=Ae("row","",E));return s.join("")}function dE(t,e,n,r){var s=[$t,Ae("worksheet",null,{xmlns:to[0],"xmlns:r":Qt.r})],o=n.SheetNames[t],l=0,c="",d=n.Sheets[o];d==null&&(d={});var h=d["!ref"]||"A1",m=bt(h);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=zt(m)}r||(r={}),d["!comments"]=[];var _=[];Sk(d,n,t,e,s),s[s.length]=Ae("dimension",null,{ref:h}),s[s.length]=Ik(d,e,t,n),e.sheetFormat&&(s[s.length]=Ae("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=Rk(d,d["!cols"])),s[l=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=Mk(d,e),c.length>0&&(s[s.length]=c)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),d["!protect"]&&(s[s.length]=Ck(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=Nk(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=Ek(d["!merges"]));var y=-1,x,S=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(E){E[1].Target&&(x={ref:E[0]},E[1].Target.charAt(0)!="#"&&(S=dt(r,-1,pt(E[1].Target).replace(/#.*$/,""),at.HLINK),x["r:id"]="rId"+S),(y=E[1].Target.indexOf("#"))>-1&&(x.location=pt(E[1].Target.slice(y+1))),E[1].Tooltip&&(x.tooltip=pt(E[1].Tooltip)),s[s.length]=Ae("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=bk(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=fn("ignoredErrors",Ae("ignoredError",null,{numberStoredAsText:1,sqref:h}))),_.length>0&&(S=dt(r,-1,"../drawings/drawing"+(t+1)+".xml",at.DRAW),s[s.length]=Ae("drawing",null,{"r:id":"rId"+S}),d["!drawing"]=_),d["!comments"].length>0&&(S=dt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",at.VML),s[s.length]=Ae("legacyDrawing",null,{"r:id":"rId"+S}),d["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Ok(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=r,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=s/20),n}function kk(t,e,n){var r=he(145),s=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var o=320;s.hpx?o=Yc(s.hpx)*20:s.hpt&&(o=s.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,d=r.l;r.l+=4;for(var h={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var _=-1,y=-1,x=m<<10;x<m+1<<10;++x){h.c=x;var S=Array.isArray(n)?(n[h.r]||[])[h.c]:n[mt(h)];S&&(_<0&&(_=x),y=x)}_<0||(++c,r.write_shift(4,_),r.write_shift(4,y))}var E=r.l;return r.l=d,r.write_shift(4,c),r.l=E,r.length>r.l?r.slice(0,r.l):r}function Lk(t,e,n,r){var s=kk(r,n,e);(s.length>17||(e["!rows"]||[])[r])&&_e(t,0,s)}var Pk=Fs,Uk=ro;function Fk(){}function Bk(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=WD(t),n}function Hk(t,e,n){n==null&&(n=he(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return qc({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Rx(t,n),n.slice(0,n.l)}function Gk(t){var e=vr(t);return[e]}function Vk(t,e,n){return n==null&&(n=he(8)),Ls(e,n)}function qk(t){var e=Ps(t);return[e]}function zk(t,e,n){return n==null&&(n=he(4)),Us(e,n)}function $k(t){var e=vr(t),n=t.read_shift(1);return[e,n,"b"]}function Jk(t,e,n){return n==null&&(n=he(9)),Ls(e,n),n.write_shift(1,t.v?1:0),n}function Yk(t){var e=Ps(t),n=t.read_shift(1);return[e,n,"b"]}function Kk(t,e,n){return n==null&&(n=he(5)),Us(e,n),n.write_shift(1,t.v?1:0),n}function Wk(t){var e=vr(t),n=t.read_shift(1);return[e,n,"e"]}function Xk(t,e,n){return n==null&&(n=he(9)),Ls(e,n),n.write_shift(1,t.v),n}function Qk(t){var e=Ps(t),n=t.read_shift(1);return[e,n,"e"]}function jk(t,e,n){return n==null&&(n=he(8)),Us(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Zk(t){var e=vr(t),n=t.read_shift(4);return[e,n,"s"]}function eL(t,e,n){return n==null&&(n=he(12)),Ls(e,n),n.write_shift(4,e.v),n}function tL(t){var e=Ps(t),n=t.read_shift(4);return[e,n,"s"]}function nL(t,e,n){return n==null&&(n=he(8)),Us(e,n),n.write_shift(4,e.v),n}function rL(t){var e=vr(t),n=io(t);return[e,n,"n"]}function iL(t,e,n){return n==null&&(n=he(16)),Ls(e,n),Is(t.v,n),n}function sL(t){var e=Ps(t),n=io(t);return[e,n,"n"]}function aL(t,e,n){return n==null&&(n=he(12)),Us(e,n),Is(t.v,n),n}function oL(t){var e=vr(t),n=Nx(t);return[e,n,"n"]}function lL(t,e,n){return n==null&&(n=he(12)),Ls(e,n),Ix(t.v,n),n}function uL(t){var e=Ps(t),n=Nx(t);return[e,n,"n"]}function cL(t,e,n){return n==null&&(n=he(8)),Us(e,n),Ix(t.v,n),n}function fL(t){var e=vr(t),n=ep(t);return[e,n,"is"]}function hL(t){var e=vr(t),n=_n(t);return[e,n,"str"]}function dL(t,e,n){return n==null&&(n=he(12+4*t.v.length)),Ls(e,n),Zt(t.v,n),n.length>n.l?n.slice(0,n.l):n}function pL(t){var e=Ps(t),n=_n(t);return[e,n,"str"]}function mL(t,e,n){return n==null&&(n=he(8+4*t.v.length)),Us(e,n),Zt(t.v,n),n.length>n.l?n.slice(0,n.l):n}function gL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=t.read_shift(1),l=[s,o,"b"];if(n.cellFormula){t.l+=2;var c=df(t,r-t.l,n);l[3]=Qa(c,null,s,n.supbooks,n)}else t.l=r;return l}function vL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=t.read_shift(1),l=[s,o,"e"];if(n.cellFormula){t.l+=2;var c=df(t,r-t.l,n);l[3]=Qa(c,null,s,n.supbooks,n)}else t.l=r;return l}function yL(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=io(t),l=[s,o,"n"];if(n.cellFormula){t.l+=2;var c=df(t,r-t.l,n);l[3]=Qa(c,null,s,n.supbooks,n)}else t.l=r;return l}function _L(t,e,n){var r=t.l+e,s=vr(t);s.r=n["!row"];var o=_n(t),l=[s,o,"str"];if(n.cellFormula){t.l+=2;var c=df(t,r-t.l,n);l[3]=Qa(c,null,s,n.supbooks,n)}else t.l=r;return l}var TL=Fs,xL=ro;function EL(t,e){return e==null&&(e=he(4)),e.write_shift(4,t),e}function SL(t,e){var n=t.l+e,r=Fs(t),s=tp(t),o=_n(t),l=_n(t),c=_n(t);t.l=n;var d={rfx:r,relId:s,loc:o,display:c};return l&&(d.Tooltip=l),d}function wL(t,e){var n=he(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ro({s:jt(t[0]),e:jt(t[0])},n),np("rId"+e,n);var r=t[1].Target.indexOf("#"),s=r==-1?"":t[1].Target.slice(r+1);return Zt(s||"",n),Zt(t[1].Tooltip||"",n),Zt("",n),n.slice(0,n.l)}function AL(){}function CL(t,e,n){var r=t.l+e,s=Dx(t),o=t.read_shift(1),l=[s];if(l[2]=o,n.cellFormula){var c=pk(t,r-t.l,n);l[1]=c}else t.l=r;return l}function bL(t,e,n){var r=t.l+e,s=Fs(t),o=[s];if(n.cellFormula){var l=gk(t,r-t.l,n);o[1]=l,t.l=r}else t.l=r;return o}function RL(t,e,n){n==null&&(n=he(18));var r=pf(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),n.write_shift(2,s),n}var pE=["left","right","top","bottom","header","footer"];function NL(t){var e={};return pE.forEach(function(n){e[n]=io(t)}),e}function IL(t,e){return e==null&&(e=he(48)),hE(t),pE.forEach(function(n){Is(t[n],e)}),e}function DL(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ML(t,e,n){n==null&&(n=he(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function OL(t){var e=he(24);return e.write_shift(4,4),e.write_shift(4,1),ro(t,e),e}function kL(t,e){return e==null&&(e=he(66)),e.write_shift(2,t.password?Wx(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function LL(){}function PL(){}function UL(t,e,n,r,s,o,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Un(e),e.z=e.z||Lt[14],e.v=Pn(Cn(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r:n,c:r};switch(d.s=Zi(s.cellXfs,e,s),e.l&&o["!links"].push([mt(d),e.l]),e.c&&o["!comments"].push([mt(d),e.c]),e.t){case"s":case"str":return s.bookSST?(c=lp(s.Strings,e.v,s.revStrings),d.t="s",d.v=c,l?_e(t,18,nL(e,d)):_e(t,7,eL(e,d))):(d.t="str",l?_e(t,17,mL(e,d)):_e(t,6,dL(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?_e(t,13,cL(e,d)):_e(t,2,lL(e,d)):l?_e(t,16,aL(e,d)):_e(t,5,iL(e,d)),!0;case"b":return d.t="b",l?_e(t,15,Kk(e,d)):_e(t,4,Jk(e,d)),!0;case"e":return d.t="e",l?_e(t,14,jk(e,d)):_e(t,3,Xk(e,d)),!0}return l?_e(t,12,zk(e,d)):_e(t,1,Vk(e,d)),!0}function FL(t,e,n,r){var s=bt(e["!ref"]||"A1"),o,l="",c=[];_e(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var m=s.s.r;m<=h;++m){l=hn(m),Lk(t,e,s,m);var _=!1;if(m<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){m===s.s.r&&(c[y]=yn(y)),o=c[y]+l;var x=d?(e[m]||[])[y]:e[o];if(!x){_=!1;continue}_=UL(t,x,m,y,r,e,_)}}_e(t,146)}function BL(t,e){!e||!e["!merges"]||(_e(t,177,EL(e["!merges"].length)),e["!merges"].forEach(function(n){_e(t,176,xL(n))}),_e(t,178))}function HL(t,e){!e||!e["!cols"]||(_e(t,390),e["!cols"].forEach(function(n,r){n&&_e(t,60,RL(r,n))}),_e(t,391))}function GL(t,e){!e||!e["!ref"]||(_e(t,648),_e(t,649,OL(bt(e["!ref"]))),_e(t,650))}function VL(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var s=dt(n,-1,r[1].Target.replace(/#.*$/,""),at.HLINK);_e(t,494,wL(r,s))}}),delete e["!links"]}function qL(t,e,n,r){if(e["!comments"].length>0){var s=dt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",at.VML);_e(t,551,np("rId"+s)),e["!legacy"]=s}}function zL(t,e,n,r){if(e["!autofilter"]){var s=e["!autofilter"],o=typeof s.ref=="string"?s.ref:zt(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Zn(o);c.s.r==c.e.r&&(c.e.r=Zn(e["!ref"]).e.r,o=zt(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),_e(t,161,ro(bt(o))),_e(t,162)}}function $L(t,e,n){_e(t,133),_e(t,137,ML(e,n)),_e(t,138),_e(t,134)}function JL(t,e){e["!protect"]&&_e(t,535,kL(e["!protect"]))}function YL(t,e,n,r){var s=Ln(),o=n.SheetNames[t],l=n.Sheets[o]||{},c=o;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var d=bt(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],_e(s,129),(n.vbaraw||l["!outline"])&&_e(s,147,Hk(c,l["!outline"])),_e(s,148,Uk(d)),$L(s,l,n.Workbook),HL(s,l),FL(s,l,t,e),JL(s,l),zL(s,l,n,t),BL(s,l),VL(s,l,r),l["!margins"]&&_e(s,476,IL(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&GL(s,l),qL(s,l,t,r),_e(s,130),s.end()}function KL(t,e){t.l+=10;var n=_n(t);return{name:n}}var WL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function XL(t){return!t.Workbook||!t.Workbook.WBProps?"false":bD(t.Workbook.WBProps.date1904)?"true":"false"}var QL="][*?/\\".split("");function mE(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return QL.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function jL(t,e,n){t.forEach(function(r,s){mE(r);for(var o=0;o<s;++o)if(r==t[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var l=e&&e[s]&&e[s].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function ZL(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];jL(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)xk(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function gE(t){var e=[$t];e[e.length]=Ae("workbook",null,{xmlns:to[0],"xmlns:r":Qt.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(WL.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ae("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:pt(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Ae("sheet",null,l)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=Ae("definedName",pt(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function eP(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=y0(t),n.name=_n(t),n}function tP(t,e){return e||(e=he(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),np(t.strRelID,e),Zt(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function nP(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?_n(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function rP(t,e){e||(e=he(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),Rx(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function iP(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),o=XD(t),l=mk(t,0,n),c=tp(t);t.l=r;var d={Name:o,Ptg:l};return s<268435455&&(d.Sheet=s),c&&(d.Comment=c),d}function sP(t,e){_e(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,s={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};_e(t,156,tP(s))}_e(t,144)}function aP(t,e){e||(e=he(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Zt("SheetJS",e),Zt(Lc.version,e),Zt(Lc.version,e),Zt("7262",e),e.length>e.l?e.slice(0,e.l):e}function oP(t,e){e||(e=he(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function lP(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,s=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&s==-1?s=r:n[r].Hidden==1&&o==-1&&(o=r);o>s||(_e(t,135),_e(t,158,oP(s)),_e(t,136))}}function uP(t,e){var n=Ln();return _e(n,131),_e(n,128,aP()),_e(n,153,rP(t.Workbook&&t.Workbook.WBProps||null)),lP(n,t),sP(n,t),_e(n,132),n.end()}function cP(t,e,n){return(e.slice(-4)===".bin"?uP:gE)(t)}function fP(t,e,n,r,s){return(e.slice(-4)===".bin"?YL:dE)(t,n,r,s)}function hP(t,e,n){return(e.slice(-4)===".bin"?IO:jx)(t,n)}function dP(t,e,n){return(e.slice(-4)===".bin"?rO:Kx)(t,n)}function pP(t,e,n){return(e.slice(-4)===".bin"?JO:rE)(t)}function mP(t){return(t.slice(-4)===".bin"?FO:tE)()}function gP(t,e){var n=[];return t.Props&&n.push(hM(t.Props,e)),t.Custprops&&n.push(dM(t.Props,t.Custprops)),n.join("")}function vP(){return""}function yP(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var o=[];o.push(Ae("NumberFormat",null,{"ss:Format":pt(Lt[r.numFmtId])}));var l={"ss:ID":"s"+(21+s)};n.push(Ae("Style",o.join(""),l))}),Ae("Styles",n.join(""))}function vE(t){return Ae("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ap(t.Ref,{r:0,c:0})})}function _P(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||n.push(vE(s)))}return Ae("Names",n.join(""))}function TP(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,o=[],l=0;l<s.length;++l){var c=s[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||o.push(vE(c)))}return o.join("")}function xP(t,e,n,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Ae("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Ae("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Ae("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Ae("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(fn("ProtectContents","True")),t["!protect"].objects&&s.push(fn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(fn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(fn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(fn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":Ae("WorksheetOptions",s.join(""),{xmlns:Xn.x})}function EP(t){return t.map(function(e){var n=CD(e.t||""),r=Ae("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ae("Comment",r,{"ss:Author":e.a})}).join("")}function SP(t,e,n,r,s,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+pt(ap(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=jt(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=pt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=pt(t.l.Tooltip))),n["!merges"])for(var h=n["!merges"],m=0;m!=h.length;++m)h[m].s.c!=l.c||h[m].s.r!=l.r||(h[m].e.c>h[m].s.c&&(c["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(c["ss:MergeDown"]=h[m].e.r-h[m].s.r));var _="",y="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":_="Number",y=String(t.v);break;case"b":_="Boolean",y=t.v?"1":"0";break;case"e":_="Error",y=Ll[t.v];break;case"d":_="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Lt[14]);break;case"s":_="String",y=AD(t.v||"");break}var x=Zi(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var S=t.v!=null?y:"",E=t.t=="z"?"":'<Data ss:Type="'+_+'">'+S+"</Data>";return(t.c||[]).length>0&&(E+=EP(t.c)),Ae("Cell",E,c)}function wP(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Qx(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function AP(t,e,n,r){if(!t["!ref"])return"";var s=bt(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(w,R){ip(w);var O=!!w.width,N=pf(R,w),F={"ss:Index":R+1};O&&(F["ss:Width"]=$c(N.width)),w.hidden&&(F["ss:Hidden"]="1"),c.push(Ae("Column",null,F))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var m=[wP(h,(t["!rows"]||[])[h])],_=s.s.c;_<=s.e.c;++_){var y=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>_)&&!(o[l].s.r>h)&&!(o[l].e.c<_)&&!(o[l].e.r<h)){(o[l].s.c!=_||o[l].s.r!=h)&&(y=!0);break}if(!y){var x={r:h,c:_},S=mt(x),E=d?(t[h]||[])[_]:t[S];m.push(SP(E,S,t,e,n,r,x))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function CP(t,e,n){var r=[],s=n.SheetNames[t],o=n.Sheets[s],l=o?TP(o,e,t,n):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=o?AP(o,e,t,n):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(xP(o,e,t,n)),r.join("")}function bP(t,e){e||(e={}),t.SSF||(t.SSF=Un(Lt)),t.SSF&&(uf(),lf(t.SSF),e.revssf=cf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(gP(t,e)),n.push(vP()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Ae("Worksheet",CP(r,e,t),{"ss:Name":pt(t.SheetNames[r])}));return n[2]=yP(t,e),n[3]=_P(t),$t+Ae("Workbook",n.join(""),{xmlns:Xn.ss,"xmlns:o":Xn.o,"xmlns:x":Xn.x,"xmlns:ss":Xn.ss,"xmlns:dt":Xn.dt,"xmlns:html":Xn.html})}var zd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function RP(t,e){var n=[],r=[],s=[],o=0,l,c=Z_(h1,"n"),d=Z_(d1,"n");if(t.Props)for(l=dn(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:s).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=dn(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:s).push([l[o],t.Custprops[l[o]]]);var h=[];for(o=0;o<s.length;++o)Gx.indexOf(s[o][0])>-1||Fx.indexOf(s[o][0])>-1||s[o][1]!=null&&h.push(s[o]);r.length&&_t.utils.cfb_add(e,"/SummaryInformation",y1(r,zd.SI,d,d1)),(n.length||h.length)&&_t.utils.cfb_add(e,"/DocumentSummaryInformation",y1(n,zd.DSI,c,h1,h.length?h:null,zd.UDI))}function NP(t,e){var n=e||{},r=_t.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return _t.utils.cfb_add(r,s,yE(t,n)),n.biff==8&&(t.Props||t.Custprops)&&RP(t,r),n.biff==8&&t.vbaraw&&YO(r,_t.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var IP={0:{f:Ok},1:{f:Gk},2:{f:oL},3:{f:Wk},4:{f:$k},5:{f:rL},6:{f:hL},7:{f:Zk},8:{f:_L},9:{f:yL},10:{f:gL},11:{f:vL},12:{f:qk},13:{f:uL},14:{f:Qk},15:{f:Yk},16:{f:sL},17:{f:pL},18:{f:tL},19:{f:ep},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:iP},40:{},42:{},43:{f:hO},44:{f:cO},45:{f:mO},46:{f:vO},47:{f:gO},48:{},49:{f:qD},50:{},51:{f:OO},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zM},62:{f:fL},63:{f:BO},64:{f:LL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:DL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Bk},148:{f:Pk,p:16},151:{f:AL},152:{},153:{f:nP},154:{},155:{},156:{f:eP},157:{},158:{},159:{T:1,f:eO},160:{T:-1},161:{T:1,f:Fs},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:TL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DO},336:{T:-1},337:{f:PO,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:y0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CL},427:{f:bL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Fk},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:SL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:y0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zO},633:{T:1},634:{T:-1},635:{T:1,f:VO},636:{T:-1},637:{f:YD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:PL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ce(t,e,n,r){var s=e;if(!isNaN(s)){var o=r||(n||[]).length||0,l=t.next(4);l.write_shift(2,s),l.write_shift(2,o),o>0&&Q0(n)&&t.push(n)}}function DP(t,e,n,r){var s=(n||[]).length||0;if(s<=8224)return Ce(t,e,n,s);var o=e;if(!isNaN(o)){for(var l=n.parts||[],c=0,d=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var m=t.next(4);for(m.write_shift(2,o),m.write_shift(2,h),t.push(n.slice(d,d+h)),d+=h;d<s;){for(m=t.next(4),m.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;m.write_shift(2,h),t.push(n.slice(d,d+h)),d+=h}}}function Ul(t,e,n){return t||(t=he(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function MP(t,e,n,r){var s=he(9);return Ul(s,t,e),qx(n,r||"b",s),s}function OP(t,e,n){var r=he(8+2*n.length);return Ul(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kP(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Pn(Cn(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Ce(t,2,KM(n,r,s)):Ce(t,3,YM(n,r,s));return;case"b":case"e":Ce(t,5,MP(n,r,e.v,e.t));return;case"s":case"str":Ce(t,4,OP(n,r,(e.v||"").slice(0,255)));return}Ce(t,1,Ul(null,n,r))}function LP(t,e,n,r){var s=Array.isArray(e),o=bt(e["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=zt(o)}for(var h=o.s.r;h<=o.e.r;++h){c=hn(h);for(var m=o.s.c;m<=o.e.c;++m){h===o.s.r&&(d[m]=yn(m)),l=d[m]+c;var _=s?(e[h]||[])[m]:e[l];_&&kP(t,_,h,m)}}}function PP(t,e){for(var n=e||{},r=Ln(),s=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(s=o);if(s==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ce(r,n.biff==4?1033:n.biff==3?521:9,rp(t,16,n)),LP(r,t.Sheets[t.SheetNames[s]],s,n),Ce(r,10),r.end()}function UP(t,e,n){Ce(t,49,IM({sz:12,name:"Arial"},n))}function FP(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Ce(t,1054,OM(s,e[s],n))})}function BP(t,e){var n=he(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ce(t,2151,n),n=he(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Jx(bt(e["!ref"]||"A1"),n),n.write_shift(4,4),Ce(t,2152,n)}function HP(t,e){for(var n=0;n<16;++n)Ce(t,224,T1({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ce(t,224,T1(r,0,e))})}function GP(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ce(t,440,GM(r)),r[1].Tooltip&&Ce(t,2048,VM(r))}delete e["!links"]}function VP(t,e){if(e){var n=0;e.forEach(function(r,s){++n<=256&&r&&Ce(t,125,$M(pf(s,r),s))})}}function qP(t,e,n,r,s){var o=16+Zi(s.cellXfs,e,s);if(e.v==null&&!e.bf){Ce(t,513,Ds(n,r,o));return}if(e.bf)Ce(t,6,dk(e,n,r,s,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?Pn(Cn(e.v)):e.v;Ce(t,515,UM(n,r,l,o));break;case"b":case"e":Ce(t,517,PM(n,r,e.v,o,s,e.t));break;case"s":case"str":if(s.bookSST){var c=lp(s.Strings,e.v,s.revStrings);Ce(t,253,DM(n,r,c,o))}else Ce(t,516,MM(n,r,(e.v||"").slice(0,255),o,s));break;default:Ce(t,513,Ds(n,r,o))}}function zP(t,e,n){var r=Ln(),s=n.SheetNames[t],o=n.Sheets[s]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),h=e.biff==8,m,_="",y=[],x=bt(o["!ref"]||"A1"),S=h?65536:16384;if(x.e.c>255||x.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,S-1)}Ce(r,2057,rp(n,16,e)),Ce(r,13,pr(1)),Ce(r,12,pr(100)),Ce(r,15,An(!0)),Ce(r,17,An(!1)),Ce(r,16,Is(.001)),Ce(r,95,An(!0)),Ce(r,42,An(!1)),Ce(r,43,An(!1)),Ce(r,130,pr(1)),Ce(r,128,LM()),Ce(r,131,An(!1)),Ce(r,132,An(!1)),h&&VP(r,o["!cols"]),Ce(r,512,kM(x,e)),h&&(o["!links"]=[]);for(var E=x.s.r;E<=x.e.r;++E){_=hn(E);for(var w=x.s.c;w<=x.e.c;++w){E===x.s.r&&(y[w]=yn(w)),m=y[w]+_;var R=d?(o[E]||[])[w]:o[m];R&&(qP(r,R,E,w,e),h&&R.l&&o["!links"].push([m,R.l]))}}var O=c.CodeName||c.name||s;return h&&Ce(r,574,NM((l.Views||[])[0])),h&&(o["!merges"]||[]).length&&Ce(r,229,HM(o["!merges"])),h&&GP(r,o),Ce(r,442,$x(O)),h&&BP(r,o),Ce(r,10),r.end()}function $P(t,e,n){var r=Ln(),s=(t||{}).Workbook||{},o=s.Sheets||[],l=s.WBProps||{},c=n.biff==8,d=n.biff==5;if(Ce(r,2057,rp(t,5,n)),n.bookType=="xla"&&Ce(r,135),Ce(r,225,c?pr(1200):null),Ce(r,193,gM(2)),d&&Ce(r,191),d&&Ce(r,192),Ce(r,226),Ce(r,92,AM("SheetJS",n)),Ce(r,66,pr(c?1200:1252)),c&&Ce(r,353,pr(0)),c&&Ce(r,448),Ce(r,317,JM(t.SheetNames.length)),c&&t.vbaraw&&Ce(r,211),c&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";Ce(r,442,$x(h))}Ce(r,156,pr(17)),Ce(r,25,An(!1)),Ce(r,18,An(!1)),Ce(r,19,pr(0)),c&&Ce(r,431,An(!1)),c&&Ce(r,444,pr(0)),Ce(r,61,RM()),Ce(r,64,An(!1)),Ce(r,141,pr(0)),Ce(r,34,An(XL(t)=="true")),Ce(r,14,An(!0)),c&&Ce(r,439,An(!1)),Ce(r,218,pr(0)),UP(r,t,n),FP(r,t.SSF,n),HP(r,n),c&&Ce(r,352,An(!1));var m=r.end(),_=Ln();c&&Ce(_,140,qM()),c&&n.Strings&&DP(_,252,bM(n.Strings)),Ce(_,10);var y=_.end(),x=Ln(),S=0,E=0;for(E=0;E<t.SheetNames.length;++E)S+=(c?12:11)+(c?2:1)*t.SheetNames[E].length;var w=m.length+S+y.length;for(E=0;E<t.SheetNames.length;++E){var R=o[E]||{};Ce(x,133,CM({pos:w,hs:R.Hidden||0,dt:0,name:t.SheetNames[E]},n)),w+=e[E].length}var O=x.end();if(S!=O.length)throw new Error("BS8 "+S+" != "+O.length);var N=[];return m.length&&N.push(m),O.length&&N.push(O),y.length&&N.push(y),cn(N)}function JP(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Un(Lt)),t&&t.SSF&&(uf(),lf(t.SSF),n.revssf=cf(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,up(n),n.cellXfs=[],Zi(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=zP(s,n,t);return r.unshift($P(t,r,n)),cn(r)}function yE(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var s=Zn(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return JP(t,e);case 4:case 3:case 2:return PP(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function YP(t,e,n,r){for(var s=t["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>n||s[h].s.c>l)&&!(s[h].e.r<n||s[h].e.c<l)){if(s[h].s.r<n||s[h].s.c<l){c=-1;break}c=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(c<0)){var m=mt({r:n,c:l}),_=r.dense?(t[n]||[])[l]:t[m],y=_&&_.v!=null&&(_.h||wD(_.w||(di(_),_.w)||""))||"",x={};c>1&&(x.rowspan=c),d>1&&(x.colspan=d),r.editable?y='<span contenteditable="true">'+y+"</span>":_&&(x["data-t"]=_&&_.t||"z",_.v!=null&&(x["data-v"]=_.v),_.z!=null&&(x["data-z"]=_.z),_.l&&(_.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+_.l.Target+'">'+y+"</a>")),x.id=(r.id||"sjs")+"-"+m,o.push(Ae("td",y,x))}}var S="<tr>";return S+o.join("")+"</tr>"}var KP='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',WP="</body></html>";function XP(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function _E(t,e){var n=e||{},r=n.header!=null?n.header:KP,s=n.footer!=null?n.footer:WP,o=[r],l=Zn(t["!ref"]);n.dense=Array.isArray(t),o.push(XP(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)o.push(YP(t,l,c,n));return o.push("</table>"+s),o.join("")}function TE(t,e,n){var r=n||{},s=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?jt(r.origin):r.origin;s=l.r,o=l.c}var c=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:s,c:o}};if(t["!ref"]){var m=Zn(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),s==-1&&(h.e.r=s=m.e.r+1)}var _=[],y=0,x=t["!rows"]||(t["!rows"]=[]),S=0,E=0,w=0,R=0,O=0,N=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&E<d;++S){var F=c[S];if(b1(F)){if(r.display)continue;x[E]={hidden:!0}}var V=F.children;for(w=R=0;w<V.length;++w){var ne=V[w];if(!(r.display&&b1(ne))){var U=ne.hasAttribute("data-v")?ne.getAttribute("data-v"):ne.hasAttribute("v")?ne.getAttribute("v"):RD(ne.innerHTML),Z=ne.getAttribute("data-z")||ne.getAttribute("z");for(y=0;y<_.length;++y){var z=_[y];z.s.c==R+o&&z.s.r<E+s&&E+s<=z.e.r&&(R=z.e.c+1-o,y=-1)}N=+ne.getAttribute("colspan")||1,((O=+ne.getAttribute("rowspan")||1)>1||N>1)&&_.push({s:{r:E+s,c:R+o},e:{r:E+s+(O||1)-1,c:R+o+(N||1)-1}});var ae={t:"s",v:U},ce=ne.getAttribute("data-t")||ne.getAttribute("t")||"";U!=null&&(U.length==0?ae.t=ce||"z":r.raw||U.trim().length==0||ce=="s"||(U==="TRUE"?ae={t:"b",v:!0}:U==="FALSE"?ae={t:"b",v:!1}:isNaN(ui(U))?isNaN(Tl(U).getDate())||(ae={t:"d",v:Cn(U)},r.cellDates||(ae={t:"n",v:Pn(ae.v)}),ae.z=r.dateNF||Lt[14]):ae={t:"n",v:ui(U)})),ae.z===void 0&&Z!=null&&(ae.z=Z);var me="",ue=ne.getElementsByTagName("A");if(ue&&ue.length)for(var ye=0;ye<ue.length&&!(ue[ye].hasAttribute("href")&&(me=ue[ye].getAttribute("href"),me.charAt(0)!="#"));++ye);me&&me.charAt(0)!="#"&&(ae.l={Target:me}),r.dense?(t[E+s]||(t[E+s]=[]),t[E+s][R+o]=ae):t[mt({c:R+o,r:E+s})]=ae,h.e.c<R+o&&(h.e.c=R+o),R+=N}}++E}return _.length&&(t["!merges"]=(t["!merges"]||[]).concat(_)),h.e.r=Math.max(h.e.r,E-1+s),t["!ref"]=zt(h),E>=d&&(t["!fullref"]=zt((h.e.r=c.length-S+E-1+s,h))),t}function xE(t,e){var n=e||{},r=n.dense?[]:{};return TE(r,t,e)}function QP(t,e){return ks(xE(t,e),e)}function b1(t){var e="",n=jP(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function jP(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ZP=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+El({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return $t+e}})(),R1=(function(){var t=function(o){return pt(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(o,l,c){var d=[];d.push('      <table:table table:name="'+pt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,m=0,_=Zn(o["!ref"]||"A1"),y=o["!merges"]||[],x=0,S=Array.isArray(o);if(o["!cols"])for(m=0;m<=_.e.c;++m)d.push("        <table:table-column"+(o["!cols"][m]?' table:style-name="co'+o["!cols"][m].ods+'"':"")+`></table:table-column>
`);var E="",w=o["!rows"]||[];for(h=0;h<_.s.r;++h)E=w[h]?' table:style-name="ro'+w[h].ods+'"':"",d.push("        <table:table-row"+E+`></table:table-row>
`);for(;h<=_.e.r;++h){for(E=w[h]?' table:style-name="ro'+w[h].ods+'"':"",d.push("        <table:table-row"+E+`>
`),m=0;m<_.s.c;++m)d.push(e);for(;m<=_.e.c;++m){var R=!1,O={},N="";for(x=0;x!=y.length;++x)if(!(y[x].s.c>m)&&!(y[x].s.r>h)&&!(y[x].e.c<m)&&!(y[x].e.r<h)){(y[x].s.c!=m||y[x].s.r!=h)&&(R=!0),O["table:number-columns-spanned"]=y[x].e.c-y[x].s.c+1,O["table:number-rows-spanned"]=y[x].e.r-y[x].s.r+1;break}if(R){d.push(n);continue}var F=mt({r:h,c:m}),V=S?(o[h]||[])[m]:o[F];if(V&&V.f&&(O["table:formula"]=pt(_k(V.f)),V.F&&V.F.slice(0,F.length)==F)){var ne=Zn(V.F);O["table:number-matrix-columns-spanned"]=ne.e.c-ne.s.c+1,O["table:number-matrix-rows-spanned"]=ne.e.r-ne.s.r+1}if(!V){d.push(e);continue}switch(V.t){case"b":N=V.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=V.v?"true":"false";break;case"n":N=V.w||String(V.v||0),O["office:value-type"]="float",O["office:value"]=V.v||0;break;case"s":case"str":N=V.v==null?"":V.v,O["office:value-type"]="string";break;case"d":N=V.w||Cn(V.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=Cn(V.v).toISOString(),O["table:style-name"]="ce1";break;default:d.push(e);continue}var U=t(N);if(V.l&&V.l.Target){var Z=V.l.Target;Z=Z.charAt(0)=="#"?"#"+Tk(Z.slice(1)):Z,Z.charAt(0)!="#"&&!Z.match(/^\w+:/)&&(Z="../"+Z),U=Ae("text:a",U,{"xlink:href":Z.replace(/&/g,"&amp;")})}d.push("          "+Ae("table:table-cell",Ae("text:p",U,{}),O)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var _=h["!cols"][m];if(_.width==null&&_.wpx==null&&_.wch==null)continue;ip(_),_.ods=c;var y=h["!cols"][m].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=d;var _=h["!rows"][m].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+_+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[$t],h=El({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=El({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+h+m+`>
`),d.push(Px().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var _=0;_!=l.SheetNames.length;++_)d.push(r(l.Sheets[l.SheetNames[_]],l,_));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function EE(t,e){if(e.bookType=="fods")return R1(t,e);var n=Y0(),r="",s=[],o=[];return r="mimetype",We(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",We(n,r,R1(t,e)),s.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",We(n,r,ZP(t,e)),s.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",We(n,r,$t+Px()),s.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",We(n,r,fM(o)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",We(n,r,uM(s)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eU(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Rr(xl(t))}function tU(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Qi(t){var e=t.reduce(function(s,o){return s+o.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function nU(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var o=0;s>=1;++o,s/=256)t[e+o]=s&255;t[e+15]|=n>=0?0:128}function Sl(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function ht(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Wa(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Kt(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=Sl(t,n),o=s&7;s=Math.floor(s/8);var l=0,c;if(s==0)break;switch(o){case 0:{for(var d=n[0];t[n[0]++]>=128;);c=t.slice(d,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=Sl(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(r))}var h={data:c,type:o};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function on(t){var e=[];return t.forEach(function(n,r){n.forEach(function(s){s.data&&(e.push(ht(r*8+s.type)),s.type==2&&e.push(ht(s.data.length)),e.push(s.data))})}),Qi(e)}function Sr(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=Sl(t,r),o=Kt(t.slice(r[0],r[0]+s));r[0]+=s;var l={id:Wa(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=Kt(c.data),h=Wa(d[3][0].data);l.messages.push({meta:d,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(e=o[3])!=null&&e[0]&&(l.merge=Wa(o[3][0].data)>>>0>0),n.push(l)}return n}function Ca(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:ht(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:ht(+!!n.merge),type:0}]);var s=[];n.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:ht(l.data.length)}],r[2].push({data:on(l.meta),type:2})});var o=on(r);e.push(ht(o.length)),e.push(o),s.forEach(function(l){return e.push(l)})}),Qi(e)}function rU(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Sl(e,n),s=[];n[0]<e.length;){var o=e[n[0]]&3;if(o==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}s.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,h=0;if(o==1?(h=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(h=(e[n[0]++]>>2)+1,o==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[Qi(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var m=Qi(s);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function wr(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(rU(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Qi(e)}function ba(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),s=new Uint8Array(4);e.push(s);var o=ht(r),l=o.length;e.push(o),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),l+=r,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,n+=r}return Qi(e)}function $d(t,e){var n=new Uint8Array(32),r=Kc(n),s=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,nU(n,s,t.v),o|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,t.v?1:0,!0),o|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(s,e.indexOf(t.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,o,!0),n.slice(0,s)}function Jd(t,e){var n=new Uint8Array(32),r=Kc(n),s=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(s,t.v,!0),o|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,t.v?1:0,!0),o|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(s,e.indexOf(t.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,o,!0),n.slice(0,s)}function qi(t){var e=Kt(t);return Sl(e[1][0].data)}function iU(t,e,n){var r,s,o,l;if(!((r=t[6])!=null&&r[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Wa(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,h=Kc(t[7][0].data),m=0,_=[],y=Kc(t[4][0].data),x=0,S=[],E=0;E<e.length;++E){if(e[E]==null){h.setUint16(E*2,65535,!0),y.setUint16(E*2,65535);continue}h.setUint16(E*2,m,!0),y.setUint16(E*2,x,!0);var w,R;switch(typeof e[E]){case"string":w=$d({t:"s",v:e[E]},n),R=Jd({t:"s",v:e[E]},n);break;case"number":w=$d({t:"n",v:e[E]},n),R=Jd({t:"n",v:e[E]},n);break;case"boolean":w=$d({t:"b",v:e[E]},n),R=Jd({t:"b",v:e[E]},n);break;default:throw new Error("Unsupported value "+e[E])}_.push(w),m+=w.length,S.push(R),x+=R.length,++d}for(t[2][0].data=ht(d);E<t[7][0].data.length/2;++E)h.setUint16(E*2,65535,!0),y.setUint16(E*2,65535,!0);return t[6][0].data=Qi(_),t[3][0].data=Qi(S),d}function sU(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Zn(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(zt(r)));var o=Wc(n,{range:r,header:1}),l=["~Sh33tJ5~"];o.forEach(function(q){return q.forEach(function(B){typeof B=="string"&&l.push(B)})});var c={},d=[],h=_t.read(e.numbers,{type:"base64"});h.FileIndex.map(function(q,B){return[q,h.FullPaths[B]]}).forEach(function(q){var B=q[0],G=q[1];if(B.type==2&&B.name.match(/\.iwa/)){var oe=B.content,Se=wr(oe),Oe=Sr(Se);Oe.forEach(function(Re){d.push(Re.id),c[Re.id]={deps:[],location:G,type:Wa(Re.messages[0].meta[1][0].data)}})}}),d.sort(function(q,B){return q-B});var m=d.filter(function(q){return q>1}).map(function(q){return[q,ht(q)]});h.FileIndex.map(function(q,B){return[q,h.FullPaths[B]]}).forEach(function(q){var B=q[0];if(q[1],!!B.name.match(/\.iwa/)){var G=Sr(wr(B.content));G.forEach(function(oe){oe.messages.forEach(function(Se){m.forEach(function(Oe){oe.messages.some(function(Re){return Wa(Re.meta[1][0].data)!=11006&&tU(Re.data,Oe[1])})&&c[Oe[0]].deps.push(oe.id)})})})}});for(var _=_t.find(h,c[1].location),y=Sr(wr(_.content)),x,S=0;S<y.length;++S){var E=y[S];E.id==1&&(x=E)}var w=qi(Kt(x.messages[0].data)[1][0].data);for(_=_t.find(h,c[w].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==w&&(x=E);for(w=qi(Kt(x.messages[0].data)[2][0].data),_=_t.find(h,c[w].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==w&&(x=E);for(w=qi(Kt(x.messages[0].data)[2][0].data),_=_t.find(h,c[w].location),y=Sr(wr(_.content)),S=0;S<y.length;++S)E=y[S],E.id==w&&(x=E);var R=Kt(x.messages[0].data);{R[6][0].data=ht(r.e.r+1),R[7][0].data=ht(r.e.c+1);var O=qi(R[46][0].data),N=_t.find(h,c[O].location),F=Sr(wr(N.content));{for(var V=0;V<F.length&&F[V].id!=O;++V);if(F[V].id!=O)throw"Bad ColumnRowUIDMapArchive";var ne=Kt(F[V].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var U=0;U<=r.e.c;++U){var Z=[];Z[1]=Z[2]=[{type:0,data:ht(U+420690)}],ne[1].push({type:2,data:on(Z)}),ne[2].push({type:0,data:ht(U)}),ne[3].push({type:0,data:ht(U)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var z=0;z<=r.e.r;++z)Z=[],Z[1]=Z[2]=[{type:0,data:ht(z+726270)}],ne[4].push({type:2,data:on(Z)}),ne[5].push({type:0,data:ht(z)}),ne[6].push({type:0,data:ht(z)});F[V].messages[0].data=on(ne)}N.content=ba(Ca(F)),N.size=N.content.length,delete R[46];var ae=Kt(R[4][0].data);{ae[7][0].data=ht(r.e.r+1);var ce=Kt(ae[1][0].data),me=qi(ce[2][0].data);N=_t.find(h,c[me].location),F=Sr(wr(N.content));{if(F[0].id!=me)throw"Bad HeaderStorageBucket";var ue=Kt(F[0].messages[0].data);for(z=0;z<o.length;++z){var ye=Kt(ue[2][0].data);ye[1][0].data=ht(z),ye[4][0].data=ht(o[z].length),ue[2][z]={type:ue[2][0].type,data:on(ye)}}F[0].messages[0].data=on(ue)}N.content=ba(Ca(F)),N.size=N.content.length;var Ee=qi(ae[2][0].data);N=_t.find(h,c[Ee].location),F=Sr(wr(N.content));{if(F[0].id!=Ee)throw"Bad HeaderStorageBucket";for(ue=Kt(F[0].messages[0].data),U=0;U<=r.e.c;++U)ye=Kt(ue[2][0].data),ye[1][0].data=ht(U),ye[4][0].data=ht(r.e.r+1),ue[2][U]={type:ue[2][0].type,data:on(ye)};F[0].messages[0].data=on(ue)}N.content=ba(Ca(F)),N.size=N.content.length;var X=qi(ae[4][0].data);(function(){for(var q=_t.find(h,c[X].location),B=Sr(wr(q.content)),G,oe=0;oe<B.length;++oe){var Se=B[oe];Se.id==X&&(G=Se)}var Oe=Kt(G.messages[0].data);{Oe[3]=[];var Re=[];l.forEach(function(Qe,Wt){Re[1]=[{type:0,data:ht(Wt)}],Re[2]=[{type:0,data:ht(1)}],Re[3]=[{type:2,data:eU(Qe)}],Oe[3].push({type:2,data:on(Re)})})}G.messages[0].data=on(Oe);var Ne=Ca(B),rt=ba(Ne);q.content=rt,q.size=q.content.length})();var fe=Kt(ae[3][0].data);{var be=fe[1][0];delete fe[2];var ke=Kt(be.data);{var He=qi(ke[2][0].data);(function(){for(var q=_t.find(h,c[He].location),B=Sr(wr(q.content)),G,oe=0;oe<B.length;++oe){var Se=B[oe];Se.id==He&&(G=Se)}var Oe=Kt(G.messages[0].data);{delete Oe[6],delete fe[7];var Re=new Uint8Array(Oe[5][0].data);Oe[5]=[];for(var Ne=0,rt=0;rt<=r.e.r;++rt){var Qe=Kt(Re);Ne+=iU(Qe,o[rt],l),Qe[1][0].data=ht(rt),Oe[5].push({data:on(Qe),type:2})}Oe[1]=[{type:0,data:ht(r.e.c+1)}],Oe[2]=[{type:0,data:ht(r.e.r+1)}],Oe[3]=[{type:0,data:ht(Ne)}],Oe[4]=[{type:0,data:ht(r.e.r+1)}]}G.messages[0].data=on(Oe);var Wt=Ca(B),Xe=ba(Wt);q.content=Xe,q.size=q.content.length})()}be.data=on(ke)}ae[3][0].data=on(fe)}R[4][0].data=on(ae)}x.messages[0].data=on(R);var J=Ca(y),I=ba(J);return _.content=I,_.size=_.content.length,h}function aU(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function up(t){aU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function oU(t,e){return e.bookType=="ods"?EE(t,e):e.bookType=="numbers"?sU(t,e):e.bookType=="xlsb"?lU(t,e):uU(t,e)}function lU(t,e){Va=1024,t&&!t.SSF&&(t.SSF=Un(Lt)),t&&t.SSF&&(uf(),lf(t.SSF),e.revssf=cf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,pl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=iE.indexOf(e.bookType)>-1,s=Ox();up(e=e||{});var o=Y0(),l="",c=0;if(e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",We(o,l,Ux(t.Props,e)),s.coreprops.push(l),dt(e.rels,2,l,at.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,We(o,l,Bx(t.Props)),s.extprops.push(l),dt(e.rels,3,l,at.EXT_PROPS),t.Custprops!==t.Props&&dn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",We(o,l,Hx(t.Custprops)),s.custprops.push(l),dt(e.rels,4,l,at.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},_=t.Sheets[t.SheetNames[c-1]],y=(_||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,We(o,l,fP(c-1,l,e,t,m)),s.sheets.push(l),dt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,at.WS[0])}if(_){var x=_["!comments"],S=!1,E="";x&&x.length>0&&(E="xl/comments"+c+"."+n,We(o,E,pP(x,E)),s.comments.push(E),dt(m,-1,"../comments"+c+"."+n,at.CMNT),S=!0),_["!legacy"]&&S&&We(o,"xl/drawings/vmlDrawing"+c+".vml",nE(c,_["!comments"])),delete _["!comments"],delete _["!legacy"]}m["!id"].rId1&&We(o,Lx(l),Ya(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,We(o,l,dP(e.Strings,l,e)),s.strs.push(l),dt(e.wbrels,-1,"sharedStrings."+n,at.SST)),l="xl/workbook."+n,We(o,l,cP(t,l)),s.workbooks.push(l),dt(e.rels,1,l,at.WB),l="xl/theme/theme1.xml",We(o,l,eE(t.Themes,e)),s.themes.push(l),dt(e.wbrels,-1,"theme/theme1.xml",at.THEME),l="xl/styles."+n,We(o,l,hP(t,l,e)),s.styles.push(l),dt(e.wbrels,-1,"styles."+n,at.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",We(o,l,t.vbaraw),s.vba.push(l),dt(e.wbrels,-1,"vbaProject.bin",at.VBA)),l="xl/metadata."+n,We(o,l,mP(l)),s.metadata.push(l),dt(e.wbrels,-1,"metadata."+n,at.XLMETA),We(o,"[Content_Types].xml",kx(s,e)),We(o,"_rels/.rels",Ya(e.rels)),We(o,"xl/_rels/workbook."+n+".rels",Ya(e.wbrels)),delete e.revssf,delete e.ssf,o}function uU(t,e){Va=1024,t&&!t.SSF&&(t.SSF=Un(Lt)),t&&t.SSF&&(uf(),lf(t.SSF),e.revssf=cf(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,pl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=iE.indexOf(e.bookType)>-1,s=Ox();up(e=e||{});var o=Y0(),l="",c=0;if(e.cellXfs=[],Zi(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",We(o,l,Ux(t.Props,e)),s.coreprops.push(l),dt(e.rels,2,l,at.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,We(o,l,Bx(t.Props)),s.extprops.push(l),dt(e.rels,3,l,at.EXT_PROPS),t.Custprops!==t.Props&&dn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",We(o,l,Hx(t.Custprops)),s.custprops.push(l),dt(e.rels,4,l,at.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var _={"!id":{}},y=t.Sheets[t.SheetNames[c-1]],x=(y||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,We(o,l,dE(c-1,e,t,_)),s.sheets.push(l),dt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,at.WS[0])}if(y){var S=y["!comments"],E=!1,w="";if(S&&S.length>0){var R=!1;S.forEach(function(O){O[1].forEach(function(N){N.T==!0&&(R=!0)})}),R&&(w="xl/threadedComments/threadedComment"+c+"."+n,We(o,w,HO(S,m,e)),s.threadedcomments.push(w),dt(_,-1,"../threadedComments/threadedComment"+c+"."+n,at.TCMNT)),w="xl/comments"+c+"."+n,We(o,w,rE(S)),s.comments.push(w),dt(_,-1,"../comments"+c+"."+n,at.CMNT),E=!0}y["!legacy"]&&E&&We(o,"xl/drawings/vmlDrawing"+c+".vml",nE(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}_["!id"].rId1&&We(o,Lx(l),Ya(_))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,We(o,l,Kx(e.Strings,e)),s.strs.push(l),dt(e.wbrels,-1,"sharedStrings."+n,at.SST)),l="xl/workbook."+n,We(o,l,gE(t)),s.workbooks.push(l),dt(e.rels,1,l,at.WB),l="xl/theme/theme1.xml",We(o,l,eE(t.Themes,e)),s.themes.push(l),dt(e.wbrels,-1,"theme/theme1.xml",at.THEME),l="xl/styles."+n,We(o,l,jx(t,e)),s.styles.push(l),dt(e.wbrels,-1,"styles."+n,at.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",We(o,l,t.vbaraw),s.vba.push(l),dt(e.wbrels,-1,"vbaProject.bin",at.VBA)),l="xl/metadata."+n,We(o,l,tE()),s.metadata.push(l),dt(e.wbrels,-1,"metadata."+n,at.XLMETA),m.length>1&&(l="xl/persons/person.xml",We(o,l,GO(m)),s.people.push(l),dt(e.wbrels,-1,"persons/person.xml",at.PEOPLE)),We(o,"[Content_Types].xml",kx(s,e)),We(o,"_rels/.rels",Ya(e.rels)),We(o,"xl/_rels/workbook."+n+".rels",Ya(e.wbrels)),delete e.revssf,delete e.ssf,o}function cU(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=hi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function SE(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ol(e.file,_t.write(t,{type:ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return _t.write(t,e)}function fU(t,e){var n=Un(e||{}),r=oU(t,n);return hU(r,n)}function hU(t,e){var n={},r=ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?_t.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(of(s))}return e.password&&typeof encrypt_agile<"u"?SE(encrypt_agile(s,e.password),e):e.type==="file"?Ol(e.file,s):e.type=="string"?cl(s):s}function dU(t,e){var n=e||{},r=NP(t,n);return SE(r,n)}function Gr(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return _l(xl(r));case"binary":return xl(r);case"string":return t;case"file":return Ol(e.file,r,"utf8");case"buffer":return ut?gi(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Gr(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function pU(t,e){switch(e.type){case"base64":return _l(t);case"binary":return t;case"string":return t;case"file":return Ol(e.file,t,"binary");case"buffer":return ut?gi(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function gc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?_l(n):e.type=="string"?cl(n):n;case"file":return Ol(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function wE(t,e){V4(),ZL(t);var n=Un(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=wE(t,n);return n.type="array",of(r)}var s=0;if(n.sheet&&(typeof n.sheet=="number"?s=n.sheet:s=t.SheetNames.indexOf(n.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Gr(bP(t,n),n);case"slk":case"sylk":return Gr(XM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"htm":case"html":return Gr(_E(t.Sheets[t.SheetNames[s]],n),n);case"txt":return pU(AE(t.Sheets[t.SheetNames[s]],n),n);case"csv":return Gr(cp(t.Sheets[t.SheetNames[s]],n),n,"\uFEFF");case"dif":return Gr(QM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"dbf":return gc(WM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"prn":return Gr(jM.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"rtf":return Gr(sO.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"eth":return Gr(Yx.from_sheet(t.Sheets[t.SheetNames[s]],n),n);case"fods":return Gr(EE(t,n),n);case"wk1":return gc(x1.sheet_to_wk1(t.Sheets[t.SheetNames[s]],n),n);case"wk3":return gc(x1.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),gc(yE(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),dU(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fU(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function mU(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function gU(t,e,n){var r={};return r.type="file",r.file=e,mU(r),wE(t,r)}function vU(t,e,n,r,s,o,l,c){var d=hn(n),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),_=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:n,enumerable:!1})}catch{y.__rowNum__=n}else y.__rowNum__=n;if(!l||t[n])for(var x=e.s.c;x<=e.e.c;++x){var S=l?t[n][x]:t[r[x]+d];if(S===void 0||S.t===void 0){if(h===void 0)continue;o[x]!=null&&(y[o[x]]=h);continue}var E=S.v;switch(S.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[x]!=null){if(E==null)if(S.t=="e"&&E===null)y[o[x]]=null;else if(h!==void 0)y[o[x]]=h;else if(m&&E===null)y[o[x]]=null;else continue;else y[o[x]]=m&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?E:di(S,E,c);E!=null&&(_=!1)}}return{row:y,isempty:_}}function Wc(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":d=bt(m);break;case"number":d=bt(t["!ref"]),d.s.r=m;break;default:d=m}r>0&&(s=0);var _=hn(d.s.r),y=[],x=[],S=0,E=0,w=Array.isArray(t),R=d.s.r,O=0,N={};w&&!t[R]&&(t[R]=[]);var F=h.skipHidden&&t["!cols"]||[],V=h.skipHidden&&t["!rows"]||[];for(O=d.s.c;O<=d.e.c;++O)if(!(F[O]||{}).hidden)switch(y[O]=yn(O),n=w?t[R][O]:t[y[O]+_],r){case 1:o[O]=O-d.s.c;break;case 2:o[O]=y[O];break;case 3:o[O]=h.header[O-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=di(n,null,h),E=N[l]||0,!E)N[l]=1;else{do c=l+"_"+E++;while(N[c]);N[l]=E,N[c]=1}o[O]=c}for(R=d.s.r+s;R<=d.e.r;++R)if(!(V[R]||{}).hidden){var ne=vU(t,d,R,y,r,o,w,h);(ne.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(x[S++]=ne.row)}return x.length=S,x}var N1=/"/g;function yU(t,e,n,r,s,o,l,c){for(var d=!0,h=[],m="",_=hn(n),y=e.s.c;y<=e.e.c;++y)if(r[y]){var x=c.dense?(t[n]||[])[y]:t[r[y]+_];if(x==null)m="";else if(x.v!=null){d=!1,m=""+(c.rawNumbers&&x.t=="n"?x.v:di(x,null,c));for(var S=0,E=0;S!==m.length;++S)if((E=m.charCodeAt(S))===s||E===o||E===34||c.forceQuotes){m='"'+m.replace(N1,'""')+'"';break}m=="ID"&&(m='"ID"')}else x.f!=null&&!x.F?(d=!1,m="="+x.f,m.indexOf(",")>=0&&(m='"'+m.replace(N1,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&d?null:h.join(l)}function cp(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=bt(t["!ref"]),o=r.FS!==void 0?r.FS:",",l=o.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),m="",_=[];r.dense=Array.isArray(t);for(var y=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(y[S]||{}).hidden||(_[S]=yn(S));for(var E=0,w=s.s.r;w<=s.e.r;++w)(x[w]||{}).hidden||(m=yU(t,s,w,_,l,d,o,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&n.push((E++?c:"")+m)));return delete r.dense,n.join("")}function AE(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=cp(t,e);return n}function _U(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=bt(t["!ref"]),o="",l=[],c,d=[],h=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)l[c]=yn(c);for(var m=s.s.r;m<=s.e.r;++m)for(o=hn(m),c=s.s.c;c<=s.e.c;++c)if(e=l[c]+o,n=h?(t[m]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function CE(t,e,n){var r=n||{},s=+!r.skipHeader,o=t||{},l=0,c=0;if(o&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?jt(r.origin):r.origin;l=d.r,c=d.c}var h,m={s:{c:0,r:0},e:{c,r:l+e.length-1+s}};if(o["!ref"]){var _=bt(o["!ref"]);m.e.c=Math.max(m.e.c,_.e.c),m.e.r=Math.max(m.e.r,_.e.r),l==-1&&(l=_.e.r+1,m.e.r=l+e.length-1+s)}else l==-1&&(l=0,m.e.r=e.length-1+s);var y=r.header||[],x=0;e.forEach(function(E,w){dn(E).forEach(function(R){(x=y.indexOf(R))==-1&&(y[x=y.length]=R);var O=E[R],N="z",F="",V=mt({c:c+x,r:l+w+s});h=wl(o,V),O&&typeof O=="object"&&!(O instanceof Date)?o[V]=O:(typeof O=="number"?N="n":typeof O=="boolean"?N="b":typeof O=="string"?N="s":O instanceof Date?(N="d",r.cellDates||(N="n",O=Pn(O)),F=r.dateNF||Lt[14]):O===null&&r.nullError&&(N="e",O=0),h?(h.t=N,h.v=O,delete h.w,delete h.R,F&&(h.z=F)):o[V]=h={t:N,v:O},F&&(h.z=F))})}),m.e.c=Math.max(m.e.c,c+y.length-1);var S=hn(l);if(s)for(x=0;x<y.length;++x)o[yn(x+c)+S]={t:"s",v:y[x]};return o["!ref"]=zt(m),o}function TU(t,e){return CE(null,t,e)}function wl(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=jt(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?wl(t,mt(e)):wl(t,mt({r:e,c:n||0}))}function xU(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function EU(){return{SheetNames:[],Sheets:{}}}function SU(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var l=o&&o[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=l+s)!=-1;++s);}if(mE(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function wU(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=xU(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function AU(t,e){return t.z=e,t}function bE(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function CU(t,e,n){return bE(t,"#"+e,n)}function bU(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function RU(t,e,n,r){for(var s=typeof e!="string"?e:bt(e),o=typeof e=="string"?e:zt(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var d=wl(t,l,c);d.t="n",d.F=o,delete d.v,l==s.s.r&&c==s.s.c&&(d.f=n,r&&(d.D=!0))}return t}var Yd={encode_col:yn,encode_row:hn,encode_cell:mt,encode_range:zt,decode_col:Z0,decode_row:j0,split_cell:VD,decode_cell:jt,decode_range:Zn,format_cell:di,sheet_add_aoa:bx,sheet_add_json:CE,sheet_add_dom:TE,aoa_to_sheet:no,json_to_sheet:TU,table_to_sheet:xE,table_to_book:QP,sheet_to_csv:cp,sheet_to_txt:AE,sheet_to_json:Wc,sheet_to_html:_E,sheet_to_formulae:_U,sheet_to_row_object_array:Wc,sheet_get_cell:wl,book_new:EU,book_append_sheet:SU,book_set_sheet_visibility:wU,cell_set_number_format:AU,cell_set_hyperlink:bE,cell_set_internal_link:CU,cell_add_comment:bU,sheet_set_array_formula:RU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const NU=t=>{try{if(!t||t.length===0){console.warn("  ."),alert("  .");return}const e=t.map(l=>({:l.name,:l.locationPath,:l.category,:l.notes.join(", ")," ":new Date(l.updatedAt).toLocaleString("ko-KR")})),n=Yd.json_to_sheet(e),r=[{wch:20},{wch:30},{wch:15},{wch:40},{wch:25}];n["!cols"]=r;const s=Yd.book_new();Yd.book_append_sheet(s,n,"  ");const o=new Date().toISOString().slice(0,10);gU(s,`MemoryWhisp_Items_${o}.xlsx`),console.log("[Success]    ")}catch(e){console.error("    :",e),alert("     .")}},I1={exportToJson:t=>{const e={...t,exportedAt:new Date().toISOString()},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`whereisit_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),console.log("  :",e.exportedAt)},validateAndSanitize:t=>{try{if(!t||typeof t!="object"||!Array.isArray(t.items))return null;const e=t.items.map(s=>({id:s.id||Date.now().toString()+Math.random(),name:s.name||" ",locationPath:s.locationPath||" ",category:s.category||"",imageUrls:Array.isArray(s.imageUrls)?s.imageUrls:[],notes:Array.isArray(s.notes)?s.notes:[],updatedAt:typeof s.updatedAt=="number"?s.updatedAt:Date.now()})),n=t.config||{},r={locTypes:Array.isArray(n.locTypes)?n.locTypes:[],homeLocs:Array.isArray(n.homeLocs)?n.homeLocs:[],officeLocs:Array.isArray(n.officeLocs)?n.officeLocs:[],digitalLocs:Array.isArray(n.digitalLocs)?n.digitalLocs:[],categories:Array.isArray(n.categories)?n.categories:[]};return{items:e,config:r,version:t.version||1,exportedAt:t.exportedAt||new Date().toISOString()}}catch(e){return console.error("    :",e),null}}};function mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IU(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(m){try{h(r.next(m))}catch(_){l(_)}}function d(m){try{h(r.throw(m))}catch(_){l(_)}}function h(m){m.done?o(m.value):s(m.value).then(c,d)}h((r=r.apply(t,e||[])).next())})}const DU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class MU extends fp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class D1 extends fp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class M1 extends fp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var T0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(T0||(T0={}));class OU{constructor(e,{headers:n={},customFetch:r,region:s=T0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=DU(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return IU(this,arguments,void 0,function*(n,r={}){var s;let o,l;try{const{headers:c,method:d,body:h,signal:m,timeout:_}=r;let y={},{region:x}=r;x||(x=this.region);const S=new URL(`${this.url}/${n}`);x&&x!=="any"&&(y["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let E;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=h):typeof h=="string"?(y["Content-Type"]="text/plain",E=h):typeof FormData<"u"&&h instanceof FormData?E=h:(y["Content-Type"]="application/json",E=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?E=JSON.stringify(h):E=h;let w=m;_&&(l=new AbortController,o=setTimeout(()=>l.abort(),_),m?(w=l.signal,m.addEventListener("abort",()=>l.abort())):w=l.signal);const R=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:E,signal:w}).catch(V=>{throw new MU(V)}),O=R.headers.get("x-relay-error");if(O&&O==="true")throw new D1(R);if(!R.ok)throw new M1(R);let N=((s=R.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),F;return N==="application/json"?F=yield R.json():N==="application/octet-stream"||N==="application/pdf"?F=yield R.blob():N==="text/event-stream"?F=R:N==="multipart/form-data"?F=yield R.formData():F=yield R.text(),{data:F,error:null,response:R}}catch(c){return{data:null,error:c,response:c instanceof M1||c instanceof D1?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var kU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},LU=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,h=o.status,m=o.statusText;if(o.ok){var _,y;if(n.method!=="HEAD"){var x;const R=await o.text();R===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?c=R:c=JSON.parse(R))}const E=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),w=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");E&&w&&w.length>1&&(d=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(c=[],l=null,h=200,m="OK")}catch{o.status===404&&E===""?(h=204,m="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&n.shouldThrowOnError)throw new kU(l)}return{error:l,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let c="",d="",h="";const m=o==null?void 0:o.cause;if(m){var _,y,x,S;const R=(_=m==null?void 0:m.message)!==null&&_!==void 0?_:"",O=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";c=`${(x=o==null?void 0:o.name)!==null&&x!==void 0?x:"FetchError"}: ${o==null?void 0:o.message}`,c+=`

Caused by: ${(S=m==null?void 0:m.name)!==null&&S!==void 0?S:"Error"}: ${R}`,O&&(c+=` (${O})`),m!=null&&m.stack&&(c+=`
${m.stack}`)}else{var E;c=(E=o==null?void 0:o.stack)!==null&&E!==void 0?E:""}const w=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((m==null?void 0:m.name)==="HeadersOverflowError"||(m==null?void 0:m.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(d+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:c,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},PU=class extends LU{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const O1=new RegExp("[,()]");var Pa=class extends PU{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&O1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&O1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},UU=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Pa({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new Pa({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((m,_)=>m.concat(Object.keys(_)),[]);if(h.length>0){const m=[...new Set(h)].map(_=>`"${_}"`);c.searchParams.set("columns",m.join(","))}}return new Pa({method:l,url:c,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Pa({method:r,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Pa({method:n,url:r,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function FU(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BU(t){var e=FU(t,"string");return Al(e)=="symbol"?e:e+""}function HU(t,e,n){return(e=BU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){HU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var GU=class RE{constructor(e,{headers:n={},schema:r,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const m=new AbortController,_=setTimeout(()=>m.abort(),o),y=h==null?void 0:h.signal;if(y){if(y.aborted)return clearTimeout(_),c(d,h);const x=()=>{clearTimeout(_),m.abort()};return y.addEventListener("abort",x,{once:!0}),c(d,vc(vc({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(_),y.removeEventListener("abort",x)})}return c(d,vc(vc({},h),{},{signal:m.signal})).finally(()=>clearTimeout(_))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new UU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new RE(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let h;const m=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(m)),_=r&&Object.values(n).some(m);_?(c="POST",h=n):r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{d.searchParams.append(x,S)})):(c="POST",h=n);const y=new Headers(this.headers);return _?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new Pa({method:c,url:d,headers:y,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class VU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qU="2.95.3",zU=`realtime-js/${qU}`,$U="1.0.0",NE="2.0.0",L1=NE,x0=1e4,JU=1e3,YU=100;var zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zi||(zi={}));var Yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yt||(Yt={}));var br;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(br||(br={}));var E0;(function(t){t.websocket="websocket"})(E0||(E0={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class KU{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,r){var s,o;const l=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(x),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,c.length),S.setUint8(E++,l.length),S.setUint8(E++,h.length),S.setUint8(E++,_.length),S.setUint8(E++,n),Array.from(d,R=>S.setUint8(E++,R.charCodeAt(0))),Array.from(c,R=>S.setUint8(E++,R.charCodeAt(0))),Array.from(l,R=>S.setUint8(E++,R.charCodeAt(0))),Array.from(h,R=>S.setUint8(E++,R.charCodeAt(0))),Array.from(_,R=>S.setUint8(E++,R.charCodeAt(0)));var w=new Uint8Array(x.byteLength+r.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(r),x.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,o,l,c,d]=r;return n({join_ref:s,ref:o,topic:l,event:c,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=r.decode(e.slice(d,d+s));d=d+s;const m=r.decode(e.slice(d,d+o));d=d+o;const _=r.decode(e.slice(d,d+l));d=d+l;const y=e.slice(d,e.byteLength),x=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:m,payload:x};return l>0&&(S.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class IE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const P1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=WU(l,t,e,s),o),{}):{}},WU=(t,e,n,r)=>{const s=e.find(c=>c.name===t),o=s==null?void 0:s.type,l=n[t];return o&&!r.includes(o)?DE(o,l):S0(l)},DE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZU(e,n)}switch(t){case wt.bool:return XU(e);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return QU(e);case wt.json:case wt.jsonb:return jU(e);case wt.timestamp:return eF(e);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return S0(e);default:return S0(e)}},S0=t=>t,XU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},QU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ZU=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>DE(e,c))}return t},eF=t=>typeof t=="string"?t.replace(" ","T"):t,ME=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kd{constructor(e,n,r={},s=x0){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var U1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(U1||(U1={}));class ml{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ml.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ml.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(o,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const _=o[h];if(_){const y=m.map(w=>w.presence_ref),x=_.map(w=>w.presence_ref),S=m.filter(w=>x.indexOf(w.presence_ref)<0),E=_.filter(w=>y.indexOf(w.presence_ref)<0);S.length>0&&(c[h]=S),E.length>0&&(d[h]=E)}else c[h]=m}),this.syncDiff(o,{joins:c,leaves:d},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const m=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),m.length>0){const _=e[c].map(x=>x.presence_ref),y=m.filter(x=>_.indexOf(x.presence_ref)<0);e[c].unshift(...y)}r(c,m,d)}),this.map(l,(c,d)=>{let h=e[c];if(!h)return;const m=d.map(_=>_.presence_ref);h=h.filter(_=>m.indexOf(_.presence_ref)<0),e[c]=h,s(c,h,d),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var F1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(F1||(F1={}));var gl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gl||(gl={}));var oi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class qa{constructor(e,n={config:{}},r){var s,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kd(this,br.join,this.params,this.timeout),this.rejoinTimer=new IE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new ml(this),this.broadcastEndpointURL=ME(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[gl.PRESENCE]&&this.bindings[gl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(oi.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(oi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,R=[];for(let O=0;O<w;O++){const N=E[O],{filter:{event:F,schema:V,table:ne,filter:U}}=N,Z=x&&x[O];if(Z&&Z.event===F&&qa.isFilterValueEqual(Z.schema,V)&&qa.isFilterValueEqual(Z.table,ne)&&qa.isFilterValueEqual(Z.filter,U))R.push(Object.assign(Object.assign({},N),{id:Z.id}));else{this.unsubscribe(),this.state=Yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(oi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Yt.joined&&e===gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kd(this,br.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kd(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YU){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=br;if(r&&[c,d,h,m].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var S,E,w;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(E=x.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(x=>x.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var S,E,w,R,O,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const F=x.id,V=(S=x.filter)===null||S===void 0?void 0:S.event;return F&&((E=n.ids)===null||E===void 0?void 0:E.includes(F))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const F=(O=(R=x==null?void 0:x.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return F==="*"||F===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:E,table:w,commit_timestamp:R,type:O,errors:N}=S;y=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:R,eventType:O,new:{},old:{},errors:N}),this._getPayloadRecords(S))}x.callback(y,r)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&qa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(br.close,{},e)}_onError(e){this._on(br.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=P1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=P1(e.columns,e.old_record)),n}}const Wd=()=>{},yc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tF=[1e3,2e3,5e3,1e4],nF=1e4,rF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=x0,this.transport=null,this.heartbeatIntervalMs=yc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wd,this.ref=0,this.reconnectTimer=null,this.vsn=L1,this.logger=Wd,this.conn=null,this.sendBuffer=[],this.serializer=new KU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${E0.websocket}`,this.httpEndpoint=ME(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zi.connecting:return As.Connecting;case zi.open:return As.Open;case zi.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new qa(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(JU,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zi.open||this.conn.readyState===zi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(br.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:zU};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new IE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,o,l,c,d,h,m,_,y,x;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:x0,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:yc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Wd,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:L1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(S=>tF[S-1]||nF),this.vsn){case $U:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((S,E)=>E(JSON.stringify(S))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((S,E)=>E(JSON.parse(S)));break;case NE:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Cl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sF(t,e,n){const r=new URL(e,t);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function aF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function oF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:l}){const c=sF(t.baseUrl,r,s),d=await aF(t.auth),h=await e(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),m=await h.text(),_=(h.headers.get("content-type")||"").includes("application/json"),y=_&&m?JSON.parse(m):m;if(!h.ok){const x=_?y:void 0,S=x==null?void 0:x.error;throw new Cl((S==null?void 0:S.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:x})}return{status:h.status,headers:h.headers,data:y}}}}function _c(t){return t.join("")}var lF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:_c(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_c(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_c(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_c(t.namespace)}`}),!0}catch(e){if(e instanceof Cl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Cl&&n.status===409)return;throw n}}};function Ra(t){return t.join("")}var uF=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ra(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Cl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Cl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},cF=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=oF({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new lF(this.client,e),this.tableOps=new uF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},gf=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function vf(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Tc=class extends gf{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OE=class extends gf{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const fF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},w0=t=>{if(Array.isArray(t))return t.map(n=>w0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=w0(r)}),e},dF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function pF(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mF(t){var e=pF(t,"string");return bl(e)=="symbol"?e:e+""}function gF(t,e,n){return(e=mF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){gF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const H1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vF=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Tc(H1(l),o,c,r))}).catch(()=>{if(r==="vectors"){const l=o+"";e(new Tc(s.statusText||`HTTP ${o} error`,o,l,r))}else{const l=o+"";e(new Tc(s.statusText||`HTTP ${o} error`,o,l,r))}});else{const l=o+"";e(new Tc(s.statusText||`HTTP ${o} error`,o,l,r))}}else e(new OE(H1(t),t,r))},yF=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?ze(ze({},s),n):(hF(r)?(s.headers=ze({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),ze(ze({},s),n))};async function sl(t,e,n,r,s,o,l){return new Promise((c,d)=>{t(n,yF(e,r,s,o)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>vF(h,d,r,l))})}function kE(t="storage"){return{get:async(e,n,r,s)=>sl(e,"GET",n,r,s,void 0,t),post:async(e,n,r,s,o)=>sl(e,"POST",n,s,o,r,t),put:async(e,n,r,s,o)=>sl(e,"PUT",n,s,o,r,t),head:async(e,n,r,s)=>sl(e,"HEAD",n,ze(ze({},r),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,r,s,o)=>sl(e,"DELETE",n,s,o,r,t)}}const _F=kE("storage"),{get:Rl,post:Cr,put:A0,head:TF,remove:hp}=_F,jn=kE("vectors");var so=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=fF(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(vf(n))return{data:null,error:n};throw n}}},xF=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(vf(e))return{data:null,error:e};throw e}}};let LE;LE=Symbol.toStringTag;var EF=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[LE]="BlobDownloadBuilder",this.promise=null}asStream(){return new xF(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(vf(e))return{data:null,error:e};throw e}}};const SF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wF=class extends so{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var s=this;return s.handleOperation(async()=>{let o;const l=ze(ze({},G1),r);let c=ze(ze({},s.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(c=ze(ze({},c),r.headers));const h=s._removeEmptyFolders(e),m=s._getFinalPath(h),_=await(t=="PUT"?A0:Cr)(s.fetch,`${s.url}/object/${m}`,o,ze({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:_.Id,fullPath:_.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const o=s._removeEmptyFolders(t),l=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let d;const h=ze({upsert:G1.upsert},r),m=ze(ze({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:o,fullPath:(await A0(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const s=ze({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await Cr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(n.url+o.url),c=l.searchParams.get("token");if(!c)throw new gf("No token returned by API");return{signedUrl:l.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Cr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Cr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t),o=await Cr(r.fetch,`${r.url}/object/sign/${s}`,ze({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const s=await Cr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>ze(ze({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Rl(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new EF(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>w0(await Rl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await TF(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vf(r)&&r instanceof OE){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await hp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const s=ze(ze(ze({},SF),e),{},{prefix:t||""});return await Cr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=ze({},t);return await Cr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const AF="2.95.3",Fl={"X-Client-Info":`storage-js/${AF}`};var CF=class extends so{constructor(t,e={},n,r){const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=ze(ze({},Fl),e);super(o,l,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Rl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Rl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Cr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await A0(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},bF=class extends so{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Fl),e);super(r,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Rl(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!dF(t))throw new gf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new cF({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},RF=class extends so{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Fl),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await jn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await jn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},NF=class extends so{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Fl),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},IF=class extends so{constructor(t,e={},n){const r=t.replace(/\/$/,""),s=ze(ze({},Fl),{},{"Content-Type":"application/json"},e);super(r,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await jn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},DF=class extends IF{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new MF(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},MF=class extends RF{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new OF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},OF=class extends NF{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ze(ze({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},kF=class extends CF{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new wF(this.url,this.headers,t,this.fetch)}get vectors(){return new DF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bF(this.url+"/iceberg",this.headers,this.fetch)}};const PE="2.95.3",Ua=30*1e3,C0=3,Xd=C0*Ua,LF="http://localhost:9999",PF="supabase.auth.token",UF={"X-Client-Info":`gotrue-js/${PE}`},b0="X-Supabase-Api-Version",UE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BF=600*1e3;class Nl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HF extends Nl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function GF(t){return Be(t)&&t.name==="AuthApiError"}class Cs extends Nl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vi extends Nl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Yn extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qd(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Na extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends vi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ec extends vi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VF(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class V1 extends vi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qF extends vi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class R0 extends vi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function jd(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class q1 extends vi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class N0 extends vi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z1=` 	
\r=`.split(""),zF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<z1.length;e+=1)t[z1[e].charCodeAt(0)]=-2;for(let e=0;e<Xc.length;e+=1)t[Xc[e].charCodeAt(0)]=e;return t})();function $1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xc[r]),e.queuedBits-=6}}function FE(t,e,n){const r=zF[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function J1(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{YF(l,r,n)};for(let l=0;l<t.length;l+=1)FE(t.charCodeAt(l),s,o);return e.join("")}function $F(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function JF(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$F(r,e)}}function YF(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Xa(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)FE(t.charCodeAt(s),n,r);return new Uint8Array(e)}function KF(t){const e=[];return JF(t,n=>e.push(n)),new Uint8Array(e)}function bs(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>$1(s,n,r)),$1(null,n,r),e.join("")}function WF(t){return Math.round(Date.now()/1e3)+t}function XF(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},BE=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function QF(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const HE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},an=async(t,e)=>{await t.removeItem(e)};class yf{constructor(){this.promise=new yf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}yf.promiseConstructor=Promise;function Sc(t){const e=t.split(".");if(e.length!==3)throw new N0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!FF.test(e[r]))throw new N0("JWT not in base64url format");return{header:JSON.parse(J1(e[0])),payload:JSON.parse(J1(e[1])),signature:Xa(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e8(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function t8(t){return("0"+t.toString(16)).substr(-2)}function n8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,t8).join("")}async function r8(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function i8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await r8(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ia(t,e,n=!1){const r=n8();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Fa(t,`${e}-code-verifier`,s);const o=await i8(r);return[o,r===o?"plain":"s256"]}const s8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a8(t){const e=t.headers.get(b0);if(!e||!e.match(s8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function o8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function l8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Da(t){if(!u8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function c8(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Y1(t){return JSON.parse(JSON.stringify(t))}const Ss=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),f8=[502,503,504];async function K1(t){var e;if(!jF(t))throw new R0(Ss(t),0);if(f8.includes(t.status))throw new R0(Ss(t),t.status);let n;try{n=await t.json()}catch(o){throw new Cs(Ss(o),o)}let r;const s=a8(t);if(s&&s.getTime()>=UE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new q1(Ss(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new q1(Ss(n),t.status,n.weak_password.reasons);throw new HF(Ss(n),t.status||500,r)}const h8=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function qe(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[b0]||(o[b0]=UE["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await d8(t,e,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function d8(t,e,n,r,s,o){const l=h8(e,r,s,o);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new R0(Ss(d),0)}if(c.ok||await K1(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await K1(d)}}function Ar(t){var e;let n=null;g8(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=WF(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function W1(t){const e=Ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p8(t){return{data:t,error:null}}function m8(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,l=mf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function X1(t){return t}function g8(t){return t.access_token&&t.refresh_token&&t.expires_in}const e0=["global","local","others"];class v8{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=HE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=e0[0]){if(e0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${e0.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$i})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=mf(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:X1});if(m.error)throw m.error;const _=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);h[`${w}Page`]=E}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},_),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Da(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Da(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$i})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Da(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$i})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Da(e.userId);try{const{data:n,error:r}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Da(e.userId),Da(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:X1});if(m.error)throw m.error;const _=await m.json(),y=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);h[`${w}Page`]=E}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},_),h),error:null}}catch(h){if(Be(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function Q1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ma={debug:!!(globalThis&&BE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class y8 extends GE{}async function _8(t,e,n){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ma.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function T8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function VE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function x8(t){return parseInt(t,16)}function E8(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function S8(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:m,uri:_,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=VE(t.address),S=m?`${m}://${r}`:r,E=t.statement?`${t.statement}
`:"",w=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let R=`URI: ${_}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(R+=`
Expiration Time: ${s.toISOString()}`),c&&(R+=`
Not Before: ${c.toISOString()}`),d&&(R+=`
Request ID: ${d}`),h){let O=`
Resources:`;for(const N of h){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);O+=`
- ${N}`}R+=O}return`${w}
${R}`}class qt extends Error{constructor({message:e,code:n,cause:r,name:s}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Qc extends qt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function w8({error:t,options:e}){var n,r,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(qE(l)){if(o.rp.id!==l)return new qt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function A8({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(qE(r)){if(n.rpId!==r)return new qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class C8{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const b8=new C8;function R8(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=mf(t,["challenge","user","excludeCredentials"]),o=Xa(e).buffer,l=Object.assign(Object.assign({},n),{id:Xa(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Xa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function N8(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=mf(t,["challenge","allowCredentials"]),s=Xa(e).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Xa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function I8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bs(new Uint8Array(t.response.attestationObject)),clientDataJSON:bs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function D8(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bs(new Uint8Array(s.authenticatorData)),clientDataJSON:bs(new Uint8Array(s.clientDataJSON)),signature:bs(new Uint8Array(s.signature)),userHandle:s.userHandle?bs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function j1(){var t,e;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function M8(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",e)}:{data:null,error:new Qc("Empty credential response",e)}}catch(e){return{data:null,error:w8({error:e,options:t})}}}async function O8(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",e)}:{data:null,error:new Qc("Empty credential response",e)}}catch(e){return{data:null,error:A8({error:e,options:t})}}}const k8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(e(l)){const c=r[o];e(c)?r[o]=jc(c,l):r[o]=jc(l)}else r[o]=l}return r}function P8(t,e){return jc(k8,t,e||{})}function U8(t,e){return jc(L8,t,e||{})}class F8{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},o){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const h=s??b8.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const _=r;if(_)m.name=`${m.id}:${_}`;else{const x=(await this.client.getUser()).data.user,S=((l=x==null?void 0:x.user_metadata)===null||l===void 0?void 0:l.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";m.name=`${m.id}:${S}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=P8(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:_,error:y}=await M8({publicKey:m,signal:h});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}case"request":{const m=U8(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:_,error:y}=await O8(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}}}catch(c){return Be(c)?{data:null,error:c}:{data:null,error:new Cs("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Nl("rpId is required for WebAuthn authentication")};try{if(!j1())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new Cs("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Nl("rpId is required for WebAuthn registration")};try{if(!j1())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var _;return(_=m.data)===null||_===void 0?void 0:_.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new Cs("Unexpected error in register",l)}}}}T8();const B8={url:LF,storageKey:PF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Z1(t,e,n){return await n()}const Oa={};class Il{get jwks(){var e,n;return(n=(e=Oa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},B8),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Il.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Il.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ln()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new v8({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=HE(o.fetch),this.lock=o.lock||Z1,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_8:this.lock=Z1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:BE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ln()&&(n=QF(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ln()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),VF(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?this._returnResult({error:n}):this._returnResult({error:new Cs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(Be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:m,password:_,options:y}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Ia(this.storage,this.storageKey)),o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:_,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:S},xform:Ar})}else if("phone"in e){const{phone:m,password:_,options:y}=e;o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:_,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ar})}else throw new xc("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:c}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:W1})}else if("phone"in e){const{phone:o,password:l,options:c}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:W1})}else throw new xc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Na;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,o,l,c,d,h,m,_,y;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:w,statement:R,options:O}=e;let N;if(ln())if(typeof w=="object")N=w;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")N=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const F=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),V=await N.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=VE(V[0]);let U=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const z=await N.request({method:"eth_chainId"});U=x8(z)}const Z={domain:F.host,address:ne,statement:R,uri:F.href,version:"1",chainId:U,nonce:(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=O==null?void 0:O.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=S8(Z),S=await N.request({method:"personal_sign",params:[E8(x),ne]})}try{const{data:E,error:w}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ar});if(w)throw w;if(!E||!E.session||!E.user){const R=new Na;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(Be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,s,o,l,c,d,h,m,_,y,x;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:w,wallet:R,statement:O,options:N}=e;let F;if(ln())if(typeof R=="object")F=R;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))F=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=R}const V=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const ne=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),O?{statement:O}:null));let U;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")U=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)U=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${V.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((_=(m=N==null?void 0:N.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||_===void 0)&&_.length?["Resources",...N.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const ne=await F.signMessage(new TextEncoder().encode(S),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ne}}try{const{data:w,error:R}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:bs(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ar});if(R)throw R;if(!w||!w.session||!w.user){const O=new Na;return this._returnResult({data:{user:null,session:null},error:O})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:R})}catch(w){if(Be(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await xs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qF;const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ar});if(await an(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Na;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=e,c=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ar}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new Na;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,o,l;try{if("email"in e){const{email:c,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ia(this.storage,this.storageKey));const{error:_}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:m}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new xc("You must provide either an email or phone number.")}catch(c){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ar});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ia(this.storage,this.storageKey));const h=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:p8});return!((o=h.data)===null||o===void 0)&&o.url&&ln()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yn;const{error:s}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:c}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new xc("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Xd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await xs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Zd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=c8(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async n=>{var r,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:$i})})}catch(n){if(Be(n))return Qd(n)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Yn;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ia(this.storage,this.storageKey));const{data:h,error:m}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:$i});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=Sc(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ln())throw new Ec("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ec(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new V1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ec("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new V1("No code detected.");const{data:O,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=e;if(!o||!c||!l||!h)throw new Ec("No session defined in URL");const m=Math.round(Date.now()/1e3),_=parseInt(c);let y=m+_;d&&(y=parseInt(d));const x=y-m;x*1e3<=Ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const S=y-_;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,m);const{data:E,error:w}=await this._getUser(o);if(w)throw w;const R={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:_,expires_at:y,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o&&!Qd(o))return this._returnResult({error:o});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(GF(c)&&(c.status===404||c.status===401||c.status===403)||Qd(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=XF(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ia(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,c,d,h,m;const{data:_,error:y}=o;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=_.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return ln()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Be(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:c,token:d,access_token:h,nonce:m}=e,_=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ar}),{data:y,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Na}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e8(async s=>(s>0&&await ZF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ar})),(s,o)=>{const l=200*Math.pow(2,s);return o&&jd(o)&&Date.now()+l-r<Ua})}catch(r){if(this._debug(n,"error",r),Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ln()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xs(this.storage,this.storageKey);if(s&&this.userStorage){let l=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Fa(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Zd()}else if(s&&!s.user&&!s.user){const l=await xs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await an(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,s)):s.user=Zd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Xd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),jd(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yf;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Yn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Be(o)){const l={data:null,error:o};return jd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Y1(s);await Fa(this.storage,this.storageKey,o)}else{const s=Y1(n);await Fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ua);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ua}ms, refresh threshold is ${C0} ticks`),s<=C0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof GE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ia(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?I8(e.webauthn.credential_response):D8(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:R8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:N8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,s,o;if(e)try{const{payload:x}=Sc(e);let S=null;x.aal&&(S=x.aal);let E=S;const{data:{user:w},error:R}=await this.getUser(e);if(R)return this._returnResult({data:null,error:R});((r=(n=w==null?void 0:w.factors)===null||n===void 0?void 0:n.filter(F=>F.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const N=x.amr||[];return{data:{currentLevel:S,nextLevel:E,currentAuthenticationMethods:N},error:null}}catch(x){if(Be(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Sc(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Yn});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Yn});const l=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ln()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(e){if(Be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+BF>s)return r;const{data:o,error:l}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});r=x.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=Sc(r);n!=null&&n.allowExpired||o8(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:s,signature:l},error:null}}const m=l8(s.alg),_=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,l,KF(`${c}.${d}`)))throw new N0("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}}Il.nextInstanceID={};const H8=Il,G8="2.95.3";let ll="";typeof Deno<"u"?ll="deno":typeof document<"u"?ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ll="react-native":ll="node";const V8={"X-Client-Info":`supabase-js-${ll}/${G8}`},q8={headers:V8},z8={schema:"public"},$8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J8={};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Y8(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K8(t){var e=Y8(t,"string");return Dl(e)=="symbol"?e:e+""}function W8(t,e,n){return(e=K8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){W8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const X8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q8=()=>Headers,j8=(t,e,n)=>{const r=X8(n),s=Q8();return async(o,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,Ot(Ot({},l),{},{headers:h}))}};function Z8(t){return t.endsWith("/")?t:t+"/"}function e6(t,e){var n,r;const{db:s,auth:o,realtime:l,global:c}=t,{db:d,auth:h,realtime:m,global:_}=e,y={db:Ot(Ot({},d),s),auth:Ot(Ot({},h),o),realtime:Ot(Ot({},m),l),storage:{},global:Ot(Ot(Ot({},_),c),{},{headers:Ot(Ot({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function t6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var n6=class extends H8{constructor(t){super(t)}},r6=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const o=t6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:z8,realtime:J8,auth:Ot(Ot({},$8),{},{storageKey:l}),global:q8},d=e6(n??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=j8(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new GU(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new kF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new OU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},m,_){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n6({url:this.authUrl.href,headers:Ot(Ot({},y),m),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:l,lock:c,debug:d,throwOnError:h,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iF(this.realtimeUrl.href,Ot(Ot({},t),{},{params:Ot(Ot({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const i6=(t,e,n)=>new r6(t,e,n);function s6(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}s6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a6="https://ydnipmigaantoysqywka.supabase.co",o6="sb_publishable_iQyNnjBbm0VOOqikFmiZIA_SFyZjXSr";let I0;try{I0=i6(a6,o6)}catch(t){console.error("Failed to initialize Supabase client:",t),I0={from:()=>({select:()=>({order:()=>Promise.resolve({data:[],error:{message:"Supabase client failed to initialize"}})}),insert:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}}),update:()=>({eq:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}})}),delete:()=>({eq:()=>Promise.resolve({error:{message:"Supabase client failed to initialize"}})})})}}const wc=I0,bc={fetchItems:async()=>{const{data:t,error:e}=await wc.from("items").select("*").order("updated_at",{ascending:!1});return e?(console.error("Error fetching items:",e),[]):t.map(n=>({id:n.id,name:n.name,locationPath:n.location_path,category:n.category,imageUrls:n.image_urls||[],notes:n.notes||[],updatedAt:n.updated_at}))},addItem:async t=>{const{error:e}=await wc.from("items").insert({id:t.id,name:t.name,location_path:t.locationPath,category:t.category,image_urls:t.imageUrls,notes:t.notes,updated_at:t.updatedAt});if(e)throw console.error("Error adding item:",e),e},updateItem:async t=>{const{error:e}=await wc.from("items").update({name:t.name,location_path:t.locationPath,category:t.category,image_urls:t.imageUrls,notes:t.notes,updated_at:t.updatedAt}).eq("id",t.id);if(e)throw console.error("Error updating item:",e),e},deleteItem:async t=>{const{error:e}=await wc.from("items").delete().eq("id",t);if(e)throw console.error("Error deleting item:",e),e}},l6=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:bc},Symbol.toStringTag,{value:"Module"})),u6=()=>{const{state:t,dispatch:e}=gn.useContext(Os),{items:n,searchTerm:r,sortOption:s,isAdding:o,selectedItem:l,isEditMode:c,formState:d,isAnalyzing:h,aiSearchResults:m,isSearchingAI:_,config:y,isSettingsOpen:x}=t;gn.useEffect(()=>{},[]),gn.useEffect(()=>{r||e({type:"SET_AI_SEARCH_RESULTS",payload:null})},[r,e]);const S=async ue=>{ue.preventDefault();const ye=`${d.locType} > ${d.locDetail}`,Ee={id:Date.now().toString(),name:d.itemName,locationPath:ye,category:d.itemCat,notes:d.itemNotes.split(`
`).map(fe=>fe.trim()).filter(fe=>fe),imageUrls:d.itemImages,updatedAt:Date.now()},X=[Ee,...n];e({type:"SET_ITEMS",payload:X}),e({type:"TOGGLE_ADDING",payload:!1}),e({type:"RESET_FORM"});try{await bc.addItem(Ee)}catch(fe){console.error("Failed to save to Supabase",fe),alert(`  . ( )

 : ${fe.message||JSON.stringify(fe)}`)}},E=async ue=>{if(ue.preventDefault(),!l)return;const ye=`${d.locType} > ${d.locDetail}`,Ee={...l,name:d.itemName,locationPath:ye,category:d.itemCat,notes:d.itemNotes.split(`
`).map(fe=>fe.trim()).filter(fe=>fe),imageUrls:d.itemImages,updatedAt:Date.now()},X=n.map(fe=>fe.id===l.id?Ee:fe);e({type:"SET_ITEMS",payload:X}),e({type:"SET_SELECTED_ITEM",payload:Ee}),e({type:"TOGGLE_EDIT_MODE",payload:!1});try{await bc.updateItem(Ee)}catch(fe){console.error("Failed to update in Supabase",fe),alert(`  . ( )

 : ${fe.message||JSON.stringify(fe)}`)}},w=()=>{e({type:"RESET_FORM"})},R=()=>{if(!l)return;const ue=l.locationPath.split(" > "),ye=ue.length===2&&y.locTypes.includes(ue[0])?ue[0]:y.locTypes[0]||"",Ee=ue.length===2&&y.locTypes.includes(ue[0])?ue[1]:l.locationPath;e({type:"UPDATE_FORM",payload:{itemName:l.name,locType:ye,locDetail:Ee,itemCat:l.category,itemNotes:l.notes.join(`
`),itemImages:l.imageUrls}}),e({type:"TOGGLE_EDIT_MODE",payload:!0})},O=async ue=>{e({type:"SET_IS_ANALYZING",payload:!0});try{const ye=await I4(ue),Ee={};ye.name&&(Ee.itemName=ye.name),ye.category&&(Ee.itemCat=ye.category),ye.notes&&ye.notes.length>0&&(Ee.itemNotes=d.itemNotes?`${d.itemNotes}
${ye.notes.join(`
`)}`:ye.notes.join(`
`)),e({type:"UPDATE_FORM",payload:Ee})}catch(ye){console.error("AI Analysis failed",ye)}finally{e({type:"SET_IS_ANALYZING",payload:!1})}},N=async()=>{if(d.itemName.trim()){e({type:"SET_IS_ANALYZING",payload:!0});try{const ue=await N4(d.itemName),ye={};ue.category&&(ye.itemCat=ue.category),ue.notes&&ue.notes.length>0&&(ye.itemNotes=d.itemNotes?`${d.itemNotes}
${ue.notes.join(`
`)}`:ue.notes.join(`
`)),e({type:"UPDATE_FORM",payload:ye})}catch(ue){console.error("AI Suggestion failed",ue)}finally{e({type:"SET_IS_ANALYZING",payload:!1})}}},F=(ue,ye=400,Ee=.6)=>new Promise(X=>{const fe=new Image;fe.src=ue,fe.onload=()=>{let be=fe.width,ke=fe.height;be>ke?be>ye&&(ke*=ye/be,be=ye):ke>ye&&(be*=ye/ke,ke=ye);const He=document.createElement("canvas");He.width=be,He.height=ke;const J=He.getContext("2d");J?(J.drawImage(fe,0,0,be,ke),X(He.toDataURL("image/jpeg",Ee))):X(ue)},fe.onerror=()=>X(ue)}),V=(ue,ye)=>{var X;const Ee=(X=ue.target.files)==null?void 0:X[0];if(Ee){const fe=new FileReader;fe.onloadend=async()=>{const be=fe.result,ke=await F(be,400,.6),He=[...d.itemImages];He[ye]=ke,e({type:"UPDATE_FORM",payload:{itemImages:He}}),ye===0&&O(ke)},fe.readAsDataURL(Ee)}},ne=ue=>{const ye=[...d.itemImages];ye.splice(ue,1),e({type:"UPDATE_FORM",payload:{itemImages:ye}})},U=gn.useMemo(()=>{let ue=n;if(r)if(m)ue=n.filter(ye=>m.includes(ye.name));else{const ye=r.toLowerCase();ue=n.filter(Ee=>Ee.name.toLowerCase().includes(ye)||Ee.notes.some(X=>X.toLowerCase().includes(ye))||Ee.locationPath.toLowerCase().includes(ye))}return[...ue].sort((ye,Ee)=>s==="name"?ye.name.localeCompare(Ee.name):s==="category"?ye.category.localeCompare(Ee.category):Ee.updatedAt-ye.updatedAt)},[n,r,s,m]),Z=async ue=>{if(confirm(Zc)){e({type:"SET_ITEMS",payload:n.filter(ye=>ye.id!==ue)}),(l==null?void 0:l.id)===ue&&e({type:"SET_SELECTED_ITEM",payload:null});try{await bc.deleteItem(ue)}catch(ye){console.error("Failed to delete from Supabase",ye),alert(`  . ( )

 : ${ye.message||JSON.stringify(ye)}`)}}},z=()=>{I1.exportToJson({items:n,config:y,version:1})},ae=()=>{NU(n)},ce=ue=>{var X;const ye=(X=ue.target.files)==null?void 0:X[0];if(!ye)return;const Ee=new FileReader;Ee.onload=fe=>{var be;try{const ke=JSON.parse((be=fe.target)==null?void 0:be.result),He=I1.validateAndSanitize(ke);if(He){const J=He.items.length>0?` ${He.items.length}  .
       ?`:"   . ?";confirm(J)&&(e({type:"SET_ITEMS",payload:He.items}),He.config&&e({type:"UPDATE_CONFIG",payload:He.config}),alert("  ."),e({type:"TOGGLE_SETTINGS",payload:!1}))}else alert("    .    .")}catch(ke){console.error("  :",ke),alert("    . JSON   .")}},Ee.readAsText(ye),ue.target.value=""},me=[{id:"latest",label:""},{id:"name",label:""},{id:"category",label:""}];return K.jsxs("div",{className:"fixed inset-0 bg-[#e5e5e5] flex justify-center p-4",children:[K.jsxs("div",{className:"w-full max-w-md bg-white rounded-[2rem] overflow-hidden flex flex-col border-x-4 border-b-4 border-[#e5e5e5] relative h-full ring-4 ring-white/50",children:[K.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide relative w-full bg-white",children:[K.jsxs("header",{className:"px-6 py-6 sticky top-0 z-50 flex justify-between items-center bg-white/95 backdrop-blur-sm border-b-2 border-gray-100",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("div",{className:"w-10 h-10 rounded-xl bg-duo-green flex items-center justify-center border-b-4 border-[#58a700] active:border-b-0 active:translate-y-1 transition-all",children:K.jsx("i",{className:"fas fa-box-open text-white text-lg"})}),K.jsx("h1",{className:"text-xl font-black tracking-tight text-[#4b4b4b] mt-1 font-sans",children:"WhereIsIt"})]}),K.jsx("button",{onClick:()=>e({type:"TOGGLE_SETTINGS",payload:!0}),className:"w-10 h-10 rounded-xl bg-white border-2 border-gray-200 border-b-4 text-gray-400 hover:bg-gray-50 hover:text-duo-blue active:border-b-2 active:translate-y-[2px] active:mt-[2px] transition-all flex items-center justify-center",children:K.jsx("i",{className:"fas fa-cog text-lg"})})]}),K.jsx(P4,{}),K.jsxs("div",{className:"px-6 pb-24",children:[K.jsxs("div",{className:"flex justify-between items-center mb-6 mt-2",children:[K.jsx("h3",{className:"font-extrabold text-[#4b4b4b] text-lg",children:"My Items"}),K.jsxs("div",{className:"flex gap-2",children:[K.jsx("div",{className:"flex bg-gray-100 rounded-xl p-1 border-2 border-gray-200",children:me.map(ue=>K.jsx("button",{onClick:()=>e({type:"SET_SORT_OPTION",payload:ue.id}),className:`text-xs px-3 py-1.5 rounded-lg font-bold transition-all ${s===ue.id?"bg-white text-duo-blue shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:ue.label},ue.id))}),K.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 border-2 border-gray-200",children:[K.jsx("button",{onClick:()=>e({type:"SET_VIEW_MODE",payload:"card"}),className:`p-1.5 w-8 rounded-lg transition-all flex items-center justify-center ${t.viewMode==="card"?"bg-white shadow-sm text-duo-green":"text-gray-400"}`,children:K.jsx("i",{className:"fas fa-th-large"})}),K.jsx("button",{onClick:()=>e({type:"SET_VIEW_MODE",payload:"table"}),className:`p-1.5 w-8 rounded-lg transition-all flex items-center justify-center ${t.viewMode==="table"?"bg-white shadow-sm text-duo-green":"text-gray-400"}`,children:K.jsx("i",{className:"fas fa-bars"})})]})]})]}),K.jsx(U4,{items:U})]})]}),K.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center pointer-events-none z-40",children:K.jsx("button",{onClick:()=>{w(),e({type:"TOGGLE_ADDING",payload:!0})},className:"pointer-events-auto btn-3d btn-duo-green w-16 h-16 rounded-2xl flex items-center justify-center text-2xl shadow-xl hover:scale-105 active:scale-95 transition-all border-4 border-white",children:K.jsx("i",{className:"fas fa-plus"})})})]}),o&&K.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-end justify-center backdrop-blur-sm p-4 animate-fade-in",children:K.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2rem] p-6 animate-slide-up shadow-2xl h-[90%] flex flex-col relative border-x-4 border-t-4 border-[#e5e5e5]",children:[K.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[K.jsx("button",{onClick:()=>{e({type:"TOGGLE_ADDING",payload:!1})},className:"btn-3d w-10 h-10 rounded-xl bg-white border-2 border-gray-200 text-gray-400 flex items-center justify-center hover:bg-gray-50 active:border-b-0",children:K.jsx("i",{className:"fas fa-times"})}),K.jsx("h2",{className:"text-xl font-black text-[#4b4b4b]",children:"ADD ITEM"}),K.jsx("div",{className:"w-10"})]}),K.jsx("div",{className:"overflow-y-auto flex-1 px-1 scrollbar-hide",children:K.jsx(q_,{onSubmit:S,submitLabel:"SAVE ITEM",isAnalyzing:h,performNameAnalysis:N,removeImage:ne,handleImageUpload:V})})]})}),l&&K.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-end justify-center backdrop-blur-sm p-4",children:K.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2rem] p-6 animate-slide-up shadow-2xl h-[90%] flex flex-col relative border-x-4 border-t-4 border-[#e5e5e5]",children:[K.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[K.jsx("button",{onClick:()=>{e({type:"SET_SELECTED_ITEM",payload:null}),e({type:"TOGGLE_EDIT_MODE",payload:!1})},className:"btn-3d w-10 h-10 rounded-xl bg-white border-2 border-gray-200 text-gray-400 flex items-center justify-center hover:bg-gray-50",children:K.jsx("i",{className:"fas fa-arrow-left"})}),K.jsx("h2",{className:"text-xl font-black text-[#4b4b4b]",children:c?"EDIT":"DETAILS"}),K.jsx("div",{className:"w-10"})]}),K.jsx("div",{className:"overflow-y-auto flex-1 px-1 scrollbar-hide",children:c?K.jsx(q_,{onSubmit:E,submitLabel:"UPDATE",isAnalyzing:h,performNameAnalysis:N,removeImage:ne,handleImageUpload:V}):K.jsx(F4,{item:l,onEdit:R,onDelete:()=>Z(l.id)})})]})}),K.jsx(B4,{isOpen:x,onClose:()=>e({type:"TOGGLE_SETTINGS",payload:!1}),handleExportData:z,handleExportExcel:ae,handleImportData:ce})]})},zE=document.getElementById("root");if(!zE)throw new Error("Could not find root element to mount to");class c6 extends Ba.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e,n;return this.state.hasError?K.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[K.jsx("h1",{children:"Something went wrong."}),K.jsx("pre",{children:(e=this.state.error)==null?void 0:e.toString()}),K.jsx("pre",{children:(n=this.state.error)==null?void 0:n.stack})]}):this.props.children}}const f6=lA.createRoot(zE);f6.render(K.jsx(Ba.StrictMode,{children:K.jsx(c6,{children:K.jsx(L4,{children:K.jsx(u6,{})})})}));
